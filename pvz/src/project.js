window.__require=function e(t,n,a){function o(r,s){if(!n[r]){if(!t[r]){var l=r.split("/");if(l=l[l.length-1],!t[l]){var d="function"==typeof __require&&__require;if(!s&&d)return d(l,!0);if(i)return i(l,!0);throw new Error("Cannot find module '"+r+"'")}}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return o(t[r][1][e]||e)},u,u.exports,e,t,n,a)}return n[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)o(a[r]);return o}({AudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"33b72tXU59FO4i6fM5JV1KO","AudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ResourceLoadManager"),o=e("./ConfigMgr"),i=e("../Lib/MyAudio"),r=(window.swan,function(){function e(){this.AudioVolume=1,this._audioDir={},this._poolDir={},this._loadDir={},this._recordVolume={},this._recordNeedResume=[],this._recordIDToAudioID=[],this._recordId=0,this._isMute=!1,this._playingCountDir={},this._allPlayingCountDir=0,this._waitPlayList=[],this._isPlayEffAudio=!0,this._totalTime=0,this._refreshWaitTime=.16,this._nowWaitTime=0,this._removeEffTime=.22,this._playPeakCount=4,this._voiceBlendTime=.2,this._recordAllEff={},this._effAudioClipPool={},this._nowPlayAuidoCount=0,this._recordAllAudioData=[],this._refreshResetTime=5}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.InitAudioMgr=function(){},e.prototype.changeAudioVolume=function(e){e=e>1?1:e,this.AudioVolume=e,this.setAllAudioVolume()},e.prototype.setAllAudioVolume=function(){for(var e in this._audioDir)for(var t=0;t<this._audioDir[e].length;t++){var n=this._recordIDToAudioID[this._audioDir[e][t].audioId];cc.audioEngine.setVolume(n,this.AudioVolume)}},e.prototype.setAudioVolume=function(e,t,n){var a=this.findAudioInDir(e,t);if(null!=a){var o=this._recordIDToAudioID[this._audioDir[e][a].audioId];cc.audioEngine.setVolume(o,n)}else console.log("\u97f3\u9891\u52a0\u8f7d\u51fa\u9519!")},e.prototype.findAudiosInDir=function(e){return this._audioDir[e]?this._audioDir[e]:null},e.prototype.resumeNeedLoopAudio=function(){if(!this._isMute){this.stopAllAudio(!1);for(var e=0;e<this._recordNeedResume.length;e++){var t=this._recordNeedResume[e].audioId;cc.audioEngine.stop(this._recordIDToAudioID[t]);var n=cc.audioEngine.play(this._recordNeedResume[e].data,!0,this._recordNeedResume[e].volume);this._recordIDToAudioID[t]=n}}},e.prototype.findAudioInDir=function(e,t){if(this._audioDir[e])for(var n=0;n<this._audioDir[e].length;n++)if(t==this._audioDir[e][n].audioId)return this._audioDir[e][n].audioId;return null},e.prototype._loadMp3ResourceFromClound=function(e,t,n){var a=this;void 0===t&&(t=1),void 0===n&&(n=!1),null==this._poolDir[e]&&(this._poolDir[e]=[]);var o={};return o.audioId=this._recordId,this._recordId++,cc.loader.load(e,function(i,r){i?console.log("\u52a0\u8f7d\u97f3\u9891\u8d44\u6e90\u9519\u8bef\uff01",i):(o.data=r,a._poolDir[e].push(o),a.checkWaitPlayList(e)&&(a.removeToWaitPlayList(e),a._playAudio(e,t,n)))}),o.audioId},e.prototype.addWaitPlayList=function(e){this._waitPlayList.push(e)},e.prototype.checkWaitPlayList=function(e){for(var t=0;t<this._waitPlayList.length;t++)if(e==this._waitPlayList[t])return!0;return!1},e.prototype.removeToWaitPlayList=function(e){for(var t=-1,n=0;n<this._waitPlayList.length;n++)e==this._waitPlayList[n]&&(t=n);-1!=t&&this._waitPlayList.splice(t,1)},e.prototype._loadAudioFromLoacl=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1),null==this._poolDir[e]&&(this._poolDir[e]=[]);var o=a.default.getInstance().getRes(e);if(null!=o){var i={};return i.data=o,i.audioId=this._recordId,this._recordId++,this._poolDir[e].push(i),this.checkWaitPlayList(e)&&(this.removeToWaitPlayList(e),this._playAudio(e,t,n)),i.audioId}console.log("\u52a0\u8f7d\u97f3\u9891\u8d44\u6e90\u9519\u8bef\uff01",e)},e.prototype.preLoadMp3Data=function(e,t,n,a){return void 0===t&&(t=!1),void 0===n&&(n=1),void 0===a&&(a=!1),t?this._loadAudioFromLoacl(e,n,a):this._loadMp3ResourceFromClound(e,n,a)},e.prototype.playAudio=function(e,t,n,a){return void 0===t&&(t=!1),void 0===n&&(n=1),void 0===a&&(a=!1),this._poolDir[e]&&this._poolDir[e].length>0?this._playAudio(e,n,a):(this.addWaitPlayList(e),this.preLoadMp3Data(e,t,n,a))},e.prototype.pauseAudio=function(e,t){if(null!=e)if(null!=t){var n=this.findAudioInDir(e,t);if(null!=n){var a=this._recordIDToAudioID[n];cc.audioEngine.pause(a)}else cc.error("\u97f3\u9891\u672a\u52a0\u8f7d\uff01",e)}else cc.error("\u97f3\u9891Id\u4e3a\u7a7a\uff01",e,t);else cc.error("\u97f3\u9891\u5730\u5740\u4e3a\u7a7a\uff01",e,t)},e.prototype.stopAudio=function(e,t){if(null!=e)if(null!=t){for(var n=this.findAudiosInDir(e),a=null,o=0;o<n.length;o++)if(n[o].audioId==t){a=o;break}if(null!=a){var i=this._recordIDToAudioID[n[a].audioId];cc.audioEngine.stop(i),null==this._poolDir[e]&&(this._poolDir[e]=[]),this._poolDir[e].push(n[a]),this._audioDir[e].splice(a,1),this._recordVolume[e].splice(a,1);var r=null;for(o=0;o<this._recordNeedResume.length;o++)this._recordNeedResume[o].audioId==a&&(r=o);null!=r&&this._recordNeedResume.splice(r,1)}else cc.error("\u97f3\u9891\u672a\u52a0\u8f7d\uff01",e)}else cc.error("\u97f3\u9891Id\u4e3a\u7a7a\uff01",e,t);else cc.error("\u97f3\u9891\u5730\u5740\u4e3a\u7a7a\uff01",e,t)},e.prototype.stopAllAudio=function(e){void 0===e&&(e=!0),cc.audioEngine.stopAll(),this._nowPlayAuidoCount=0,this._allPlayingCountDir=0,this._recordAllEff={},e&&(this._recordNeedResume=[])},e.prototype.pauseAllAudio=function(){cc.audioEngine.pauseAll()},e.prototype.resumeAllAudio=function(){cc.audioEngine.resumeAll()},e.prototype.resumeAudio=function(e,t){var n=this.findAudioInDir(e,t);cc.audioEngine.resume(this._recordIDToAudioID[n])},e.prototype.getNowAduioCurrentTime=function(e,t){var n=this.findAudioInDir(e,t);null!=n?cc.audioEngine.getCurrentTime(this._recordIDToAudioID[n]):console.log("\u97f3\u9891\u52a0\u8f7d\u51fa\u9519!")},e.prototype.getNowAudioAllTime=function(e,t){var n=this.findAudioInDir(e,t);null!=n?cc.audioEngine.getDuration(this._recordIDToAudioID[n]):console.log("\u97f3\u9891\u52a0\u8f7d\u51fa\u9519!")},e.prototype.setOneAudioOverCallBack=function(e,t,n){var a=this,o=this.findAudioInDir(e,t);null!=o?cc.audioEngine.setFinishCallback(this._recordIDToAudioID[o],function(){a._playOverDefaultCall(e,t),n&&n()}):console.log("\u97f3\u9891\u52a0\u8f7d\u51fa\u9519!",e,t)},e.prototype._playOverDefaultCall=function(e,t){for(var n=this.findAudiosInDir(e),a=null,o=0;o<n.length;o++)if(n[o].audioId==t){a=o;break}null!=a?(null==this._playingCountDir[e]&&cc.error("\u97f3\u9891\u7ba1\u7406\u7c7b\u5f02\u5e38!"),this._playingCountDir[e]--,this._allPlayingCountDir--,this._poolDir[e].push(this._audioDir[e][a]),this._audioDir[e].splice(a,1),this._recordVolume[e].splice(a,1)):cc.error("\u97f3\u9891\u672a\u52a0\u8f7d\uff01",e)},e.prototype._playAudio=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=!1),null==this._recordVolume[e]&&(this._recordVolume[e]=[]);var a=this._poolDir[e].pop();if(this._recordVolume[e].push(t),a.volume=t,n&&this._recordNeedResume.push(a),!this._isMute&&!(this._playingCountDir[e]&&this._playingCountDir[e]>4||this._allPlayingCountDir>10)){if(null!=this._poolDir[e]||0!=this._poolDir[e].length){var o=cc.audioEngine.play(a.data,n,t);return this._recordIDToAudioID[a.audioId]=o,null==this._audioDir[e]&&(this._audioDir[e]=[]),this._audioDir[e].push(a),this.setOneAudioOverCallBack(e,a.audioId,null),n||(null==this._playingCountDir[e]&&(this._playingCountDir[e]=0),this._playingCountDir[e]++,this._allPlayingCountDir++),a.audioId}cc.error("\u8be5\u97f3\u9891\u672a\u521d\u59cb\u5316\uff01")}},e.prototype.mute=function(e){e?(this._isMute=e,this.stopAllAudio(!1)):(this._isPlayEffAudio=!0,this._isMute=e,this.resumeNeedLoopAudio())},Object.defineProperty(e.prototype,"NowAudioState",{get:function(){return this._isMute},enumerable:!0,configurable:!0}),e.prototype.CloseAllEffAudio=function(e){this._isPlayEffAudio=!e},e.prototype.PlayEffByConfigID=function(e,t){if(!this._isMute&&this._isPlayEffAudio){if(null==this._effAudioClipPool[e]){var n=o.default.getInstance().getTableDataOne("Voice",e.toString(),"Name");this._effAudioClipPool[e]=a.default.getInstance().getRes("Mp3/"+n)}null==this._recordAllEff[e]&&(this._recordAllEff[e]=[]);var i={};i.clip=this._effAudioClipPool[e],i.volume=t,i.joinTime=this._totalTime,i.priority=o.default.getInstance().getTableDataOne("Voice",e.toString(),"Priority"),this._recordAllEff[e].push(i)}},e.prototype._refreshEffList=function(){var e=this,t=this._playPeakCount-this._nowPlayAuidoCount;for(var n in(t<=0||this._nowPlayAuidoCount<0)&&(t=this._playPeakCount),this._recordAllEff){for(var a=(l=this._recordAllEff[n]).length,o=[],r=0;r<a;r++)this._totalTime-l[r].joinTime>this._removeEffTime&&o.push(r);var s=o.length;for(r=0;r<s;r++)this._recordAllEff[n].splice(o.pop(),1)}for(var n in this._recordAllEff){var l,d=(l=this._recordAllEff[n]).length;o=[];if(!(d<2)){this._recordAllEff[n].sort(function(e,t){return e.joinTime>t.joinTime?-1:1});for(r=0;r<d;r++)l[r].joinTime-l[0].joinTime>this._voiceBlendTime&&o.push(r);for(s=o.length,r=0;r<s;r++)this._recordAllEff[n].splice(o.pop(),1)}}var u=[];for(var n in this._recordAllEff)u.push(n);u.sort(function(t,n){return e._recordAllEff[t][0]&&e._recordAllEff[n][0]&&e._recordAllEff[t][0].priority*e._recordAllEff[t].length>e._recordAllEff[n][0].priority*e._recordAllEff[n].length?1:-1});var c=u.length,h=[];for(r=0;r<c&&(0==this._recordAllEff[u[r]].length||(h.push(this._recordAllEff[u[r]].pop()),0!=--t));r++);var f=h.length;for(r=0;r<f;r++)this._nowPlayAuidoCount++,i.default.Play(h[r].clip,h[r].volume,!1,this._playAudioOverCall.bind(this))},e.prototype._refreshEffList2=function(){for(var e=this._recordAllAudioData.length,t=[],n=0;n<e;n++)this._totalTime-this._recordAllAudioData[n].joinTime>this._removeEffTime&&t.push(n);var a=t.length;for(n=0;n<a;n++)this._recordAllAudioData.splice(t.pop(),1);if(0!=this._recordAllAudioData.length){var o=this._recordAllAudioData.pop();this._nowPlayAuidoCount++,i.default.Play(o.clip,o.volume,!1,this._playAudioOverCall.bind(this))}else this._nowPlayAuidoCount=0},e.prototype._playAudioOverCall=function(){this._nowPlayAuidoCount--},e.prototype.Update=function(e){this._nowWaitTime+=e,this._totalTime+=e,this._refreshResetTime-=e,this._refreshResetTime<0&&(this._refreshResetTime=5,this._recordAllEff={},this._nowPlayAuidoCount=0),this._nowWaitTime>this._refreshWaitTime&&(this._nowWaitTime=0,this._refreshEffList())},e}());n.default=r,cc._RF.pop()},{"../Lib/MyAudio":"MyAudio","./ConfigMgr":"ConfigMgr","./ResourceLoadManager":"ResourceLoadManager"}],BaseBullet:[function(e,t,n){"use strict";cc._RF.push(t,"e8dd47MKPNNHaCXyg8MKDPX","BaseBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a,o,i=e("../../Manager/ResourceLoadManager"),r=e("../GameCtr/BulletManager"),s=e("../../Manager/ConfigMgr"),l=e("../../Manager/GameDataManager"),d=e("../GameCtr/GameControl"),u=e("../../Manager/AudioManager"),c=e("../Monster/BaseMonster"),h=e("../../Manager/EffectOrAnimationManager"),f=e("../../UI/Manager/MyMath");(function(e){e[e.NormalBullet=0]="NormalBullet",e[e.RangeBullet=1]="RangeBullet",e[e.FrozenBullet=2]="FrozenBullet",e[e.LightningBullet=3]="LightningBullet",e[e.DartsBullet=4]="DartsBullet",e[e.BoomerangBullet=5]="BoomerangBullet",e[e.ChildBullet=6]="ChildBullet",e[e.ClusterBullet=7]="ClusterBullet",e[e.RayBullet=8]="RayBullet",e[e.CircularBullet=9]="CircularBullet",e[e.RepelBullet=10]="RepelBullet",e[e.PenetrateBullet=11]="PenetrateBullet",e[e.LaserBullet=12]="LaserBullet",e[e.VineBullet=13]="VineBullet"})(a=n.BulletType||(n.BulletType={})),function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right",e[e.Other=4]="Other"}(o=n.MoveDirection||(n.MoveDirection={}));var g=function(){function e(){this.node=null,this._uuid=-1,this.isSplit=!1,this.isR_Fire=!1,this._moveRotate=0,this._recordTargetPath=-1,this._recordNowPath=-1,this._moveDistance=0,this._recordNowTowerId=-1,this._recordNowLayer=-1,this._newX=-1,this._newY=-1,this._rotationValue=0,this._recordRotate=0,this._recordIsDead=!1,this._recordQuadObj=null}return e.prototype.initData=function(e,t){this._data=s.default.getInstance().getTableDataRow("Shell",e.toString()),this.moveSpeed=this._data.Speed,this.currentDirection=o.Up,this.damage=this._data.DPS;var n=this._data.Split.split(",").map(Number);if(0!=n[0]?this.isSplit=!0:this.isSplit=!1,0!=n[0]?this.isR_Fire=!0:this.isR_Fire=!1,"0"!=this._data.Picture1){var a=i.default.getInstance().getRes("AllTexture/allTexture/Bullet/"+this._data.Picture1);if(a)this.node.getComponent(cc.Sprite).spriteFrame=a;else console.log("\u672a\u83b7\u53d6\u5230\u56fe\u7247")}else{this.node.getComponent(cc.Sprite).spriteFrame=null}this.node.setPosition(t.x,t.y),this.collisionRange=cc.v2(20,20),this._rotationValue=this._data.Spin},e.prototype.setNowLayer=function(e){this._recordNowLayer=e},e.prototype.getNowLayer=function(){return this._recordNowLayer},e.prototype.setUUID=function(e){null!=e?-1==this._uuid?this._uuid=e:console.log("\u4e0d\u53ef\u91cd\u590d\u8bbe\u7f6eUUID"):console.log("\u53c2\u6570\u4e3a\u7a7a!")},e.prototype.setChildBulletMoveDistance=function(e){this._moveDistance=e},e.prototype.getChildBulletMoveDistance=function(){return this._moveDistance},e.prototype.setThisBulletTowerId=function(e){this._recordNowTowerId=e},e.prototype.getThisBulletTowerId=function(){return this._recordNowTowerId},e.prototype.getUUID=function(){return this._uuid},e.prototype.getData=function(){return this._data},e.prototype.getIsSplit=function(){return this.isSplit},e.prototype.getIsR_Fire=function(){return this.isR_Fire},e.prototype.getNode=function(){return this.node},e.prototype.getCollisionRang=function(){return this.collisionRange},e.prototype.setCollisionRang=function(e){this.collisionRange=e},e.prototype.setNodeRotate=function(e){null!=e?this.node.rotation=e:console.log("\u53c2\u6570\u9519\u8bef")},e.prototype.setMoveRotate=function(e){this._moveRotate=e},e.prototype.getWordPos=function(){return this.node.position},e.prototype.initNode=function(e){null!=e?null==this.node?this.node=e:console.log("-------------\x3e\u91cd\u590d\u521d\u59cb\u5316\u8282\u70b9\u4fe1\u606f\uff01"):console.log("--------------\x3e\u4f20\u5165\u8282\u70b9\u4e3a\u7a7a\uff01")},e.prototype.changeMoveSpeed=function(e){null!=e?this.moveSpeed=e:console.log("------------\x3e\u6539\u53d8\u7684\u79fb\u52a8\u901f\u5ea6\u4f20\u5165\u4e3a\u7a7a\uff01")},e.prototype.getMoveSpeed=function(){return this.moveSpeed},e.prototype.getBulletNode=function(){return this.node},e.prototype.setBulletRotate=function(e){this._recordRotate=2*e*Math.PI/360,this._newX=-this.moveSpeed*Math.sin(this._recordRotate),this._newY=this.moveSpeed*Math.cos(this._recordRotate),0==this._rotationValue&&(this.node.rotation=e)},e.prototype.setBulletRotatePos=function(){0!=this._rotationValue&&(this.node.rotation+=this._rotationValue),0!=this._recordRotate?(this.node.x-=this._newX,this.node.y+=this._newY):this.node.y+=this.moveSpeed},e.prototype.setDirection=function(e){null!=e?this.currentDirection=e:console.log("\u6570\u503c\u9519\u8bef",e)},e.prototype.startMove=function(e){if(1!=this.isMoveToScreenOut()&&(this.setBulletRotatePos(),this._recordTargetPath!=this._recordNowPath)){var t=l.default.getInstance().getSomePathPosX(this._recordTargetPath);(this.node.x-t)*(this.node.x-t)>this.moveSpeed*this.moveSpeed*2&&(this.node.x=this.node.x-t>0?this.node.x-this.moveSpeed:this.node.x+this.moveSpeed)}},e.prototype.setTargetPath=function(e){this._recordTargetPath=e},e.prototype.setNowPath=function(e){this._recordNowPath=e},e.prototype.getNowPath=function(){return this._recordNowPath},e.prototype.isMoveToScreenOut=function(){var e=this.getWordPos();return e.y<0||e.y>cc.winSize.height?(this.recycleBullet(),!0):(e.x>cc.winSize.width||e.x<0)&&(this.recycleBullet(),!0)},e.prototype.setDamage=function(e){null!=e?this.damage=e:console.log("\u6570\u503c\u9519\u8bef",e)},e.prototype.getDamage=function(){return this.damage},Object.defineProperty(e.prototype,"isKill",{get:function(){return this._recordIsDead},set:function(e){this._recordIsDead=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"QuadObj",{get:function(){if(null==this._recordQuadObj){var e={},t={};e._obj=this;var n=this.getCollisionRang(),a=this.getWordPos(),o=this.node.getAnchorPoint();t.xRang=cc.v2(a.x-n.x*o.x,a.x+n.x*(1-o.x)),t.yRang=cc.v2(a.y-n.y*o.y,a.y+n.y*(1-o.y)),e._rect=t,this._recordQuadObj=e}return this._recordQuadObj},enumerable:!0,configurable:!0}),e.prototype.refreshRect=function(){var e={},t=this.getCollisionRang(),n=this.getWordPos(),a=this.node.getAnchorPoint();return e.xRang=cc.v2(n.x-t.x*a.x,n.x+t.x*(1-a.x)),e.yRang=cc.v2(n.y-t.y*a.y,n.y+t.y*(1-a.y)),e},e.prototype.recycleBullet=function(){this.isKill=!0,this.node.parent||cc.error("\u5bf9\u8c61\u7236\u8282\u70b9\u4e0d\u5b58\u5728!"),this.node.rotation=0,this.node.setAnchorPoint(.5,.5),this.node.removeFromParent(!1),r.default.getInstance().recycle(this._uuid,this.node),d.default.getInstance().removeNowIdToCollisionList(this._uuid)},e.prototype.playAudio=function(e,t){u.default.getInstance().PlayEffByConfigID(e,t)},e.prototype.defaultCollisionCall=function(e,t){if(e.monsterType==c.MonsterAllType.Shield){var n=e,o=f.default.GetInstance().FastAbs(n.getWordPos().y-this.getWordPos().y),i=f.default.GetInstance().FastAbs(n.getWordPos().x-this.getWordPos().x),r=f.default.GetInstance().FastAbs((n._hurtCollisionRang.x>>1)+(this.getCollisionRang().x>>1)),s=f.default.GetInstance().FastAbs((n._hurtCollisionRang.y>>1)+(this.getCollisionRang().y>>1));i>r||o>s?this.bullettype==a.PenetrateBullet&&this.recycleBullet():(this.playBoomAudioandEffect(e),t&&t())}else this.playBoomAudioandEffect(e),t&&t();this.bullettype!=a.PenetrateBullet&&this.recycleBullet()},e.prototype.playBoomAudioandEffect=function(e){var t=this.getWordPos(),n=this.getData(),a=n.Effect_Hit;"0"!=n.Effect_Hit&&h.default.getInstance().playAnimation(a,t);var o=e.getConfigID(),i=s.default.getInstance().transmitConfig(o,"DamageVoice"),r=s.default.getInstance().transmitConfig(o,"DamageVoice_C"),l=n.BoomVoice,d=n.BoomVoice_C;0==i?this.playAudio(l,d):this.playAudio(i,r)},e.prototype.randomNumber=function(e){for(var t=[],n=0;n<=e;n++)t.push(n);return t.sort(function(){return.5-Math.random()}),t[0]},e}();n.default=g,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager","../../UI/Manager/MyMath":"MyMath","../GameCtr/BulletManager":"BulletManager","../GameCtr/GameControl":"GameControl","../Monster/BaseMonster":"BaseMonster"}],BaseMonster:[function(e,t,n){"use strict";cc._RF.push(t,"e8001VXOg1CiIRO8WEVVlcA","BaseMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("./GuardPrefab"),i=e("../GameCtr/MonsterManager"),r=e("../../Manager/DragonManager"),s=e("../../Manager/ConfigMgr"),l=e("../../Manager/GameDataManager"),d=e("../../Manager/AudioManager"),u=e("../GameCtr/MonsterLifeBarManager"),c=e("../../UI/Manager/WordEffManager"),h=e("../../Manager/EventManager"),f=e("../../Manager/EventEnum"),g=e("../GameCtr/GameControl"),p=e("../../UI/Manager/MyMath"),_=e("./MonsterCom/FrozenPrefab"),v=e("./MonsterCom/VinePrefab");(function(e){e[e.Normal=0]="Normal",e[e.Fission=1]="Fission",e[e.Blink=2]="Blink",e[e.Cloaking=3]="Cloaking",e[e.Shield=4]="Shield",e[e.Smoke=5]="Smoke",e[e.Guard=6]="Guard",e[e.Bomb=7]="Bomb",e[e.Beckon=8]="Beckon"})(n.MonsterAllType||(n.MonsterAllType={})),function(e){e[e.One=0]="One",e[e.Two=1]="Two",e[e.Three=2]="Three",e[e.Four=3]="Four",e[e.Five=4]="Five"}(n.MonsterPath||(n.MonsterPath={})),function(e){e[e.Normal=0]="Normal",e[e.Hurt=1]="Hurt",e[e.SpeedCut=2]="SpeedCut",e[e.Frozen=3]="Frozen"}(a=n.MonsterState||(n.MonsterState={}));var I=function(){function e(){this._recordGuard=null,this._node=null,this._recordScale=1,this._isBigMonster=!1,this._isPlayWalkAnim=!1,this._uuid=-1,this._recordNawPath=-1,this._recordTargetPath=-1,this._recordMonsterDeadTime=-1,this._recordMonsterConfigId=-1,this._recordDeadDis=-1,this._recordNowIsAttack=!1,this.walkDiagonally=!1,this.DiagonallyCD=[],this.DiagonallyCDTime=-1,this._isDamageDead=!1,this._isLockScale=!1,this._stateTime=-1,this._state=-1,this._recordLaststateTime=-1,this._frozenPrefab=null,this._vinePrefab=null,this._vineTime=-1,this._callMonster=!1,this._recordCDTime=999,this._isUseSkill=!1,this._isDiagonallySkill=!1,this._recordIsDead=!1}return e.prototype.setUuid=function(e){null!=e?-1==this._uuid?this._uuid=e:console.log("\u7981\u6b62\u91cd\u590d\u8bbe\u7f6eUUID\uff01"):console.log("\u4f20\u53c2\u9519\u8bef\uff01")},e.prototype.getConfigID=function(){return this._recordMonsterConfigId},e.prototype.getUuid=function(){return this._uuid},e.prototype.initNode=function(e){null!=e?null==this._node?this._node=e:console.log("-------------\x3e\u91cd\u590d\u521d\u59cb\u5316\u8282\u70b9\u4fe1\u606f\uff01"):console.log("--------------\x3e\u4f20\u5165\u8282\u70b9\u4e3a\u7a7a\uff01")},e.prototype.getNode=function(){return this._node},e.prototype.getDragon=function(){return this._dragon},e.prototype.getIsUseSkill=function(){return this._isUseSkill},e.prototype.getWordPos=function(){return cc.v2(this._node.x+(cc.winSize.width>>1),this._node.y+(cc.winSize.height>>1))},e.prototype.getFairyWordPos=function(){return cc.v2(this._node.x+.5*cc.winSize.width,.5*cc.winSize.height-this._node.y)},e.prototype.getCollisionRang=function(){return this._collisionRange},e.prototype.getCollisionRang2=function(){return this._collisionRange2},e.prototype.setCollisionRang=function(e){null==e&&console.log("\u8bbe\u7f6e\u78b0\u649e\u8303\u56f4\u9519\u8bef"),this._collisionRange=e},e.prototype.setCollisionRang2=function(e){null==e&&console.log("\u8bbe\u7f6e\u78b0\u649e\u8303\u56f4\u9519\u8bef"),this._collisionRange2=e,this._recordDeadDis=843+.5*(this._collisionRange2.x>this._collisionRange2.y?this._collisionRange2.x:this._collisionRange2.y),this._recordDeadDis=this._recordDeadDis*this._recordDeadDis},e.prototype.initData=function(e,t){var n=this;if(this._recordMonsterConfigId=e,this._data=s.default.getInstance().getTableDataRow("Monster",e.toString()),this._moveMaxSpeed=this._data.Speed,this._moveNowSpeed=this._data.Speed,this._maxBlood=this._data.HP,this._nowBlood=this._data.HP,this.DiagonallyCD=this._data.MoonWalk.split(",").map(Number),this.DiagonallyCD.length>1){this.walkDiagonally=!0;var a=this.DiagonallyCD[0],o=this.DiagonallyCD[1],i=Math.random()*(o-a)+a;this.DiagonallyCDTime=i}else this.walkDiagonally=!1;this._dragon=this._node.getComponent(dragonBones.ArmatureDisplay),this._isPlayWalkAnim=!1;var l=s.default.getInstance().transmitConfig(e,"Bone"),d=s.default.getInstance().transmitConfig(e,"Picture"),u=s.default.getInstance().transmitConfig(e,"Anime");this._dragonAnimScale=this._data.Speed/u,this._currentDragonAnimScale=this._data.Speed/u,r.default.getInstance().loadDragonBones(this._dragon,l,d,l,"walk",0,this._dragonAnimScale),this._recordScale=this._data.Big;var c=cc.size(100,100),h=this._recordScale;this._isBigMonster=1!=h,this._node.width=c.width*h,this._node.height=c.height*h,this._node.active=!0;var f=r.default.getInstance().getDragonBonesPos(this._node,"xuetiao");this._DragonBloodPos=Math.floor((f.y-this._node.y)*h),this._node.scale=h,this.setCollisionRang(cc.v2(80,50)),this.setCollisionRang2(cc.v2(60,130)),this._node.opacity=255,this._node.color=cc.color(218,233,247),this._isDamageDead=!1,this._node.FOOT_POS_Y=function(){return n._node.y+n.returnSolePos().y*n._node.scale}},e.prototype.returnSolePos=function(){if(null==this._recordSoleValue){var e=r.default.getInstance().getDragonBonesPos(this._node,"bd");this._recordSoleValue=Math.floor(this._node.y-e.y)}return cc.v2(0,-this._recordSoleValue)},e.prototype.getSomeDragonNamePos=function(e){var t=r.default.getInstance().getDragonBonesPos(this._node,e);return cc.v2(t.x+(cc.winSize.width>>1),this._node.y+(cc.winSize.height>>1)+(t.y-this._node.y)*this._recordScale)},e.prototype.getDragonAnimScale=function(){return this._dragonAnimScale},e.prototype.setDragonAnimScale=function(e){this._currentDragonAnimScale=e,r.default.getInstance().setAnimationTimeScale(this._dragon,e)},e.prototype.lockNowDragonAnimScale=function(e){this._isLockScale=!0,this.setDragonAnimScale(e)},e.prototype.unLockDragonAnimScale=function(){this._isLockScale=!1,this.nowMonsterIsDeading()||this.setDragonAnimScale(this.getDragonAnimScale())},e.prototype.getCurrentDragonAnimScale=function(){return this._currentDragonAnimScale},e.prototype.setMonsterPath=function(e){this._recordNawPath=e;var t=l.default.getInstance().getSomePathPosX(e),n=cc.v2(t-cc.winSize.width/2,cc.winSize.height/2);this._node.setPosition(n)},e.prototype.setNowPathAndPos=function(e){if(null!=e){this._recordNawPath=e,this._recordTargetPath=e;var t=i.default.getInstance().returnPathX(this._recordNawPath);this._node.x=t}else console.log("\u8bbe\u7f6e\u822a\u9053\u9519\u8bef")},e.prototype.setIsPlayWalkAnim=function(e){this._isPlayWalkAnim=e},e.prototype.getIsPlayWalkAnim=function(){return this._isPlayWalkAnim},e.prototype.getData=function(){return this._data},e.prototype.getNowPath=function(){return this._recordNawPath},e.prototype.retuenNowPathAndTargetPath=function(){return this._recordTargetPath==this._recordNawPath},e.prototype.changeMoveSpeed=function(e,t){if(void 0===t&&(t=!1),null!=e){if(this._state!=a.Frozen&&(this._moveNowSpeed!=e||0==e)&&!(this._vineTime>0)&&(this._callMonster||(this._moveNowSpeed=e),t||(t=!this._isLockScale),e>=0&&t)){var n=e/this._data.Speed*this._dragonAnimScale;r.default.getInstance().setAnimationTimeScale(this._dragon,n),this._currentDragonAnimScale=n}}else console.log("------------\x3e\u6539\u53d8\u7684\u79fb\u52a8\u901f\u5ea6\u4f20\u5165\u4e3a\u7a7a\uff01")},e.prototype.getMoveSpeed=function(){return this._moveNowSpeed},e.prototype.getIsBigMonster=function(){return this._isBigMonster},e.prototype.getBloodPos=function(){return cc.v2(this._node.x+cc.winSize.width/2,cc.winSize.height/2-(this._node.y+this._DragonBloodPos))},e.prototype.setIsBigMonster=function(e){null!=e?this._isBigMonster=e:console.log("\u4f20\u503c\u9519\u8bef")},e.prototype.changeBlood=function(e){if(null!=e){if(e<0)e=e*(100+l.default.getInstance().getNowDamageBuffValue())*.01;if(null!=this._recordGuard)if(this._recordGuard.nowGuardValue>0)if(e>0)this._recordGuard.resumeGuardValue(e);else{var t=p.default.GetInstance().FastAbs(e);t>this._recordGuard.nowGuardValue?(this._nowBlood-=t-this._recordGuard.nowGuardValue,this._recordGuard.closeGuard()):this._recordGuard.subGuardValue(t)}else this._nowBlood+=e;else this._nowBlood+=e;u.default.getInstance().addToLifeBar(this),this._nowBlood<=0&&this.monsterDead()}else console.log("----------------\x3e\u6539\u53d8\u7684\u8840\u91cf\u4f20\u5165\u4e3a\u7a7a\uff01")},e.prototype.getNowLife=function(){return this._nowBlood},e.prototype.getMaxLife=function(){return this._maxBlood},e.prototype.playMonsterDeadAnim=function(){r.default.getInstance().playAnimation(this._dragon,"dead",1)},e.prototype.monsterDead=function(){this._isDamageDead=!0,this.finishFrozen(),this._vineTime>=0&&this.FinishVine(),i.default.getInstance().monsterDeadAndRefreshProgress();var e=s.default.getInstance().getTableDataOne("Monster",this._recordMonsterConfigId.toString(),"Money"),t=(.1*l.default.getInstance().getNowBigLevel()+1)*e;t=t*(100+l.default.getInstance().getNowAddGoldBuffValue())*.01;var n=i.default.getInstance().returnNowIsInDoubleGoldBuff();n&&(c.default.getInstance().addGoldCountShow(cc.v2(this.getFairyWordPos().x,this.getFairyWordPos().y-20),t),c.default.getInstance().addGoldCountShow(cc.v2(this.getFairyWordPos().x,this.getFairyWordPos().y+20),t)),c.default.getInstance().addGoldCountShow(this.getFairyWordPos(),t),n&&(t*=3);var a={};a.param=this.getFairyWordPos(),a.param2=t,h.default.dispatchEvent(f.EventEnum.DropGold,a);var o=s.default.getInstance().transmitConfig(this._recordMonsterConfigId,"DeathVoice"),u=s.default.getInstance().transmitConfig(this._recordMonsterConfigId,"DeathVoice_C");d.default.getInstance().PlayEffByConfigID(o,u),this._recordMonsterDeadTime=s.default.getInstance().transmitConfig(this._recordMonsterConfigId,"DeathTime"),this._collisionRange=cc.v2(0,0),r.default.getInstance().setAnimationTimeScale(this._dragon,1),this.playMonsterDeadAnim(),this._recordNowIsAttack&&i.default.getInstance().monsterDead()},e.prototype.nowMonsterIsDeading=function(){return this._recordMonsterDeadTime>0},e.prototype.monsterToRecycle=function(){this.recycleMonster()},e.prototype.normalCollisionState=function(e){this.changeBlood(-e),this.setColorState(1)},e.prototype.setStateTime=function(e){this._stateTime=e,this._recordLaststateTime=e},Object.defineProperty(e.prototype,"State",{get:function(){return this._state},enumerable:!0,configurable:!0}),e.prototype.setColorState=function(e){switch(e){case 0:if(2==this._state&&this._stateTime>0)return;if(this._stateTime=-1,this._state!=a.Frozen){this._state=0;var t=this._data.Speed;this.changeMoveSpeed(t),this._node.color=cc.color(218,233,247)}else this._node.color=cc.color(119,148,255);break;case 1:if(2==this._state&&this._stateTime>0)return;if(this._state==a.Frozen?this._node.color=cc.color(170,172,255):this._node.color=cc.color(250,250,250),this._stateTime=.2,this._state!=a.Frozen){this._state=1;t=this._data.Speed;this.changeMoveSpeed(t)}break;case 2:if(this._state==a.Frozen)return;if(2==this._state&&this._stateTime>0)return void(this._stateTime=this._recordLaststateTime);this._node.color=cc.color(119,148,255),this._state=2}},e.prototype.addGuard=function(e){if(null==this._recordGuard){this._recordGuard=new o.default;var t=this._node.getChildByName("GuardNode");this._recordGuard.initData(e,t)}else this._recordGuard.resetGuardValue();u.default.getInstance().addToLifeBar(this)},e.prototype.getNowGuardValue=function(){return null==this._recordGuard?0:this._recordGuard.nowGuardValue},e.prototype.getMaxGuardValue=function(){return null==this._recordGuard?0:this._recordGuard.maxGuardValue},e.prototype.startFrozen=function(){this.changeMoveSpeed(0,!0),this._state=a.Frozen,this.setColorState(0),null==this._frozenPrefab&&(this._frozenPrefab=new _.default),this._frozenPrefab.Frozen(this)},e.prototype.finishFrozen=function(){if(this._state==a.Frozen){this._state=a.Normal;var e=this._data.Speed;this.changeMoveSpeed(e,!0),this.setColorState(0),this._frozenPrefab.UnFrozen()}},e.prototype.startVine=function(e,t){1!=this._callMonster&&(this.nowMonsterIsDeading()||(this.changeMoveSpeed(0,!0),null==this._vinePrefab?(this._vinePrefab=new v.default,this._vineTime=t,this._vinePrefab.Vine(this,e,t)):this._vineTime<0?(this._vineTime=t,this._vinePrefab.Vine(this,e,t)):this._vineTime<t&&(this._vineTime=t)))},e.prototype.FinishVine=function(){if(null!=this._vinePrefab){this._vineTime=-1;var e=this._data.Speed;this.changeMoveSpeed(e,!0),this.IsAttack&&i.default.getInstance().monterInDeadPos(),this._vinePrefab.UnVine()}},e.prototype.setCallMonster=function(e){this._callMonster=e},e.prototype.getCallMonster=function(){return this._callMonster},e.prototype.collingSkill=function(e){this._isUseSkill||(this._recordCDTime-=e),this._recordCDTime<0&&(this._recordCDTime=this.skillCDTime,this._isUseSkill=!0,this.useSkill(),this.playSkillEff(),this.playSkillVoice())},e.prototype.refreshSkillTime=function(){this._recordCDTime=this.skillCDTime},e.prototype.walkDiagonallySkill=function(e){if(0!=this.walkDiagonally&&(0==this._isDiagonallySkill&&(this.DiagonallyCDTime-=e),this.DiagonallyCDTime<0)){var t=this.DiagonallyCD[0],n=this.DiagonallyCD[1],a=Math.random()*(n-t)+t;this.DiagonallyCDTime=a,this._isDiagonallySkill=!0,this.changeWalkDiagonallyPath()}},e.prototype.changeWalkDiagonallyPath=function(){if(0==this._isBigMonster)switch(this._recordNawPath){case 1:this._recordTargetPath=2;break;case 5:this._recordTargetPath=4;break;default:0==this.randomNumber(1)?this._recordTargetPath=this._recordNawPath-1:this._recordTargetPath=this._recordNawPath+1}else if(1==this._isBigMonster)switch(this._recordNawPath){case 1.5:this._recordTargetPath=2.5;break;case 4.5:this._recordTargetPath=3.5;break;default:0==this.randomNumber(1)?this._recordTargetPath=this._recordNawPath-1:this._recordTargetPath=this._recordNawPath+1}},e.prototype.refreshVineTime=function(e){this._vineTime>=0&&(this._vineTime-=e,this._vineTime<0&&this.FinishVine())},e.prototype.startMove=function(e){if(this._stateTime>0&&(this._stateTime-=e,this._stateTime<=0&&this.setColorState(0)),this.refreshVineTime(e),this._recordMonsterDeadTime>=0)this._recordMonsterDeadTime-=e,this._recordMonsterDeadTime<0&&this.recycleMonster();else{if(this._recordNowIsAttack||this._state==a.Frozen||this._vineTime>=0)return;if(this._recordTargetPath!=this._recordNawPath){var t=10,n=5;this._isDiagonallySkill&&(t=6,n=3);var o=l.default.getInstance().getSomePathPosX(this._recordTargetPath),i=this.getWordPos().x;(i-o)*(i-o)>this._moveNowSpeed*this._moveNowSpeed*t?(this._node.x=i-o>0?this._node.x-this._moveNowSpeed*n:this._node.x+this._moveNowSpeed*n,this._node.y-=this._moveNowSpeed):(this._isDiagonallySkill=!1,this._recordNawPath=this._recordTargetPath)}else this._node.y-=this._moveNowSpeed;this.collingSkill(e),this.isMoveToScreenOut(),this.walkDiagonallySkill(e)}},e.prototype.setTargetPath=function(e){this._recordTargetPath=e},Object.defineProperty(e.prototype,"IsAttack",{get:function(){return this._recordNowIsAttack},enumerable:!0,configurable:!0}),e.prototype.isMoveToScreenOut=function(){var e=this,t=this.getWordPos(),n=cc.v2(374,-259);t.sub(n).dot(t.sub(n))<this._recordDeadDis&&0==this._recordNowIsAttack&&(this._recordNowIsAttack=!0,r.default.getInstance().setAnimationTimeScale(this._dragon,1),this._isBigMonster?d.default.getInstance().PlayEffByConfigID(102,.7):d.default.getInstance().PlayEffByConfigID(101,.7),r.default.getInstance().playAnimation2(this._dragon,"eat",0,function(){e._isBigMonster?d.default.getInstance().PlayEffByConfigID(102,.7):d.default.getInstance().PlayEffByConfigID(101,.7)}),i.default.getInstance().monterInDeadPos()),t.y<0?this.recycleMonster():(t.x>cc.winSize.width||t.x<0)&&this.recycleMonster()},Object.defineProperty(e.prototype,"isKill",{get:function(){return this._recordIsDead},set:function(e){this._recordIsDead=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"QuadObj",{get:function(){if(null==this._recordQuadObj){var e={},t={};e._obj=this;var n=this.getCollisionRang(),a=this.getWordPos();t.xRang=cc.v2(a.x-.5*n.x,a.x+.5*n.x),t.yRang=cc.v2(a.y-.5*n.y,a.y+.5*n.y),e._rect=t,this._recordQuadObj=e}return this._recordQuadObj},enumerable:!0,configurable:!0}),e.prototype.refreshRect=function(){var e={},t=this.getCollisionRang(),n=this.getWordPos();return e.xRang=cc.v2(n.x-.5*t.x,n.x+.5*t.x),e.yRang=cc.v2(n.y-.5*t.y,n.y+.5*t.y),this._recordQuadObj._rect=e,e},e.prototype.recycleDefault=function(){this.isKill=!0,this._node.opacity=255,this._node.color=cc.Color.WHITE,g.default.getInstance().removeNowIdToCollisionList(this._uuid),this._recordGuard&&this._recordGuard.closeGuard(),this._state==a.Frozen&&this._frozenPrefab.CloseFrozenEff(),this._vinePrefab&&this._vinePrefab._CloseVine(),this._state=a.Normal,this._recordGuard=null},e.prototype.recycleMonster=function(){this.recycleDefault(),this._node.removeFromParent(!0),i.default.getInstance().recycleClass(this._uuid),i.default.getInstance().recycleNode(this._node)},e.prototype.randomNumber=function(e){for(var t=[],n=0;n<=e;n++)t.push(n);return t.sort(function(){return.5-Math.random()}),t[0]},e}();n.default=I,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DragonManager":"DragonManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../UI/Manager/MyMath":"MyMath","../../UI/Manager/WordEffManager":"WordEffManager","../GameCtr/GameControl":"GameControl","../GameCtr/MonsterLifeBarManager":"MonsterLifeBarManager","../GameCtr/MonsterManager":"MonsterManager","./GuardPrefab":"GuardPrefab","./MonsterCom/FrozenPrefab":"FrozenPrefab","./MonsterCom/VinePrefab":"VinePrefab"}],BaseServer:[function(e,t,n){"use strict";cc._RF.push(t,"9182af2r0BFmpu+rswn0Srs","BaseServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ServerManager"),o=function(){function e(){this.ReqType="POST"}return e.prototype.CheckUUID=function(e){a.default.getInstance().getUUID()==e||console.log("%c \u5f53\u524dId\u4e0e\u670d\u52a1\u5668\u8fd4\u56deid\u4e0d\u4e00\u81f4\uff01\uff01\uff01","color:#FF0000")},e.prototype.UpLoadCall=function(e){},e}();n.default=o,cc._RF.pop()},{"./ServerManager":"ServerManager"}],BaseTurret:[function(e,t,n){"use strict";cc._RF.push(t,"6090fxZHW5MXJlubRYQ08YO","BaseTurret"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.prototype.initData=function(){this.attactRate=0,this.attactDistance=0,this.turretLevel=1,this.spriteFrame=null},e.prototype.setAttactRate=function(e){null!=e?this.attactRate=e:console.log("\u6570\u503c\u9519\u8bef",e)},e.prototype.setAttactDistance=function(e){null!=e?this.attactDistance=e:console.log("\u6570\u503c\u9519\u8bef",e)},e.prototype.setTurretLevel=function(e){null!=e?this.turretLevel=e:console.log("\u6570\u503c\u9519\u8bef",e)},e.prototype.setTurretSpt=function(e){null!=e?this.spriteFrame=e:console.log("\u7cbe\u7075\u9519\u8bef",e)},e}();n.default=a,cc._RF.pop()},{}],BaseWindow:[function(e,t,n){"use strict";cc._RF.push(t,"aa197Tk7rhBvpVn2RdhGHiW","BaseWindow"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Manager/WindowManager"),o=function(){function e(){this._childWndArray=[],this._parentWnd=null,this.uniqueID=-1}return e.prototype.SetView=function(e){this._thisView?console.log("\u53ea\u53ef\u8bbe\u7f6e\u4e00\u6b21,\u4e0d\u53ef\u66f4\u6539",e):this._thisView=e},e.prototype.SetFullScreen=function(){this._thisView.makeFullScreen()},e.prototype.GetView=function(){return this._thisView},e.prototype.SetCullMask=function(e){for(var t=this._thisView._children,n=0;n<t.length;n++)t[n].node.group=e},e.prototype.GetWndLayer=function(){return this._wndLayer||(this._wndLayer=a.WindowLayer.LockWnd),this._wndLayer},e.prototype.SetWndLayer=function(e){this._wndLayer=e},e.prototype.SetChildWnd=function(e){this._childWndArray.push(e)},e.prototype.SetParentWnd=function(e){this._parentWnd=e},e.prototype.GetParentWnd=function(){return this._parentWnd},e.prototype.GetChildWnd=function(){return this._childWndArray},e.prototype.RemoveSomeChildWnd=function(e){for(var t=-1,n=0;n<this._childWndArray.length;n++)this._childWndArray[n]==e&&(t=n);-1!=t?this._childWndArray.splice(t):console.log("\u4e0d\u5b58\u5728\u7684\u5b50\u7a97\u53e3\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.SetUniqueID=function(e){-1==this.uniqueID?this.uniqueID=e>-1?e:-1:console.log("\u7981\u6b62\u591a\u6b21\u8bbe\u7f6e\u552f\u4e00\u6807\u8bc6ID\uff1a",e)},e.prototype.GetUniqueID=function(){return this.uniqueID},e.prototype.SetName=function(e){null==this._recordWndName?this._recordWndName=e:console.log("%c \u65e0\u6cd5\u591a\u6b21\u8bbe\u7f6e\u7a97\u53e3\u540d!","color:#FF0000")},e.prototype.SetType=function(e){this._recordType=e},e.prototype.CloseSelf=function(){a.default.getInstance().CloseNameWindow(this._recordWndName,this._recordType)},e}();n.default=o,cc._RF.pop()},{"../Manager/WindowManager":"WindowManager"}],BeckonMonster:[function(e,t,n){"use strict";cc._RF.push(t,"856c026aTNDJ7c9TmLoQ5b1","BeckonMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../GameCtr/MonsterManager"),r=e("../../Manager/DragonManager"),s=e("../../Manager/DelayTimeManager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Beckon,t.skillCDTime=7,t.callCount=-1,t.currentSpeed=-1,t.isStartSkill=!1,t.callCD=[],t}return __extends(t,e),t.prototype.initData=function(t){var n,a=this;e.prototype.initData.call(this,t),this.getIsBigMonster()?(n=cc.v2(200,340),this.setCollisionRang(cc.v2(220,120))):(n=cc.v2(60,140),this.setCollisionRang(cc.v2(80,80))),this.setCollisionRang2(n),this.callCD=this.getData().CallCD.split(",").map(Number);var o=this.callCD[0],i=this.callCD[1],r=Math.random()*(i-o)+o;this.skillCDTime=r,this.refreshSkillTime(),s.default.AddDelayOnce(this.skillCDTime,function(){a.isStartSkill=!0},this)},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.call=function(){var e=this,t=this.getData(),n=t.CallZombies.split(",").map(Number),a=this.getNowPath(),o=[],r=this.getNode().position.y+this.returnSolePos().y;this.callCount=t.CallCount;for(var l=0;l<this.callCount;l++){var d,u=Math.random()>.5?1:0;d=r+(80+80*Math.random());var c=cc.v2(Math.floor(a)+u,d);o.push(c)}cc.v2(374,-259),i.default.getInstance().monsterSpiltToRefershPregress(this.callCount);var h=function(t){var a=f.returnRandomMonsterId(n),r=i.default.getInstance().createMonster(a,o[t].x),l=r.getNode();l.y=cc.winSize.height,l.scale=2.5,r.changeMoveSpeed(0),0==t?f.moveTargetPOs(o[t].y,r):s.default.AddDelayOnce(.3*t,function(){e.moveTargetPOs(o[t].y,r)},f)},f=this;for(l=0;l<this.callCount;l++)h(l)},t.prototype.moveTargetPOs=function(e,t){var n=t.getNode();fgui.GTween.to2(cc.winSize.height,2.5,e,1,.5).setTarget(n).onStart(function(){},this).onUpdate(function(e){n.y=e.value.x,n.scale=e.value.y},this).onComplete(function(){var e=t.getData().Speed;t.changeMoveSpeed(e)},this)},t.prototype.returnRandomMonsterId=function(e){return e.sort(function(){return.5-Math.random()}),e[0]},t.prototype.useSkill=function(){var e=this;if(0==this._isDiagonallySkill&&1==this.isStartSkill){var t=this.callCD[0],n=this.callCD[1],a=Math.random()*(n-t)+t;this.skillCDTime=a,this._isUseSkill=!0,this.currentSpeed=this.getMoveSpeed(),this.lockNowDragonAnimScale(1),this.changeMoveSpeed(0),this.setCallMonster(!0),r.default.getInstance().playAnimation(this._dragon,"summon1",1,function(){e.call(),e._isUseSkill=!1,e.setCallMonster(!1),e.unLockDragonAnimScale(),e.changeMoveSpeed(e.currentSpeed),r.default.getInstance().playAnimation(e._dragon,"walk",0)})}else this._isUseSkill=!1},t}(a.default);n.default=l,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/DragonManager":"DragonManager","../Bullet/BaseBullet":"BaseBullet","../GameCtr/MonsterManager":"MonsterManager","./BaseMonster":"BaseMonster"}],BlinkMonster:[function(e,t,n){"use strict";cc._RF.push(t,"2a563jDMF1N6bjlYFgPGrFp","BlinkMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../../Manager/EffectOrAnimationManager"),r=e("../../Manager/DelayTimeManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Blink,t.skillCDTime=999,t.ranPath=-1,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t);var n=this.getData().Flash;this.skillCDTime=n,this.refreshSkillTime();var a=cc.v2(80,80);this.setCollisionRang(a),this.setCollisionRang2(cc.v2(60,160))},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.changePath=function(e,t){var n=-1;0==t?n=this.randomNumber(4)+1:1==t&&(n=this.randomNumber(3)+1.5),n!=e?(this.ranPath=n,this.setNowPathAndPos(n)):this.changePath(e,t)},t.prototype.useSkill=function(){var e=this;this._isUseSkill=!0;var t=this.getWordPos();i.default.getInstance().playAnimation("blink",t),r.default.AddDelayOnce(.2,function(){var t=e.getNowPath(),n=e.getIsBigMonster();e.changePath(t,n),e._isUseSkill=!1},this)},t}(a.default);n.default=s,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],BombMonster:[function(e,t,n){"use strict";cc._RF.push(t,"f4b4axABtRAk7M1H7pITo2T","BombMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../../Manager/DragonManager"),r=e("../../Manager/GameDataManager"),s=e("../../Manager/EffectOrAnimationManager"),l=e("../../Manager/EventManager"),d=e("../../Manager/EventEnum"),u=e("../../Manager/AudioManager"),c=e("../../Manager/DelayTimeManager"),h=e("../../SDK/SDKManager"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Bomb,t.skillCDTime=99,t._isSend=!1,t._attackState=!1,t._attackTarget=[],t._isAttackOver=!1,t._isRemoveMark=!1,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t),this.setCollisionRang(cc.v2(80,80)),this.setCollisionRang2(cc.v2(60,160))},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.startMove=function(t){if(!this._attackState||this.nowMonsterIsDeading()){if(e.prototype.startMove.call(this,t),!this._isSend){var n=this.getData().Detonate;if(this.getWordPos().y<n){this._attackState=!0,this._isSend=!0;var a=this._checkAttackList();this.lockNowDragonAnimScale(1),i.default.getInstance().playAnimation(this._dragon,"skill",1,this._attackAnimOverToSend.bind(this,a)),this._attackTarget.push(a[0]),this._attackTarget.push(a[1]);var o={};o.param=a[0],o.param2=a[1],o.param3=!0,l.default.dispatchEvent(d.EventEnum.AttackMarkTower,o),this._isRemoveMark=!0,u.default.getInstance().playAudio("Mp3/missile_send",!0,1)}}}else this.refreshVineTime(t)},t.prototype._checkAttackList=function(){for(var e=r.default.getInstance().getTowerData(),t=[],n=[],a=e.length,o=0;o<a;o++)e[o]>1e3?t.push(o):0==e[o]&&n.push(o);t.sort(function(e,t){return Math.random()>.5?1:-1});var i=[];for(o=0;o<2;o++)t.length>0?i.push(t.pop()):i.push(n.pop());return i},t.prototype._attackAnimOverToSend=function(e){if(!this.nowMonsterIsDeading()){this.unLockDragonAnimScale(),this._attackState=!1,this._isAttackOver=!0;var t=e.pop(),n=r.default.getInstance().getIdxTowerPos(t),a=this.getSomeDragonNamePos("xuetiao");s.default.getInstance().bezierMoveToTargetEff("roket",a,n,500,this._missilShootOverCall.bind(this,t,n));var o=e.pop(),l=r.default.getInstance().getIdxTowerPos(o);s.default.getInstance().bezierMoveToTargetEff("roket",this.getWordPos(),l,600,this._missilShootOverCall.bind(this,o,l)),i.default.getInstance().playAnimation(this._dragon,"walk2",0),u.default.getInstance().playAudio("Mp3/missile_fly",!0,.5),c.default.AddDelayOnce(.5,function(){u.default.getInstance().playAudio("Mp3/missile_fly",!0,.5)},this)}},t.prototype._missilShootOverCall=function(e,t){var n=r.default.getInstance().getSomeLayerObj(3).node;t=cc.v2(t.x+cc.winSize.width/2,t.y-cc.winSize.height/2),r.default.getInstance().GetSomeTowerBlood(e)<=1?s.default.getInstance().playAnimation3("effect_m1092",t,n,this._resetTowerData.bind(this,e)):s.default.getInstance().playAnimation3("effect_m1092_2",t,n,this._resetTowerData.bind(this,e)),l.default.dispatchEvent(d.EventEnum.DestoryTower,e),u.default.getInstance().playAudio("Mp3/missile_Bomb",!0,1),h.default.getInstance().PhoneShake(!0)},t.prototype._resetTowerData=function(e){l.default.dispatchEvent(d.EventEnum.ResetTowerData,e),this._isRemoveMark=!1},t.prototype.recycleDefault=function(){if(this._isRemoveMark){var t={};t.param=this._attackTarget[0],t.param2=this._attackTarget[1],t.param3=!1,l.default.dispatchEvent(d.EventEnum.AttackMarkTower,t)}e.prototype.recycleDefault.call(this)},t.prototype.playMonsterDeadAnim=function(){this._isSend?i.default.getInstance().playAnimation(this._dragon,"dead2"):i.default.getInstance().playAnimation(this._dragon,"dead")},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){},t}(a.default);n.default=f,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/DragonManager":"DragonManager","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],BuffListPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"90820bgpcpFwrv3R41wOxGR","BuffListPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../../Manager/ConfigMgr"),i=e("../../Manager/GameDataManager"),r=e("../../Manager/EventEnum"),s=e("../../Manager/EventManager"),l=function(e){function t(){var t=e.call(this)||this;return t._recordNowID=0,t._isOpen=!0,t}return __extends(t,e),t.prototype.onConstruct=function(){this._bgLoader=this.getChild("n4").asLoader,this._tagLoader=this.getChild("n5").asLoader,this._addScale=this.getChild("n9").asTextField,this._openLevelTxt=this.getChild("n10").asTextField,this._iconList=this.getChild("n21").asList,this._txtShowCtr=this.getController("c1"),this._txtContentCtr=this.getController("c2"),this._txtColorCtr=this.getController("c3"),this._iconList.itemRenderer=this._listRenderCall.bind(this)},t.prototype.initData=function(e){this._recordNowID=e;var t=o.default.getInstance().getTableDataRow("Helper",e.toString());this._bgLoader.url="ui://PopWnd/ui_haoyou_bg"+t.Type,this._tagLoader.url="ui://PopWnd/ui_haoyou_tag"+t.Type,this._txtContentCtr.selectedIndex=t.Type-1,this._addScale.text=t.Value+"%";var n=i.default.getInstance().getLibaryLevel();t.Unlock<=n?(this._txtShowCtr.selectedIndex=0,this._isOpen=!0):(this._txtShowCtr.selectedIndex=1,this._openLevelTxt.text="(\u901a\u8fc7\u7b2c"+t.Unlock+"\u5173\u89e3\u9501)",this.grayed=!0,this._isOpen=!1),this._iconList.numItems=t.PlayerCount;for(var a=t.PlayerCount,r=0;r<a;r++){var s=this._iconList.getChildAt(r).asCom.getChild("icon").asLoader;s.draggable=!0,s.on(fgui.Event.DRAG_START,this._onDragStartCall,this),s.on(fgui.Event.DROP,this._onDropOverCall,this)}this._refreshNowIsUnlockBuff()},t.prototype.refreshList=function(){this._iconList.numItems=this._iconList.numItems,this._refreshNowIsUnlockBuff()},t.prototype.refreshShakeIcon=function(e){if(this._isOpen)for(var t=this._iconList.numItems,n=0;n<t;n++){var a=this._iconList.getChildAt(n).asCom;"ui://PopWnd/ui_haoyou_qq"!=a.getChild("icon").asLoader.component.icon&&e?a.getTransition("t0").play(null,-1):a.getTransition("t0").stop()}},t.prototype._refreshNowIsUnlockBuff=function(){if(this._isOpen){for(var e=this._iconList.numItems,t=!0,n=0;n<e;n++){if(null==i.default.getInstance().getTrimSomeHelpData(this._recordNowID,n)){t=!1;break}}i.default.getInstance().setNowBuffOpenState(this._recordNowID,t),this.grayed=!t,this._txtColorCtr.selectedIndex=t?1:0}},t.prototype._onDragStartCall=function(e){var t=fgui.GObject.cast(e.currentTarget).asLoader;if(t.stopDrag(),this._isOpen&&"ui://PopWnd/ui_haoyou_qq"!=t.component.icon&&i.default.getInstance().getIsOpenSettingForFriends()){var n=this._iconList.getChildIndex(t.parent),a={};a.param=this._recordNowID,a.param2=n,a.param3=t.component.icon,fgui.DragDropManager.inst.startDrag(t,t.url,a)}},t.prototype._onDropOverCall=function(e,t){if(this._isOpen){var n=this._iconList.getChildIndex(e.parent),a=this._recordNowID;a==t.param&&n==t.param2||(i.default.getInstance().switchFriendsData(a,n,t.param,t.param2),s.default.dispatchEvent(r.EventEnum.RefreshIconChange,t.param),s.default.dispatchEvent(r.EventEnum.RefreshIconChange,a))}},t.prototype._removeNowIconData=function(e){console.log("--\x3e",e)},t.prototype._listRenderCall=function(e,t){var n=i.default.getInstance().getTrimSomeHelpData(this._recordNowID,e),a="";a=n?n.head_img:"ui://PopWnd/ui_haoyou_qq",t.getChild("n11").visible=!this._isOpen,t.getChild("icon").asLoader.component.icon=a},t}(fgui.GComponent);n.default=l,function(e){e[e.AddDamage=0]="AddDamage",e[e.AddGold=1]="AddGold"}(a||(a={})),cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager"}],BuildBtnPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"68f1cH9ycRPeZ44qb0/es+j","BuildBtnPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/GameDataManager"),o=e("../../Manager/ConfigMgr"),i=function(e){function t(){var t=e.call(this)||this;return t._goldIsEnough=!1,t._isCanBuild=!1,t._isGray=!1,t}return __extends(t,e),t.prototype.onConstruct=function(){this._towerIcon=this.getChild("n13").asLoader,this._needGlod=this.getChild("n12").asTextField,this._towerType=this.getChild("n19").asLoader},t.prototype.InitData=function(e){var t=a.default.getInstance().getNowMaxLevelTowerId(e),n=o.default.getInstance().getTableDataOne("Turret",t.toString(),"Unlock"),i=o.default.getInstance().getTableDataRow("Turret",n.toString()),r=a.default.getInstance().getTowerBuildPrice(n);this._needGlod.text=a.default.getInstance().returnGlodString(r);var s=i.Picture;switch(this._towerIcon.url="AllTexture/allTexture/Turret/"+s,this._towerType.visible=!1,e){case 1:this._towerType.url="ui://MainWnd/ui_putong";break;case 2:this._towerType.url="ui://MainWnd/ui_jidong";break;case 3:this._towerType.url="ui://MainWnd/ui_kuosan"}var l=a.default.getInstance().getNowIsCanBuild(),d=a.default.getInstance().getNowGolds()>=r;this._isCanBuild=l,this._goldIsEnough=d,0==this._isGray&&(this.grayed=!(l&&d)),this._recordType=e,this._recordTowerId=n,this._recordNowTowerData=i,this._recordNowBuildPrice=r},t.prototype.setIsGray=function(e){this._isGray=e},t.prototype.getIsGray=function(){return this._isGray},t.prototype.GoldChangeCall=function(){var e=a.default.getInstance().getNowGolds();this._goldIsEnough=e>=this._recordNowBuildPrice,this._RefreshBtnState()},t.prototype.SoltChangeCall=function(){this._isCanBuild=a.default.getInstance().getNowIsCanBuild(),this._RefreshBtnState()},t.prototype.TowerCountChangeCall=function(){this._isCanBuild=a.default.getInstance().getNowIsCanBuild();var e=a.default.getInstance().getTowerBuildPrice(this._recordTowerId);this._recordNowBuildPrice=e,this._needGlod.text=a.default.getInstance().returnGlodString(e);var t=a.default.getInstance().getNowGolds();this._goldIsEnough=t>=this._recordNowBuildPrice,this._RefreshBtnState()},t.prototype.TowerLevelChangeCall=function(){var e=a.default.getInstance().getNowMaxLevelTowerId(this._recordType),t=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Unlock");this._isCanBuild=a.default.getInstance().getNowIsCanBuild();var n=a.default.getInstance().getNowGolds();if(this._goldIsEnough=n>=this._recordNowBuildPrice,t==this._recordTowerId)this._RefreshBtnState();else{var i=o.default.getInstance().getTableDataRow("Turret",t.toString()),r=a.default.getInstance().getTowerBuildPrice(t);this._needGlod.text=a.default.getInstance().returnGlodString(r);var s=i.Picture;this._towerIcon.url="AllTexture/allTexture/Turret/"+s,this._goldIsEnough=n>=r,this._RefreshBtnState(),this._recordTowerId=t,this._recordNowTowerData=i,this._recordNowBuildPrice=r}},t.prototype._RefreshBtnState=function(){0==this._isGray?this.grayed=!(this._goldIsEnough&&this._isCanBuild):this.grayed=!0},t}(fgui.GButton);n.default=i,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/GameDataManager":"GameDataManager"}],BulletManager:[function(e,t,n){"use strict";cc._RF.push(t,"c4c66vuG6VJMqKbzHKDopwl","BulletManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameControl"),o=e("../../Manager/DelayTimeManager"),i=e("../../Manager/ConfigMgr"),r=e("../../Manager/GameDataManager"),s=function(){function e(){this._recordBulletClassToId={},this._recordBulletPool=[],this._recordNowAllBullet=[],this._recordBulletParentNode=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.InitData()),this._instance},e.prototype.InitData=function(){},e.prototype.registerBulletClass=function(e,t){null!=e&&null!=t?this._recordBulletClassToId[e]?console.log("\u91cd\u590d\u8fdb\u884c\u6ce8\u518c\u5b50\u5f39\u7c7b\uff01"):this._recordBulletClassToId[e]=t:console.log("\u4f20\u53c2\u9519\u8bef\uff01")},e.prototype._createNewBulletNode=function(){var e=new cc.Node;return e.addComponent(cc.Sprite),e},e.prototype.getRecordBulletPool=function(){return this._recordBulletPool},e.prototype.setBulletParentNode=function(e){null==this._recordBulletParentNode&&(this._recordBulletParentNode=e)},e.prototype.createMultiBullet=function(e,t,n,a,i,r,s,l,d){var u=this;if(r<=0||s<=0)cc.error("\u53c2\u6570\u9519\u8bef\uff01");else for(var c=0;c<r;c++){var h=c*s;0!=h?o.default.AddDelayOnce(h,function(){u.createBullet(e,t,n,a,i,l,d)},this):this.createBullet(e,t,n,a,i,l,d)}},e.prototype.createMultiBullet2=function(e,t,n,a,i,r,s,l,d,u){var c=this;if(r<=0||s<=0)cc.error("\u53c2\u6570\u9519\u8bef\uff01");else for(var h=0;h<r;h++){var f=h*s;if(0!=f)o.default.AddDelayOnce(f,function(){u?c.createBullet(e,t,n,a,i,l,d).setMonsterId(u):c.createBullet(e,t,n,a,i,l,d)},this);else if(u)this.createBullet(e,t,n,a,i,l,d).setMonsterId(u);else this.createBullet(e,t,n,a,i,l,d)}},e.prototype.createMultiMeanwhileBullet=function(e,t,n,a,i,r,s,l,d,u,c){var h=this;if(r<=0||s<=0)cc.error("\u53c2\u6570\u9519\u8bef\uff01");else for(var f=0;f<r;f++){var g=f*s;0!=g?o.default.AddDelayOnce(g,function(){h.createMeanwhileBullet(e,t,n,a,i,l,d,u,c)},this):this.createMeanwhileBullet(e,t,n,a,i,l,d,u,c)}},e.prototype.createMultiMeanwhileBullet2=function(e,t,n,a,i,r,s,l,d,u,c,h){var f=this;if(r<=0||s<=0)cc.error("\u53c2\u6570\u9519\u8bef\uff01");else for(var g=0;g<r;g++){var p=g*s;if(0!=p)o.default.AddDelayOnce(p,function(){if(h)for(var o=f.createMeanwhileBullet(e,t,n,a,i,l,d,u,c),r=o.length,s=0;s<r;s++)o[s].setMonsterId(h);else f.createMeanwhileBullet(e,t,n,a,i,l,d,u,c)},this);else if(h)for(var _=this.createMeanwhileBullet(e,t,n,a,i,l,d,u,c),v=_.length,I=0;I<v;I++)_[I].setMonsterId(h);else this.createMeanwhileBullet(e,t,n,a,i,l,d,u,c)}},e.prototype.createMeanwhileBullet=function(e,t,n,a,o,i,r,s,l){var d=[];if(!(i<2)){for(var u=r/(i-1),c=s-.5*r,h=0;h<i;h++){var f=c+h*u,g=this.createBullet(e,t,n,a,o,l,f);d.push(g)}return d}cc.error("\u53c2\u6570\u9519\u8bef\uff01")},e.prototype.createBullet=function(e,t,n,o,s,l,d){if(null!=n){var u=i.default.getInstance().getTableDataOne("Shell",n.toString(),"Type");if(null!=this._recordBulletClassToId[u]){var c=new this._recordBulletClassToId[u],h=null;h=this._recordBulletPool.length<1?this._createNewBulletNode():this._recordBulletPool.pop();var f=r.default.getInstance().getSomeLayerObj(e),g=f.getChild("newNode");if(null==g){console.log("\u672a\u83b7\u53d6\u5230\u8282\u70b9\uff0c\u65b0\u521b\u5efa!");var p=new fgui.GLoader;p.name="newNode",p.setSize(10,10),p.setPosition(0,fgui.GRoot.inst.height),f.addChildAt(p,0),g=p}return g.node.addChild(h),c.initNode(h),c.initData(n,o),c.setUUID(a.default.getInstance().returnUUID()),c.setNowPath(s),c.setThisBulletTowerId(t),c.setNowLayer(e),null!=l?c.setTargetPath(l):c.setTargetPath(s),null!=d?c.setBulletRotate(d):c.setBulletRotate(0),this._recordNowAllBullet.push(c),a.default.getInstance().Tree.InsertTree(c.QuadObj),c}console.log("\u672a\u6ce8\u518c\u7684\u5b50\u5f39Id\uff01")}else console.log("\u4f20\u53c2\u9519\u8bef\uff01")},e.prototype.getNowAllBullet=function(){return this._recordNowAllBullet},e.prototype.removeAllBullet=function(){for(var e=0,t=this._recordNowAllBullet.length;e<t;e++)null!=this._recordNowAllBullet[e]&&(this._recordNowAllBullet[e]=null,this._recordBulletPool.push(this._recordNowAllBullet[e].getNode()))},e.prototype.recycle=function(e,t){for(var n=-1,a=0,o=this._recordNowAllBullet.length;a<o;a++)if(null!=this._recordNowAllBullet[a]&&this._recordNowAllBullet[a].getUUID()==e){n=a;break}-1==n&&console.log("\u56de\u6536\u9519\u8bef"),this._recordNowAllBullet[n]=null,this._recordBulletPool.push(t)},e}();n.default=s,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/GameDataManager":"GameDataManager","./GameControl":"GameControl"}],BuyQTTCoinWnd:[function(e,t,n){"use strict";cc._RF.push(t,"66fef6DapFG95gC7oZ4CsK4","BuyQTTCoinWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../Manager/WordEffManager"),i=e("../../SDK/WeiXinAPPSDK"),r=e("../../Server/ServerManager"),s=e("../../Server/SubQutoutiaoCoinServer"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isSure=!1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){r.default.getInstance().registerServer(s.default),this._view=this.GetView(),this._closeBtn=this._view.getChild("n6").asButton,this._getRewardsBtn=this._view.getChild("n5").asButton,this._getRewardsBtn.onClick(this._OnClickGetRewardsBtn,this),this._closeBtn.onClick(this.CloseSelf,this)},t.prototype.OnOpen=function(e){this._sucCall=e,i.default.getInstance().ShowAgreeBtn=!1},t.prototype.OnClose=function(){i.default.getInstance().ShowAgreeBtn=!0},t.prototype.CloseWnd=function(){1!=this._isSure&&this.CloseSelf()},t.prototype.RefreshUI=function(e,t){o.default.getInstance().DefaultCenterWordTip(t),this._isSure=!1,0!=e&&(this.CloseSelf(),this._sucCall())},t.prototype._OnClickGetRewardsBtn=function(){1!=this._isSure&&(this._isSure=!0,r.default.getInstance().startCallServer(s.default))},t}(a.default);n.default=l,cc._RF.pop()},{"../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/ServerManager":"ServerManager","../../Server/SubQutoutiaoCoinServer":"SubQutoutiaoCoinServer","../Base/BaseWindow":"BaseWindow","../Manager/WordEffManager":"WordEffManager"}],CCInspectorPluginMsg:[function(e,t,n){"use strict";cc._RF.push(t,"fff68s/PrhIpalYYEBtort+","CCInspectorPluginMsg"),t.exports={Msg:{Test:0,GetTreeInfo:1,GetNodeInfo:2,Active:100,Position:101,Rotation:102,Scale:103,Anchor:104,Size:105,Color:106,Opacity:107,Skew:108}},cc._RF.pop()},{}],CheckAwardServer:[function(e,t,n){"use strict";cc._RF.push(t,"1afa4YqIL9C67zvN13tRYbb","CheckAwardServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=e("../UI/Manager/WindowManager"),s=e("../UI/MainUI/MainWnd"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t.prototype.SuccessCall=function(e){e={awards:[]},console.log("//CheckAwardServer.SuccessCall",e);var t=r.default.getInstance().GetWindow("MainWnd",s.default);t&&t.RefreshShareList(e.awards)},t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/select_awards",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID();var e=i.default.getInstance().getNowGolds();e=Math.round(e),this.ReqData.gold=e},t}(a.default);n.default=l,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../UI/MainUI/MainWnd":"MainWnd","../UI/Manager/WindowManager":"WindowManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],CheckIsLoadOver:[function(e,t,n){"use strict";cc._RF.push(t,"bb37djRpGFP45X0YPhAv8Ce","CheckIsLoadOver"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqType="POST",this.ReqUrl="/plantsVsZombies/is_get_resource",this.ReqData.user_id=o.default.getInstance().getUUID(),null==e&&(e=-2),this.ReqData.state=e},t.prototype.SuccessCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],CheckIsNewFriendsJoin:[function(e,t,n){"use strict";cc._RF.push(t,"9e4ebjFiqhF+afxAkvTQ5Zb","CheckIsNewFriendsJoin"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../BaseServer"),o=e("../ServerManager"),i=e("../../Manager/GameDataManager"),r=e("../../Manager/RedDotManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/check_new_help_user",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(e){(e={is_new:0},console.log("//CheckIsNewFriendsJoin.SuccessCall",e),1==e.is_new)&&(i.default.getInstance().returnNowBuffListIsNotFull()&&r.default.RefreshRedDotState("LeftList/FriendsHelpBtn",!0))},t}(a.default);n.default=s,cc._RF.pop()},{"../../Manager/GameDataManager":"GameDataManager","../../Manager/RedDotManager":"RedDotManager","../BaseServer":"BaseServer","../ServerManager":"ServerManager"}],CircularBullet:[function(e,t,n){"use strict";cc._RF.push(t,"e635bZh4W9EZbQoK4Q6x42o","CircularBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=e("../GameCtr/BulletManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.CircularBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.createChildBullet=function(){var e=this.getWordPos(),t=this.getData().Circular;e=cc.v2(e.x,e.y),i.default.getInstance().createBullet(this.getNowLayer(),this.getThisBulletTowerId(),t,e,this.getNowPath())},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.createChildBullet.bind(this))}},t}(a.default);n.default=r,cc._RF.pop()},{"../GameCtr/BulletManager":"BulletManager","../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],CloakingMonster:[function(e,t,n){"use strict";cc._RF.push(t,"5ed62nqN/hA8aQth4Eq6Esi","CloakingMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../../Manager/DelayTimeManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Cloaking,t.skillCDTime=999,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t);var n=this.getData().InvisibleCD;this.skillCDTime=n,this.refreshSkillTime();var a=cc.v2(80,70);this.setCollisionRang(a),this.setCollisionRang2(cc.v2(60,150))},t.prototype.onCollision=function(e){if(e instanceof o.default){if(1==this.getIsUseSkill())return;if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.startFrozen=function(){i.default.RemoveDelay(this._skillOver,this),this._skillOver(),e.prototype.startFrozen.call(this)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){this.getNode().opacity=140,this._isUseSkill=!0;var e=this.getData().Invisible.split(",").map(Number),t=e[0],n=e[1],a=Math.random()*(n-t)+t;i.default.AddDelayOnce(a,this._skillOver,this)},t.prototype._skillOver=function(){this.getNode().opacity=255,this._isUseSkill=!1},t}(a.default);n.default=r,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],ClusterBullet:[function(e,t,n){"use strict";cc._RF.push(t,"019b7xeMHpG7ZLqlsjblw0H","ClusterBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timer=0,t.untilTime=1,t.bullettype=a.BulletType.ClusterBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n),this.timer=0,this.untilTime=1,this.changeMoveSpeed(0);var a=cc.v2(0,0),o=this.getData().CircularRadius;a=0==o?cc.v2(60,60):cc.v2(o,o),this.setCollisionRang(a)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.startMove=function(t){e.prototype.startMove.call(this,t),this.timer+=t,this.timer>=this.untilTime&&(this.recycleBullet(),this.timer=0)},t.prototype.onCollision=function(e){e instanceof o.default&&e.monsterType==o.MonsterAllType.Cloaking&&e.getIsUseSkill()},t}(a.default);n.default=i,cc._RF.pop()},{"../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],ConfigMgr:[function(e,t,n){"use strict";cc._RF.push(t,"898c8nldh5MfJrU+t2BP5WM","ConfigMgr"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameDataManager"),o=function(){function e(){this._recordAllTable={}}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.delegateLoadCall=function(e,t,n,a){if(void 0===a&&(a=!0),e)cc.error("\u521d\u59cb\u5316\u6570\u636e\u8868\u9519\u8bef\uff01"+e);else{for(var o=0;o<t.length;o++){var i=n[o].split("/"),r=i[i.length-1];this._recordAllTable[r]=t[o].json}this.delegateLoadOverCall&&a&&this.delegateLoadOverCall()}},e.prototype.delegateLoadCall2=function(e,t,n,a){if(e)cc.error("\u521d\u59cb\u5316\u6570\u636e\u8868\u9519\u8bef\uff01"+e);else{for(var o=0;o<t.length;o++){var i=n[o].split("/"),r=i[i.length-1];this._recordAllTable[r]=t[o].json}a&&a()}},e.prototype._CheckNameIsInRecord=function(e){return!!this._recordAllTable[e]},e.prototype.getAllTableData=function(e){if(null!=e){var t=a.default.getInstance().getNowBigLevel();switch(e){case"Wave":e=t>10?"Wave2":"Wave1";break;case"Monster":e=t>10?"Monster2":"Monster1"}return this._CheckNameIsInRecord(e)?this._recordAllTable[e]:(cc.error("\u5c06\u8981\u68c0\u7d22\u7684\u6570\u636e\u8868\u540d\u4e0d\u5b58\u5728\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91:"+e),void cc.error(this._recordAllTable))}cc.error("\u5c06\u8981\u68c0\u7d22\u7684\u6570\u636e\u8868\u540d\u4e3a\u7a7a\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.getTableDataRow=function(e,t){var n=this.getAllTableData(e);if(null!=n[t])return n[t];cc.error("\u6570\u636e\u8868\u4e2d\u8be5Id\u4e0d\u5b58\u5728\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91:"+e+"&"+t)},e.prototype.getTableDataOne=function(e,t,n){var a=this.getTableDataRow(e,t);if(null!=a){if(null!=a[n])return a[n];cc.error("\u6570\u636e\u8868\u4e2d\u8be5\u7c7b\u578b\u4e0d\u5b58\u5728\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91:"+e+"&"+t+"&"+n)}},e.prototype.getResetIdTableData=function(e,t,n){if(null!=e){if(this._CheckNameIsInRecord(e)){var a=this._recordAllTable[e],o={};for(var i in a){o[a[i][t]]=a[i]}return this._recordAllTable[n]?(console.log(this._recordAllTable[n],n),void cc.error("\u91cd\u590d\u7684\u8868\u540d\uff0c\u8bf7\u91cd\u547d\u540d\uff01",n)):(this._recordAllTable[n]=o,o)}cc.error("\u5c06\u8981\u68c0\u7d22\u7684\u6570\u636e\u8868\u540d\u4e0d\u5b58\u5728\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91:"+e)}else cc.error("\u5c06\u8981\u68c0\u7d22\u7684\u6570\u636e\u8868\u540d\u4e3a\u7a7a\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.getTableColumnLength=function(e){var t=this.getAllTableData(e),n=0;for(var a in t)n++;return n},e.prototype.transmitConfig=function(e,t){var n=Math.floor(e/100)-100;return this.getTableDataOne("MonsterPub",n.toString(),t)},e}();n.default=o,cc._RF.pop()},{"./GameDataManager":"GameDataManager"}],ConnectionDefWnd:[function(e,t,n){"use strict";cc._RF.push(t,"cc5e0KXS+pDJorV+AXzsblT","ConnectionDefWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../Base/BaseWindow"),i=e("../../Server/ServerManager"),r=e("../../Server/ReConnetionServer"),s=e("../../Manager/EventManager"),l=e("../../Manager/EventEnum"),d=e("../../Server/LoginServer"),u=e("../../Server/GetOpenIDServer"),c=e("../../SDK/SDKManager"),h=e("../../Manager/GameDataManager"),f=e("../../Server/UpdateUserServer"),g=e("../../SDK/WeiXinAPPSDK"),p=e("../../Server/RefreshGuideCountServer"),_=e("../../Server/UseLotteryCountServer"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordIsLogin=0,t._recordIsDownloadMgr=null,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._connectBtn=this._view.getChild("n5").asButton,this._desText=this._view.getChild("n3").asTextField,this._connectBtn.onClick(this.ClickCall,this)},t.prototype.OnOpen=function(e){g.default.getInstance().ShowAgreeBtn=!1,s.default.dispatchEvent(l.EventEnum.PauseGame),void 0!=e&&(this._recordIsLogin=e),this._recordIsLogin==a.FindNewVersion?this.OnCheckNewVersion():this._desText.text="\u4e0e\u670d\u52a1\u5668\u5931\u53bb\u8fde\u63a5",this._connectBtn.visible=!0,s.default.addEventListener(l.EventEnum.VersionDownloadOver,this.DownloadRes,this),s.default.addEventListener(l.EventEnum.ConnectResult,this.OnListenerReconnection,this)},t.prototype.OnClose=function(){g.default.getInstance().ShowAgreeBtn=!0,i.default.getInstance()._isInReConnection=!1,s.default.dispatchEvent(l.EventEnum.ResumeGame),s.default.removeEventListener(l.EventEnum.VersionDownloadOver,this.DownloadRes,this),s.default.removeEventListener(l.EventEnum.ConnectResult,this.OnListenerReconnection,this)},t.prototype.OnListenerReconnection=function(e){e?this.CloseSelf():this._connectBtn.visible=!0},t.prototype.ClickCall=function(){switch(this._connectBtn.visible=!1,this._recordIsLogin){case a.GameDefault:i.default.getInstance().startCallServer(r.default);break;case a.LoginDefault:var e=h.default.getInstance().getWxOpenId();i.default.getInstance().startCallServer(d.default,e),this.CloseSelf();break;case a.GetCodeDefault:c.default.getInstance().getCode(function(e){i.default.getInstance().startCallServer(u.default,e)}),this.CloseSelf();break;case a.SaveUserDataDefault:c.default.getInstance().getUserInfo(function(e){i.default.getInstance().startCallServer(f.default,e)}),this.CloseSelf();break;case a.FindNewVersion:null!=this._recordIsDownloadMgr&&this._recordIsDownloadMgr.applyUpdate(),this.CloseSelf();break;case a.SaveGuideCount:i.default.getInstance().startCallServer(p.default),this.CloseSelf();break;case a.LotteryDefault:i.default.getInstance().startCallServer(_.default,0),this.CloseSelf();break;default:i.default.getInstance().startCallServer(r.default)}},t.prototype.OnCheckNewVersion=function(){this._desText.text="\u68c0\u67e5\u5230\u65b0\u7248\u672c\uff0c\u6b63\u5728\u4e3a\u4f60\u4e0b\u8f7d\u4e2d",this._connectBtn.enabled=!1},t.prototype.DownloadRes=function(e){this._connectBtn.enabled=!0,1==e.param?(this._desText.text="\u4e0b\u8f7d\u6210\u529f\uff0c\u7acb\u5373\u66f4\u65b0",this._recordIsDownloadMgr=e.param2):this._desText.text="\u4e0b\u8f7d\u5931\u8d25"},t}(o.default);n.default=v,function(e){e[e.GameDefault=0]="GameDefault",e[e.GetCodeDefault=1]="GetCodeDefault",e[e.LoginDefault=2]="LoginDefault",e[e.SaveUserDataDefault=3]="SaveUserDataDefault",e[e.FindNewVersion=4]="FindNewVersion",e[e.SaveGuideCount=5]="SaveGuideCount",e[e.LotteryDefault=6]="LotteryDefault"}(a=n.DefautState||(n.DefautState={})),cc._RF.pop()},{"../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/GetOpenIDServer":"GetOpenIDServer","../../Server/LoginServer":"LoginServer","../../Server/ReConnetionServer":"ReConnetionServer","../../Server/RefreshGuideCountServer":"RefreshGuideCountServer","../../Server/ServerManager":"ServerManager","../../Server/UpdateUserServer":"UpdateUserServer","../../Server/UseLotteryCountServer":"UseLotteryCountServer","../Base/BaseWindow":"BaseWindow"}],Const:[function(e,t,n){"use strict";cc._RF.push(t,"87dc3yjjWxNQqEUJaFuLESN","Const"),Object.defineProperty(n,"__esModule",{value:!0}),n.VERSION="1.0.0",n.bannerAdUnitId="adunit-6c194b8f78a0bf23",n.videoAdUnitId="adunit-8e421af862d54a8e",n.interAdUnitId="adunit-8c70667a39773f83",cc._RF.pop()},{}],CountPlayerDeadServer:[function(e,t,n){"use strict";cc._RF.push(t,"3b56briItpOmK2Ty0ReFeb3","CountPlayerDeadServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/pass_level_fail",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.level_id=e.param,this.ReqData.is_economic=e.param2},t.prototype.SuccessCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],DeadWnd:[function(e,t,n){"use strict";cc._RF.push(t,"8cb60wKCIpO07j3pZM3gg2i","DeadWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/GameDataManager"),i=e("../Manager/WordEffManager"),r=e("../../Game/GameCtr/MonsterManager"),s=e("../../Manager/AudioManager"),l=e("../../SDK/SDKManager"),d=e("../../Manager/ConfigMgr"),u=e("../Manager/SwitchLanguage"),c=e("../../Manager/EventManager"),h=e("../../Manager/EventEnum"),f=e("../../SDK/WeiXinAPPSDK"),g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isCanClick=!1,t._isVideo=!1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){switch(this._view=this.GetView(),this._showCom=this._view.getChild("n6").asCom,this._clickBtn=this._view.getChild("n2").asButton,this._nextLevelBtn=this._view.getChild("n1").asLoader,this._tipTxt=this._view.getChild("n11").asTextField,this._titleSpt=this._showCom.getChild("n10").asLoader,this._clickBtn.getChild("n3").visible=!1,this._nextLevelBtn.onClick(this._ClickCloseWnd,this),this._clickBtn.onClick(this._ClickBtnCall,this),u.default.GetInstance().ReturnNowLanuage()){case 0:this._titleSpt.url="ui://PopWnd/LO";break;case 1:this._titleSpt.url="ui://PopWnd/ui_tiaozhuan_shouweishibai"}},t.prototype.OnOpen=function(){f.default.getInstance().ShowAgreeBtn=!1,l.default.getInstance().showBannerAD();(new Date).getHours(),Math.random();var e=this._clickBtn.getChild("n3").asLoader,t=o.default.getInstance().getJson();e.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!1,0==t.isopen&&(e.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!0),this._isCanClick=!1,this._clickBtn.visible=!1,this._nextLevelBtn.visible=!1,this._tipTxt.visible=!1,this._ChangeScaleToOpen(),s.default.getInstance().stopAllAudio(),s.default.getInstance().playAudio("Mp3/loser",!0,.5)},t.prototype.OnClose=function(){f.default.getInstance().ShowAgreeBtn=!0,l.default.getInstance().hideBannerAD(),o.default.getInstance().setJindutiaoValue(0),s.default.getInstance().playAudio("Mp3/fightbgm",!0,.7,!0);var e=cc.find("Canvas/BG"),t=cc.find("Canvas/BG/BG2"),n=cc.find("Canvas/BG/BG3");o.default.getInstance().replaceBG(t,n,e)},t.prototype._ClickBtnCall=function(){l.default.getInstance().ShareOrAds("6",this._rewardCall,this._shareDefault,null,this)},t.prototype._shareDefault=function(){o.default.getInstance().setCurDefCallType("6");var e=o.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];i.default.getInstance().DefaultCenterWordTip(t)},t.prototype._rewardCall=function(){if(1!=o.default.getInstance().returnIsCanShare())if(1!=o.default.getInstance().getIsGroups()){this.CloseSelf(),o.default.getInstance().gameDefToResurgence();var e=o.default.getInstance().getNowLevelId();r.default.getInstance().startLevel(e);var t=d.default.getInstance().getTableDataOne("Words","14","Describe");i.default.getInstance().DefaultCenterWordTip(t)}else c.default.dispatchEvent(h.EventEnum.ShareToAnother,"6");else c.default.dispatchEvent(h.EventEnum.ShareToAnother,"6")},t.prototype._ClickCloseWnd=function(){if(this._isCanClick){this.CloseSelf();var e=o.default.getInstance().gameDefToChangeLevel();r.default.getInstance().startLevel(e)}},t.prototype._ChangeScaleToOpen=function(){var e=this;this._showCom.setScale(.8,.8),fgui.GTween.to(.8,1,.2).setTarget(this._showCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._showCom.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._showCom.setScale(1,1),e._isCanClick=!0,e._clickBtn.visible=!0,e._nextLevelBtn.visible=!0,e._tipTxt.visible=!0},this)},t}(a.default);n.default=g,cc._RF.pop()},{"../../Game/GameCtr/MonsterManager":"MonsterManager","../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/WordEffManager":"WordEffManager"}],DebugCom:[function(e,t,n){"use strict";cc._RF.push(t,"a578bO016BEVacNptvtsKu1","DebugCom"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=function(){function e(){}return e.Init=function(){var e=new fgui.GComponent;e.setSize(cc.winSize.width,cc.winSize.height),e.name="DEBUG",fgui.GRoot.inst.addChild(e),e.on(cc.Node.EventType.TOUCH_START,this.TouchBeginHandler,this),e.on(cc.Node.EventType.TOUCH_END,this.TouchEndHandler,this)},e.TouchBeginHandler=function(e,t){this._isStart=!1,null==this._recordStartPos&&(this._recordStartPos=e.getLocation(),this._recordEndPos=null)},e.TouchEndHandler=function(e,t){if(this._recordEndPos=null){this._recordEndPos=e.getLocation();var n=0,o=this._recordStartPos.x-this._recordEndPos.x,i=this._recordStartPos.y-this._recordEndPos.y;o>0&&Math.abs(o)>50&&Math.abs(i)<50&&(n=a.Left),this._recordNowDirList.push(n),this._recordStartPos=null}this._nowClearTime=0,this._isStart=!0},e.Update=function(e){this._isStart&&(this._nowClearTime+=e),this._nowClearTime>2&&(this._recordNowDirList.length=0,this._recordNowDirList=[])},e.CheckNowDir=function(){this._recordNowDirList.length=0,this._recordNowDirList=[]},e._recordNowDirList=[],e._isStart=!1,e._nowClearTime=0,e}();n.default=o,function(e){e[e.Up=0]="Up",e[e.Down=1]="Down",e[e.Left=2]="Left",e[e.Right=3]="Right"}(a||(a={})),cc._RF.pop()},{}],DelayTimeManager:[function(e,t,n){"use strict";cc._RF.push(t,"d388a/7QKpDIJRQTrKIqAL2","DelayTimeManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.AddDelayOnce=function(e,t,n){var a={};a.call=n,a.callFun=t,a.time=e,a.recordMaxTime=e,a.callCount=1,this.RecordList.push(a)},e.AddDelay=function(e,t,n,a){var o={};o.call=a,o.callFun=n,o.time=e,o.recordMaxTime=e,o.callCount=t,this.RecordList.push(o)},e.RemoveDelay=function(e,t){for(var n=0,a=!1,o=0;o<this.RecordList.length;o++)if(this.RecordList[o].call==t&&this.RecordList[o].callFun==e){a=!0,n=o;break}a&&this.RecordList.splice(n,1)},e.update=function(e){for(var t=[],n=0;n<this.RecordList.length;n++)this.RecordList[n].time-=e,this.RecordList[n].time<0&&(this.RecordList[n].callFun.apply(this.RecordList[n].call),this.RecordList[n].callCount-=1,this.RecordList[n].time=this.RecordList[n].recordMaxTime),this.RecordList[n].callCount<=0&&t.push(n);for(var a=0;a<t.length;a++)this.RecordList.splice(t[t.length-1-a],1)},e.RecordList=[],e}();n.default=a,cc._RF.pop()},{}],DragonManager:[function(e,t,n){"use strict";cc._RF.push(t,"17800WXUQ9LU6qkToSvJ+4x","DragonManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ResourceLoadManager"),o=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.loadDragonBones=function(e,t,n,o,i,r,s,l,d){switch(void 0===r&&(r=-1),void 0===s&&(s=1),void 0===l&&(l=!0),void 0===d&&(d=1),e.enableBatch=l,d){case 1:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.SHARED_CACHE);break;case 2:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.PRIVATE_CACHE);break;case 3:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.REALTIME)}e.armatureName=null,e.dragonAsset=a.default.getInstance().getRes("Dragon/Des/"+t),e.dragonAtlasAsset=a.default.getInstance().getRes("Dragon/TexDes/"+n),e.armatureName=o,e.timeScale=s,e.playAnimation(i,r)},e.prototype.deBug=function(e,t){e.debugBones=t},e.prototype.enableBatch=function(e,t){e.enableBatch=t},e.prototype.setAnimationCacheMode=function(e,t){switch(t){case 1:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.SHARED_CACHE);break;case 2:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.PRIVATE_CACHE);break;case 3:e.setAnimationCacheMode(dragonBones.ArmatureDisplay.AnimationCacheMode.REALTIME)}},e.prototype.playAnimation=function(e,t,n,a){void 0===n&&(n=-1),e.playAnimation(t,n),a&&e.addEventListener(dragonBones.EventObject.COMPLETE,function(){a(),e.removeEventListener(dragonBones.EventObject.COMPLETE)})},e.prototype.playAnimation2=function(e,t,n,a){void 0===n&&(n=-1),e.playAnimation(t,n),a&&e.addEventListener(dragonBones.EventObject.LOOP_COMPLETE,function(){a(),e.removeEventListener(dragonBones.EventObject.LOOP_COMPLETE)})},e.prototype.setAnimationTimeScale=function(e,t){(t=.1*Math.floor(10*t))<=.1&&(t=0),e.timeScale=t},e.prototype.getDragonBonesPos=function(e,t){var n=e.getComponent(dragonBones.ArmatureDisplay).armature().getBone(t).boneData;return n?cc.v2(e.x,e.y-1*n.transform.y):cc.v2(0,0)},e}();n.default=o,cc._RF.pop()},{"./ResourceLoadManager":"ResourceLoadManager"}],EffectOrAnimationManager:[function(e,t,n){"use strict";cc._RF.push(t,"82304Cr/gRA6IYr3Boci81V","EffectOrAnimationManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ResourceLoadManager"),o=e("../UI/Manager/MyMath"),i=e("./OptimizeCreateManager"),r=function(){function e(){this.effectPool={},this.currentPlayAnimArray=[],this._recordAnimationPool={},this._recordAnimationParentNode=cc.find("Canvas/AnimationNode"),this.aperturePool=[],this.apertureParent=cc.find("Canvas/apertureGroup")}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.getAnimationParent=function(){return this._recordAnimationParentNode},e.prototype.createEffectNode=function(e){var t=a.default.getInstance().getRes("Prefab/"+e);if(t)return cc.instantiate(t);console.log("\u6ca1\u6709\u8d44\u6e90",e)},e.prototype.getEffectNode=function(e,t,n,a,o){var i=this;this.effectPool[e]||(this.effectPool[e]=[]);var r=null;r=this.effectPool[e].length>2?this.effectPool[e].pop():this.createEffectNode(e);var s=this.getEffectComp(r);if(s){s.resetSystem(),r.parent=this._recordAnimationParentNode;var l=cc.winSize,d=cc.v2(n.x-l.width/2,n.y-l.height/2);return r.setPosition(d),fgui.GTween.to2(d.x,d.y,a.x-l.width/2,a.y-l.height/2,t).setTarget(r).setEase(fgui.EaseType.Linear).onUpdate(function(e){r.x=e.value.x,r.y=e.value.y},this).onComplete(function(){i.recycleEffectNode(r,e),o&&o()},this),r}},e.prototype.recycleEffectNode=function(e,t){e.removeFromParent(!1),this.effectPool[t].push(e);var n=this.getEffectComp(e);n&&n.stopSystem()},e.prototype.createAnimationNode=function(e){var t=a.default.getInstance().getRes("Prefab/"+e);if(t)return cc.instantiate(t);console.log("\u6ca1\u6709\u8d44\u6e90",e)},e.prototype.getEffectComp=function(e){if(0!=e.isValid){var t=e.getComponent(cc.ParticleSystem);if(t)return t;console.log("\u8282\u70b9\u6ca1\u6709ParticleSystem\u7ec4\u4ef6")}},e.prototype.getAnimationComp=function(e){var t=e.getComponent(cc.Animation);if(t)return t;console.log("\u8282\u70b9\u6ca1\u6709Animation\u7ec4\u4ef6")},e.prototype.playEffect=function(e,t){e.setPosition(t.x,t.y),e.active=!0,this.getEffectComp(e).resetSystem()},e.prototype.playAnimation=function(e,t,n){if(void 0===n&&(n=-1),i.default.CheckIsCanPlay(e,t)){i.default.PushNewObj(e,t),this._recordAnimationPool[e]||(this._recordAnimationPool[e]=[]);var a=null;if(null!=(a=this._recordAnimationPool[e].length>4?this._recordAnimationPool[e].pop():this.createAnimationNode(e))){0!=this._recordAnimationParentNode.isValid&&null!=this._recordAnimationParentNode||(this._recordAnimationParentNode=cc.find("Canvas/AnimationNode")),a.parent=this._recordAnimationParentNode;var o=cc.winSize;a.setPosition(t.x-o.width/2,t.y-o.height/2);var r=a.getComponent(cc.Animation),s=r.getAnimationState(e);-1!=n?r.play(e,n):r.play(e),this.currentPlayAnimArray.push(r),s.on("stop",this.removeFinishedAnim,this)}else console.log("\u9884\u5236\u52a8\u753b\u8d44\u6e90\u672a\u627e\u5230")}},e.prototype.playAnimation2=function(e,t,n,a){void 0===a&&(a=-1),this._recordAnimationPool[e]||(this._recordAnimationPool[e]=[]);var o=null;if(null!=(o=this._recordAnimationPool[e].length>4?this._recordAnimationPool[e].pop():this.createAnimationNode(e))){o.parent=this._recordAnimationParentNode;var i=cc.winSize;o.setPosition(t.x-i.width/2,t.y-i.height/2);var r=o.getComponent(cc.Animation),s=r.getAnimationState(e);-1!=a?r.play(e,a):r.play(e),this.currentPlayAnimArray.push(r),s.on("stop",this.removeFinishedAnim,this),n&&s.once("stop",n,this)}else console.log("\u9884\u5236\u52a8\u753b\u8d44\u6e90\u672a\u627e\u5230")},e.prototype.playAnimation3=function(e,t,n,a,o){void 0===o&&(o=-1),this._recordAnimationPool[e]||(this._recordAnimationPool[e]=[]);var i=null;if(null!=(i=this._recordAnimationPool[e].length>2?this._recordAnimationPool[e].pop():this.createAnimationNode(e))){i.parent=n;var r=cc.winSize;i.setPosition(t.x-r.width/2,t.y-r.height/2);var s=i.getComponent(cc.Animation),l=s.getAnimationState(e);-1!=o?s.play(e,o):s.play(e),this.currentPlayAnimArray.push(s),l.on("stop",this.removeFinishedAnim,this),a&&l.once("stop",a,this)}else console.log("\u9884\u5236\u52a8\u753b\u8d44\u6e90\u672a\u627e\u5230")},e.prototype.removeFinishedAnim=function(e,t){i.default.PopOldObj(t._clip._name);var n=this.currentPlayAnimArray.length;if(n>0)for(var a=0;a<n;a++)if(t._target.uuid==this.currentPlayAnimArray[a].uuid){var o=t._target.getClips(),r=t._target.node,s=o[0].name;return this.currentPlayAnimArray.splice(a,1),t.off("stop",this.removeFinishedAnim,this),this._recordAnimationPool[s].push(r),void r.removeFromParent(!1)}},e.prototype.pauseAllAnimation=function(){var e=this.currentPlayAnimArray.length;if(e>0)for(var t=0;t<e;t++)this.currentPlayAnimArray[t].pause()},e.prototype.pauseAnimation=function(e,t){this.getAnimationComp(e).pause(t)},e.prototype.resumeAllAnimation=function(){var e=this.currentPlayAnimArray.length;if(e>0)for(var t=0;t<e;t++)this.currentPlayAnimArray[t].resume()},e.prototype.resumeAnimation=function(e,t){this.getAnimationComp(e).resume(t)},e.prototype.stopAnimation=function(e,t){this.getAnimationComp(e).stop(t)},e.prototype.setAnimationWrapMode=function(e,t,n){var a=this.getAnimationComp(e).getAnimationState(t);switch(n){case 1:a.wrapMode=cc.WrapMode.Default;break;case 2:a.wrapMode=cc.WrapMode.Loop;break;case 3:a.wrapMode=cc.WrapMode.LoopReverse;break;case 4:a.wrapMode=cc.WrapMode.Normal;break;case 5:a.wrapMode=cc.WrapMode.PingPong;break;case 6:a.wrapMode=cc.WrapMode.PingPongReverse;break;case 7:a.wrapMode=cc.WrapMode.Reverse}},e.prototype.setAnimationPlaySpeed=function(e,t,n){this.getAnimationComp(e).getAnimationState(t).speed=n},e.prototype.returnIspause=function(e,t){return!!this.getAnimationComp(e).getAnimationState(t).isPlaying},e.prototype.stopEffect=function(e){this.getEffectComp(e).stopSystem()},e.prototype.recycleEffect=function(e,t){t&&e.setPosition(t.x,t.y),this.getEffectComp(e).stopSystem(),e.active=!1},e.prototype.recycleAnimation=function(e,t){t&&e.setPosition(t.x,t.y),e.active=!1,this.getAnimationComp(e).stop()},e.prototype.printAnimation=function(){console.log("\u52a8\u753b\u9884\u5236\u4f53\u8282\u70b9\u6c60",this._recordAnimationPool),console.log("\u5f53\u524d\u6b63\u5728\u64ad\u653e\u7684\u52a8\u753b",this.currentPlayAnimArray)},e.prototype.createAperture=function(e,t,n){this.aperturePool||(this.aperturePool=[]);var a=null,o=(a=this.aperturePool.length>2?this.aperturePool.pop():this.createAnimationNode("aperture")).height/a.width;a.width=2*t,a.height=t*o*2,a.parent=this.apertureParent;var i=cc.winSize;return a.setPosition(e.x-i.width/2,e.y-i.height/2-n),a},e.prototype.recycleApertre=function(e){e.removeFromParent(!1),this.aperturePool.push(e)},e.prototype.getMoveAnim=function(e,t,n,a,i){var r=this;this._recordAnimationPool[e]||(this._recordAnimationPool[e]=[]);var s=null;if(null!=(s=this._recordAnimationPool[e].length>2?this._recordAnimationPool[e].pop():this.createAnimationNode(e))){s.parent=this._recordAnimationParentNode;var l=o.default.GetInstance().Angle(n,a);s.rotation=l-90;var d=s.getComponent(cc.Animation);d.play(e),this.currentPlayAnimArray.push(d);var u=cc.winSize,c=cc.v2(n.x-u.width/2,n.y-u.height/2),h=n,f=t,g=h.sub(a).dot(h.sub(a));return(g=g>8e5?8e5:g)>4e5&&(g=4e5-(g-4e5)),f=(f*=g/4e5)<=t?f:t,s.setPosition(c),fgui.GTween.to2(c.x,c.y,a.x-u.width/2,a.y-u.height/2,f).setTarget(s).setEase(fgui.EaseType.Linear).onUpdate(function(e){s.x=e.value.x,s.y=e.value.y},this).onComplete(function(){r.recycleMoveAnim(s,e),i&&i()},this),s}console.log("\u9884\u5236\u52a8\u753b\u8d44\u6e90\u672a\u627e\u5230")},e.prototype.bezierMoveToTargetEff=function(e,t,n,a,i){var r=this;this._recordAnimationPool[e]||(this._recordAnimationPool[e]=[]);var s=null;if(null!=(s=this._recordAnimationPool[e].length>2?this._recordAnimationPool[e].pop():this.createAnimationNode(e))){var l=cc.v2(t.x-.5*cc.winSize.width,t.y-.5*cc.winSize.height),d=cc.v2(n.x-.5*cc.winSize.width,n.y-.5*cc.winSize.height);s.parent=this._recordAnimationParentNode;var u=l.sub(d).dot(l.sub(d)),c=(u=Math.sqrt(u))/a,h=.5*Math.random(),f=o.default.GetInstance().CountBezier2PPos(l,d,h);return l.x>d.x?f.x-=200:f.x+=200,s.active=!1,s.setPosition(l),fgui.GTween.to(0,1,c).setTarget(s).setEase(fgui.EaseType.Linear).onStart(function(){s.active=!0;var t=s.getComponent(cc.Animation);t.play(e),r.currentPlayAnimArray.push(t)},this).onUpdate(function(e){var t=o.default.GetInstance().Bezier2(l,d,f,e.value.x);s.setPosition(t)},this).onComplete(function(){r.recycleMoveAnim(s,e),i&&i()},this),s}console.log("\u9884\u5236\u52a8\u753b\u8d44\u6e90\u672a\u627e\u5230")},e.prototype.recycleMoveAnim=function(e,t){e.rotation=0;var n=e.getComponent(cc.Animation),a=n.getAnimationState(t),o=this.currentPlayAnimArray.length;if(o>0)for(var i=0;i<o;i++)if(a._target.uuid==this.currentPlayAnimArray[i].uuid){var r=a._target.getClips(),s=a._target.node,l=r[0].name;return this.currentPlayAnimArray.splice(i,1),this._recordAnimationPool[l].push(s),n.stop(t),void s.removeFromParent(!1)}},e}();n.default=r,cc._RF.pop()},{"../UI/Manager/MyMath":"MyMath","./OptimizeCreateManager":"OptimizeCreateManager","./ResourceLoadManager":"ResourceLoadManager"}],EventEnum:[function(e,t,n){"use strict";var a;cc._RF.push(t,"8028apb+ZBJSZ2S58HUiIMB","EventEnum"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.ClickStartGame=0]="ClickStartGame",e[e.AgreeAuthorization=1]="AgreeAuthorization",e[e.AddSomeTower=2]="AddSomeTower",e[e.PauseGame=3]="PauseGame",e[e.ResumeGame=4]="ResumeGame",e[e.GoldChange=5]="GoldChange",e[e.TowerLevelChange=6]="TowerLevelChange",e[e.TowerCountChange=7]="TowerCountChange",e[e.TowerSoltChange=8]="TowerSoltChange",e[e.PlayDefeated=9]="PlayDefeated",e[e.PlaySuccess=10]="PlaySuccess",e[e.DropGold=11]="DropGold",e[e.StartLevel=12]="StartLevel",e[e.ClearScene=13]="ClearScene",e[e.VersionDownloadOver=14]="VersionDownloadOver",e[e.OtherJoinAward=15]="OtherJoinAward",e[e.ShareOnRight=16]="ShareOnRight",e[e.RefreshLevelTag=17]="RefreshLevelTag",e[e.ConnectResult=18]="ConnectResult",e[e.CreateBuff=19]="CreateBuff",e[e.UseBuff=20]="UseBuff",e[e.ServerToBuff=21]="ServerToBuff",e[e.CreatePlantBox=22]="CreatePlantBox",e[e.DataThird=23]="DataThird",e[e.ShareDefualt=24]="ShareDefualt",e[e.DestoryTower=25]="DestoryTower",e[e.ResetLotteryCount=26]="ResetLotteryCount",e[e.ResetTowerData=27]="ResetTowerData",e[e.ShareToAnother=28]="ShareToAnother",e[e.RefreshBuffCount=29]="RefreshBuffCount",e[e.AttackMarkTower=30]="AttackMarkTower",e[e.RefreshIconChange=31]="RefreshIconChange",e[e.NewFriendsJoin=32]="NewFriendsJoin",e[e.RefreshAgreeBtnPos=33]="RefreshAgreeBtnPos",e[e.GuideOver=34]="GuideOver",e[e.ResetFrozen=35]="ResetFrozen",e[e.HideQiandao=36]="HideQiandao"}(a||(a={})),n.EventEnum=a,cc._RF.pop()},{}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"c905fE3JqlLPK80Vz3OUdVZ","EventManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.printAllEvent=function(){console.log(this.eventDic)},e.dispatchEvent=function(e,t){var n,a,o=this.eventDic[e];if(o)for(var i=0;i<o.length;i++){var r=o[i];n=r.listener,a=r.thisObj,void 0!=t?n.apply(a,[t]):n.apply(a)}else console.log("%c \u6ca1\u6709\u76d1\u542c\u8be5\u4e8b\u4ef6\u7684\u51fd\u6570!,"+e,"color:#FF0000")},e.addEventListener=function(e,t,n){var a=this.eventDic[e];if(a)for(var o=0;o<a.length;o++){var i=a[o];if(i.listener==t&&i.thisObj==n)return void console.log("%c \u4e8b\u4ef6\u91cd\u590d\u6ce8\u518c!"+e,"color:#FF0000")}else this.eventDic[e]=[];var r={};r.listener=t,r.thisObj=n,this.eventDic[e].push(r)},e.removeEventListener=function(e,t,n){var a=this.eventDic[e];if(null!=a){for(var o=[],i=0;i<a.length;i++)a[i].listener==t&&a[i].thisObj==n&&o.push(i);for(i=o.length-1;i>=0;i--)this.eventDic[e].splice(o[i],1)}},e.removeAllEventListener=function(e){for(var t=0;t<this.eventDic.length;t++){for(var n=[],a=0;a<this.eventDic[t].length;a++)this.eventDic[t][a].thisObj==e&&n.push(a);for(var o=n.length-1;o>=0;o--)this.eventDic[t].splice(n[o],1)}},e.eventDic=[],e}();n.default=a,cc._RF.pop()},{}],FaceBookSDK:[function(e,t,n){"use strict";var a;cc._RF.push(t,"2b9a3gAvStIxZ7q3tfXwmYc","FaceBookSDK"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Friends=0]="Friends",e[e.Space=1]="Space"}(a||(a={})),n.AdsId=["2640684665955622_2640687345955354","2640684665955622_2640879142602841","2640684665955622_2640879719269450","2640684665955622_2640879965936092","2640684665955622_2640880649269357","2640684665955622_2640881165935972","2640684665955622_2640881655935923","2640684665955622_2640881955935893","2640684665955622_2640882245935864","2640684665955622_2640882625935826","2640684665955622_2640883162602439","2640684665955622_2640894772601278"];var o=function(){function e(){this.FBInstant=window.FBInstant,this._recordShareData=null,this.videos=[],this.isShow=!1}return e.prototype.getPlayerName=function(){return void 0===this._playerName&&(this._playerName=this.FBInstant.player.getName()),this._playerName},e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.share=function(e,t,n,a,o){this.FBInstant.shareAsync({intent:"SHARE",image:e,text:t,data:o}).then(function(){n.call(a)})},e.prototype.sendMessageToFriends=function(e,t,n){var o=this;n&&(n.ShareType=a.Friends,n.ShareId=this.getPlayerID()),this.FBInstant.player.chooseAsync().then(function(){o.FBInstant.updateAsync({action:"CUSTOM",cta:"Play",image:e,text:t,template:"VILLAGE_INVASION",data:n,strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("\u53d1\u9001\u6d88\u606f\u6210\u529f")}).catch(function(){console.log("\u8c03\u7528\u5931\u8d25")})})},e.prototype.getPlayerIcon=function(){return this._playerIcon||(this._playerIcon=this.FBInstant.player.getPhoto()),this._playerIcon},e.prototype.getPlayerID=function(){return this._playerId||(this._playerId=this.FBInstant.player.getID()),this._playerId},e.prototype.getNowPlatform=function(){return this._platform||(this._platform=this.FBInstant.getPlatform()),this._platform},e.prototype.jumpToOtherGame=function(e){this.FBInstant.switchGameAsync(e).catch(function(e){console.log("\u8df3\u8f6c\u6e38\u620f\u5931\u8d25\uff01,",e)})},e.prototype.getPlayerEntry=function(){this.FBInstant.getLeaderboardAsync("my_awesome_leaderboard."+this.FBInstant.player.getID()).then(function(e){return e.getPlayerEntryAsync()}).then(function(e){return e})},e.prototype.setScore=function(e){var t=this;this.getPlayerName(),this.getPlayerIcon(),this.FBInstant.getLeaderboardAsync(e.rankName+"."+this.FBInstant.player.getID()).then(function(n){var a={name:t._playerName,headUrl:t._playerIcon,userId:e.userId};n.setScoreAsync(e.score,JSON.stringify(a))})},e.prototype.getEntries=function(e,t){this.FBInstant.getLeaderboardAsync(e+"."+this.FBInstant.player.getID()).then(function(e){return e.getEntriesAsync(100,0)}).then(function(e){t(e)})},e.prototype.getAdsId=function(){this.FBInstant.getPlacementID()},e.prototype.preloadAds=function(){this.FBInstant.getInterstitialAdAsync(this.getAdsId()).then(function(e){return e.loadAsync()}).catch(function(e){console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff01",e)}).then(function(){console.log("\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6bd5")}).catch(function(e){console.log("\u5e7f\u544a\u64ad\u653e\u5931\u8d25\uff01",e)})},e.prototype.loadSyne=function(e){var t=this,a=n.AdsId[e],o=null;this.FBInstant.getRewardedVideoAsync(a).then(function(e){return(o=e).loadAsync()}).then(function(){console.log("\u52a0\u8f7d\u5e7f\u544a\u5b8c\u6210"),t.videos.unshift(o)}).catch(function(e){console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25",e)})},e.prototype.showSync=function(e,t,n){var a=this;if(this.loadSyne(n),!this.isShow){var o=this.videos.pop();o?(this.isShow=!0,o.showAsync().then(function(){a.isShow=!1,console.log("\u64ad\u653e\u5e7f\u544a\u5b8c\u6210"),e()}).catch(function(e){a.isShow=!1,t(),console.log("\u64ad\u653e\u5e7f\u544a\u5931\u8d25",e)})):console.log("\u6ca1\u6709\u5e7f\u544a")}},e.prototype.getShareLoadData=function(){return null==this._recordShareData&&(this._recordShareData=this.FBInstant.getEntryPointData()),this._recordShareData},e.prototype.reqSubscribeBot=function(){var e=this;this.FBInstant.player.canSubscribeBotAsync().then(function(t){console.log("\u8ba2\u9605\u6e38\u620f\u673a\u5668\u4eba:",t),t&&e.FBInstant.player.subscribeBotAsync().then(function(){console.log("Subscribe Success!")}).catch(function(e){})})},e.prototype.logEvent=function(e){this.FBInstant.logEvent(e,1)},e}();n.default=o,cc._RF.pop()},{}],FindNewTowerWnd:[function(e,t,n){"use strict";cc._RF.push(t,"6079aJhxohHb4e3dcEqSgNq","FindNewTowerWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/ConfigMgr"),i=e("../../Manager/GameDataManager"),r=e("../../Manager/EventEnum"),s=e("../../Manager/EventManager"),l=e("../../SDK/SDKManager"),d=e("../Manager/WordEffManager"),u=e("../Manager/SwitchLanguage"),c=e("../../SDK/WeiXinAPPSDK"),h=e("../Manager/WindowManager"),f=e("./ShopWnd"),g=e("./GuideWnd"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isCanClick=!1,t._recordRewardGoldNum=0,t._isVideo=!1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){switch(this._view=this.GetView(),this._closeBg=this._view.getChild("n12").asLoader,this._popCom=this._view.getChild("n11").asCom,this._lookVideoBtn=this._view.getChild("n9").asButton,this._rotateLightImg=this._popCom.getChild("n11").asImage,this._towerIcon=this._popCom.getChild("n10").asLoader,this._towerName=this._popCom.getChild("n1").asTextField,this._towerAttack=this._popCom.getChild("n3").asTextField,this._towerDes=this._popCom.getChild("n6").asTextField,this._rewardGold=this._popCom.getChild("n8").asTextField,this._tipTxt=this._view.getChild("n13").asTextField,this._titleSpt=this._popCom.getChild("n5").asLoader,this._lookVideoBtn.getChild("n3").visible=!1,this._closeBg.onClick(this.ClickBgCloseCall,this),this._lookVideoBtn.onClick(this.ClickPlayVideoCall,this),u.default.GetInstance().ReturnNowLanuage()){case 0:this._titleSpt.url="ui://PopWnd/NE";break;case 1:this._titleSpt.url="ui://PopWnd/ui_tiaozhuan_xinpaota"}},t.prototype.OnOpen=function(e){this._towerID=e,c.default.getInstance().ShowAgreeBtn=!1,l.default.getInstance().showBannerAD();(new Date).getHours(),Math.random();var t=this._lookVideoBtn.getChild("n3").asLoader,n=i.default.getInstance().getJson();t.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!0,0==n.isopen&&(t.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!0),s.default.dispatchEvent(r.EventEnum.PauseGame),this.InitData(e),this.StartEff()},t.prototype.OnClose=function(){(c.default.getInstance().ShowAgreeBtn=!0,l.default.getInstance().hideBannerAD(),s.default.dispatchEvent(r.EventEnum.ResumeGame),fgui.GTween.isTweening(this._rotateLightImg)&&fgui.GTween.kill(this._rotateLightImg),s.default.dispatchEvent(r.EventEnum.GuideOver,1),this._towerID>=10317&&this._towerID<=10320)&&(7==i.default.getInstance().returnGuideState()&&(h.default.getInstance().WndIsShow("ShopWnd",f.default)&&h.default.getInstance().CloseNameWindow("ShopWnd",f.default),h.default.getInstance().OpenWindow("PopWnd","GuideWnd",g.default,null,h.WindowLayer.GuidWnd)))},t.prototype.InitData=function(e){var t=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Picture");this._towerIcon.url="AllTexture/allTexture/Turret/"+t,this._towerName.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Name"),this._towerAttack.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Attack"),this._towerDes.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Describe");var n=o.default.getInstance().getTableDataOne("Turret",e.toString(),"NewTurret");this._recordRewardGoldNum=n,this._rewardGold.text="+"+i.default.getInstance().returnGlodString(n),this._lookVideoBtn.visible=!1,this._tipTxt.visible=!1,this._isCanClick=!1},t.prototype.StartEff=function(){var e=this;this._popCom.setScale(.8,.8),fgui.GTween.to(.8,1,.2).setTarget(this._popCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._popCom.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._popCom.setScale(1,1),e._isCanClick=!0,e._lookVideoBtn.visible=!0,e._tipTxt.visible=!0,fgui.GTween.to(0,360,4).setTarget(e._rotateLightImg).setEase(fgui.EaseType.Linear).setRepeat(-1).onUpdate(function(t){e._rotateLightImg.rotation=t.value.x},e)},this)},t.prototype.ClickBgCloseCall=function(){if(this._isCanClick){this.CloseSelf();var e={};e.param=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/2),e.param2=this._recordRewardGoldNum,s.default.dispatchEvent(r.EventEnum.OtherJoinAward,e)}},t.prototype.ClickPlayVideoCall=function(){this._isCanClick&&l.default.getInstance().ShareOrAds("5",this.ShareSuccCall,this._shareDefault,null,this)},t.prototype._shareDefault=function(){i.default.getInstance().setCurDefCallType("5");var e=i.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];d.default.getInstance().DefaultCenterWordTip(t)},t.prototype.ShareSuccCall=function(){if(1!=i.default.getInstance().returnIsCanShare())if(1!=i.default.getInstance().getIsGroups()){this.CloseSelf();var e={};e.param=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/2),e.param2=3*this._recordRewardGoldNum,s.default.dispatchEvent(r.EventEnum.OtherJoinAward,e);var t=o.default.getInstance().getTableDataOne("Words","13","Describe");d.default.getInstance().DefaultCenterWordTip(t)}else s.default.dispatchEvent(r.EventEnum.ShareToAnother,"5");else s.default.dispatchEvent(r.EventEnum.ShareToAnother,"5")},t}(a.default);n.default=p,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/WindowManager":"WindowManager","../Manager/WordEffManager":"WordEffManager","./GuideWnd":"GuideWnd","./ShopWnd":"ShopWnd"}],FissionMonster:[function(e,t,n){"use strict";cc._RF.push(t,"c0187AxceFMV6jSXiK+I5DU","FissionMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../GameCtr/MonsterManager"),i=e("../Bullet/BaseBullet"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Fission,t.skillCDTime=999,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t);var n=this.getData().InvisibleCD;this.skillCDTime=n;var a=cc.v2(80,70);this.setCollisionRang(a),this.setCollisionRang2(cc.v2(60,140))},t.prototype.onCollision=function(e){if(e instanceof i.default){if(e.bullettype==i.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.monsterDead=function(){this._pos=this.getNode().position,this._state!=a.MonsterState.Frozen&&this.skillEffect(),e.prototype.monsterDead.call(this)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.fission=function(e,t,n){switch(e){case 1:case 2:this.childMonsterPos(n,t,1);break;case 3:t<4?this.childMonsterPos(n,t,2):this.childMonsterPos(n,t,1);break;case 4:t<=3?this.childMonsterPos(n,t,3):4==t?this.childMonsterPos(n,t,2):5==t&&this.childMonsterPos(n,t,1);break;case 5:t<=2?this.childMonsterPos(n,t,4):3==t?this.childMonsterPos(n,t,3):4==t?this.childMonsterPos(n,t,2):5==t&&this.childMonsterPos(n,t,1)}},t.prototype.childMonsterPos=function(e,t,n){o.default.getInstance().monsterSpiltToRefershPregress(t);for(var a=this.getNowPath(),i=n;i<t+n;i++){var r=o.default.getInstance().createMonster(e,a,i).getNode();r.x=this._pos.x,r.y=this._pos.y}},t.prototype.skillEffect=function(){var e=this.getData(),t=e.Fission,n=e.FissionID,a=Math.ceil(this.getNowPath());this.fission(a,t,n)},t.prototype.useSkill=function(){this._isUseSkill=!0},t}(a.default);n.default=r,cc._RF.pop()},{"../Bullet/BaseBullet":"BaseBullet","../GameCtr/MonsterManager":"MonsterManager","./BaseMonster":"BaseMonster"}],FocusWnd:[function(e,t,n){"use strict";cc._RF.push(t,"e79519s6UFL57vE/ARs4Dwv","FocusWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../SDK/WeiXinAPPSDK"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isCanClick=!0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._closeBg=this._view.getChild("n19").asLoader,this._closeBtn=this._view.getChild("n1").asButton,this._copyBtn=this._view.getChild("n12").asButton,this._closeBg.onClick(this.CloseSelf,this),this._closeBtn.onClick(this.CloseSelf,this),this._copyBtn.onClick(this.CopyTxtCall,this)},t.prototype.OnOpen=function(){},t.prototype.OnClose=function(){},t.prototype.CopyTxtCall=function(){var e=this;this._isCanClick&&(this._isCanClick=!1,o.default.getInstance().SetClipboardData("\u8f7b\u6e38\u620f\u63a8\u8350",function(){e._isCanClick=!0}))},t}(a.default);n.default=i,cc._RF.pop()},{"../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow"}],FriendsHelpWnd:[function(e,t,n){"use strict";cc._RF.push(t,"9a596DRhW1DIo8pSzt+O3o6","FriendsHelpWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventManager"),i=e("../../Manager/EventEnum"),r=e("../../Manager/ConfigMgr"),s=e("../../Server/ServerManager"),l=e("../../Server/FriendsHelp/GetFriendsHelpDataServer"),d=e("../../Manager/GameDataManager"),u=e("../../SDK/SDKManager"),c=e("../Manager/Tools"),h=e("../../Server/SendUserIsShareServer"),f=e("../../Server/FriendsHelp/UpdateFriendsHelpServer"),g=e("../Manager/WordEffManager"),p=e("../../Manager/RedDotManager"),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isSettingState=!1,t._recordHelpData=[],t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._buffList=this._view.getChild("n0").asList,this._attackAddScale=this._view.getChild("n16").asTextField,this._goldAddScale=this._view.getChild("n18").asTextField,this._settingBtn=this._view.getChild("n9").asCom,this._settingBtn_Ctr=this._settingBtn.getController("c1"),this._inviteFriendsBtn=this._view.getChild("n7").asButton,this._closeBtn=this._view.getChild("n2").asButton,this._buffList.itemRenderer=this._buffRenderListCall.bind(this),this._tipBtn=this._view.getChild("n36").asButton,this._tipWnd=this._view.getChild("n34").asGroup,this._tipCloseBtn=this._view.getChild("n35").asButton,this._tipBg=this._view.getChild("n33").asLoader,this._closeBtn.onClick(this.CloseSelf,this),this._settingBtn.onClick(this._ctrSettingModel,this),this._tipCloseBtn.onClick(this._closeTipWnd,this),this._inviteFriendsBtn.onClick(this._inviteFriendsBtnCall,this),this._tipBtn.onClick(this._openTipWnd,this)},t.prototype.OnOpen=function(){this._closeTipWnd(),o.default.dispatchEvent(i.EventEnum.PauseGame),s.default.getInstance().startCallServer(l.default,!0),o.default.addEventListener(i.EventEnum.RefreshIconChange,this._iconDataChangeCall,this)},t.prototype.OnClose=function(){this._closeTipWnd(),this._settingBtn_Ctr.selectedIndex=0,this._isSettingState=!1,this._ctrBuffListSettingModel(!1),o.default.removeEventListener(i.EventEnum.RefreshIconChange,this._iconDataChangeCall,this),o.default.dispatchEvent(i.EventEnum.ResumeGame)},t.prototype._openTipWnd=function(){this._tipWnd.visible=!0,this._tipBg.visible=!0},t.prototype._closeTipWnd=function(){this._tipBg.visible=!1,this._tipWnd.visible=!1},t.prototype._refreshRedDotShow=function(){for(var e=[],t=d.default.getInstance().getLibaryLevel(),n=r.default.getInstance().getTableColumnLength("Helper"),a=d.default.getInstance().getAllBuffOpenState(),o=0;o<n;o++)e[o]=r.default.getInstance().getTableDataOne("Helper",o.toString(),"Unlock")<=t;var i=!1;for(o=0;o<n;o++)if(e[o]&&!a[o]){i=!0;break}var s=!1,l=d.default.getInstance().getNowFriendsHelpData(),u=l.length;for(o=0;o<u;o++)-1==l[o].help_buff_id&&(s=!0);p.default.RefreshRedDotState("LeftList/FriendsHelpBtn",s&&i)},t.prototype._refreshNowBuffValue=function(){for(var e=d.default.getInstance().getAllBuffOpenState(),t=e.length,n=0,a=0,o=0;o<t;o++){if(e[o])1==r.default.getInstance().getTableDataOne("Helper",o.toString(),"Type")?a+=r.default.getInstance().getTableDataOne("Helper",o.toString(),"Value"):n+=r.default.getInstance().getTableDataOne("Helper",o.toString(),"Value")}this._attackAddScale.text=n+"%",this._goldAddScale.text=a+"%",d.default.getInstance().setNowAddGoldBuffValue(a),d.default.getInstance().setNowDamageBuffValue(n)},t.prototype._iconDataChangeCall=function(e){var t=this._buffList.getChildAt(e);t.refreshList(),t.refreshShakeIcon(!0),this._refreshNowBuffValue()},t.prototype._initData=function(){this._buffList.numItems=r.default.getInstance().getTableColumnLength("Helper"),this._recordHelpData=d.default.getInstance().getNowFriendsHelpData(),this._allHelpBtnCall(),this._refreshNowBuffValue()},t.prototype._buffRenderListCall=function(e,t){t.initData(e)},t.prototype._iconRenderListCall=function(e,t){var n=t,a=this._recordHelpData[e];n.initData(a.head_img,-1!=a.help_buff_id)},t.prototype._ctrSettingModel=function(){if(d.default.getInstance().returnNowIsHaveBuff())this._isSettingState=!this._isSettingState,this._isSettingState?this._settingBtn_Ctr.selectedIndex=1:this._settingBtn_Ctr.selectedIndex=0,this._ctrBuffListSettingModel(this._isSettingState);else{var e=r.default.getInstance().getTableDataOne("Words","42","Describe");g.default.getInstance().DefaultCenterWordTip(e)}},t.prototype._ctrBuffListSettingModel=function(e){for(var t=this._buffList.numItems,n=0;n<t;n++){this._buffList.getChildAt(n).refreshShakeIcon(e)}d.default.getInstance().setSettingStateForFriends(e)},t.prototype._refreshBtnState=function(){d.default.getInstance().returnNowBuffListIsNotFull(),d.default.getInstance().retrunIsHaveNotHelpData()},t.prototype._allHelpBtnCall=function(){var e=d.default.getInstance().returnNowBuffListIsNotFull(),t=d.default.getInstance().retrunIsHaveNotHelpData();if(e&&t){for(var n=d.default.getInstance().getNowFriendsHelpData(),a=r.default.getInstance().getTableColumnLength("Helper"),o=n.length,i=d.default.getInstance().getLibaryLevel(),l=0;l<a;l++){if(!(r.default.getInstance().getTableDataOne("Helper",l.toString(),"Unlock")>i))for(var u=r.default.getInstance().getTableDataOne("Helper",l.toString(),"PlayerCount"),c=0,h=0;h<o;h++){if(-1==n[h].index)if(d.default.getInstance().getTrimSomeHelpData(l,c))c++;else{if(c>=u)break;n[h].help_buff_id=l,n[h].index=c,c++}}}d.default.getInstance().trimFriendsHelpData(),this._buffList.numItems=r.default.getInstance().getTableColumnLength("Helper"),this._recordHelpData=d.default.getInstance().getNowFriendsHelpData(),this._refreshNowBuffValue();var g=[],p=this._recordHelpData.length;for(l=0;l<p;l++)g[l]={},g[l].help_buff_id=this._recordHelpData[l].help_buff_id,g[l].index=this._recordHelpData[l].index,g[l].user_id=this._recordHelpData[l].user_id;s.default.getInstance().startCallServer(f.default,g),this._refreshRedDotShow()}},t.prototype._inviteFriendsBtnCall=function(){var e,t=this,n=u.default.getInstance().getNowPlatform(),a=d.default.getInstance().getJson(),o=Math.floor(Math.random()*a.share_info.titles.length),i=a.share_info.titles[o],r={},l=s.default.getInstance().getUUID().toString();if(r.userId=l,r.shareType=10,e=a.share_info.images[o],1==n)if(null==d.default.getInstance().returnShareBase64Img(e)){c.default.GetBase64(e,function(n){d.default.getInstance().setShareBase64Img(e,n),u.default.getInstance().shareCall(i,n,t._rewardCall,t._shareDefault,t,r)}.bind(this))}else u.default.getInstance().shareCall(i,e,this._rewardCall,this._shareDefault,this,r);else u.default.getInstance().shareCall(i,e,this._rewardCall,this._shareDefault,this,r);var f={param:1,param2:10};f.param3=d.default.getInstance().getNowLevelId(),s.default.getInstance().startCallServer(h.default,f)},t.prototype._rewardCall=function(){},t.prototype._shareDefault=function(){},t}(a.default);n.default=_,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/RedDotManager":"RedDotManager","../../SDK/SDKManager":"SDKManager","../../Server/FriendsHelp/GetFriendsHelpDataServer":"GetFriendsHelpDataServer","../../Server/FriendsHelp/UpdateFriendsHelpServer":"UpdateFriendsHelpServer","../../Server/SendUserIsShareServer":"SendUserIsShareServer","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow","../Manager/Tools":"Tools","../Manager/WordEffManager":"WordEffManager"}],FriendsIconPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"8576bIVgcdEbI1QaKYodlnV","FriendsIconPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onConstruct=function(){this._headIcon=this.getChild("icon").asLoader,this._isHelpImg=this.getChild("n2").asImage},t.prototype.initData=function(e,t){this._headIcon.component.icon=e,this._isHelpImg.visible=t},t}(fgui.GComponent);n.default=a,cc._RF.pop()},{}],FrozenBullet:[function(e,t,n){"use strict";cc._RF.push(t,"3f644wjTKBKmbM3AeQopEyD","FrozenBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.FrozenBullet,t._frozenTime=-1,t._target=null,t._normalSpeed=-1,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.monsterSubSpeed.bind(this,e))}},t.prototype.monsterSubSpeed=function(e){if(e.State!=o.MonsterState.Frozen){var t=this.getData().Frozen.split(",").map(Number),n=t[0],a=e.getData().Speed,i=t[1];e.changeMoveSpeed(a*n),this._target=e,this._target.setStateTime(i),this._target.setColorState(2),this._frozenTime=i,this._normalSpeed=a}},t}(a.default);n.default=i,cc._RF.pop()},{"../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],FrozenPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"3a553KMSUZF+qrhFmO8lgY4","FrozenPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../../../Manager/ResourceLoadManager");(function(e){e[e.Frozen=0]="Frozen",e[e.Wait=1]="Wait",e[e.UnFrozen=2]="UnFrozen"})(a||(a={}));var i=function(){function e(){this._nowPlayState=0}return e.prototype.Frozen=function(e){if(null!=e){this._target=e;var t=e.getNode(),n=t.getChildByName("Frozen");if(null==n){var i=o.default.getInstance().getRes("Prefab/buff_ice");(n=cc.instantiate(i)).name="Frozen",t.addChild(n,2)}this._frozenNode=n;var r=e.returnSolePos();this._frozenNode.setPosition(r),this._frozenAnim=this._frozenNode.getComponent(cc.Animation),this._frozenAnim.hasEventListener("stop")||this._frozenAnim.on("stop",this._AnimationOverCall,this),this.SetFrozenNodeSize(1),fgui.GTween.isTweening(this._frozenNode)&&fgui.GTween.kill(this._frozenNode),this._frozenNode.active=!0,this._frozenNode.opacity=255,this._frozenAnim.play("buff_ice"),this._nowPlayState=a.Frozen}else console.log("\u5f85\u51b0\u51bb\u8282\u70b9\u4e3a\u7a7a\uff01\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype.UnFrozen=function(){var e=this;this._nowPlayState=a.UnFrozen;fgui.GTween.to(255,0,.3).setTarget(this._frozenNode).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._frozenNode.opacity=t.value.x},this).onComplete(function(){e._frozenNode.active=!1},this)},e.prototype._AnimationOverCall=function(){switch(this._nowPlayState){case a.Frozen:this._nowPlayState=a.Wait;break;case a.UnFrozen:this._target.finishFrozen()}},e.prototype.CloseFrozenEff=function(){fgui.GTween.isTweening(this._frozenNode)&&fgui.GTween.kill(this._frozenNode),this._frozenAnim.stop(),this._frozenNode.active=!1},e.prototype.SetFrozenNodeSize=function(e){this._frozenNode.scaleX=1.6*e,this._frozenNode.scaleY=1.6*e},e}();n.default=i,cc._RF.pop()},{"../../../Manager/ResourceLoadManager":"ResourceLoadManager"}],GMControl:[function(e,t,n){"use strict";cc._RF.push(t,"12ae0aR1U5Nmrvnxlp9Xj60","GMControl"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../../Manager/GameDataManager"),i=e("../../UI/Manager/WindowManager"),r=e("../../UI/PopWnd/GuideWnd"),s=e("./GameControl"),l=e("./MonsterManager"),d=e("./BulletManager"),u=e("../../Manager/EffectOrAnimationManager");(function(e){var t=function(){function e(){}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.setNowBuildTowerId=function(e){console.log("\u8bbe\u7f6e\u70ae\u5854\u5efa\u7b51ID\u6210\u529f:",e)},e.prototype.addGold=function(e){console.log("\u589e\u52a0\u91d1\u5e01\u6210\u529f:",e),o.default.getInstance().glodChange(e)},e.prototype.setNowLevelId=function(e){console.log("\u8bbe\u7f6e\u5173\u5361\u6210\u529f",e),o.default.getInstance().setLevelBigAndSmall(e)},e.prototype.startGuide=function(){i.default.getInstance().OpenWindow("PopWnd","GuideWnd",r.default,null,i.WindowLayer.PopupWnd)},e.prototype.printAnimation=function(){u.default.getInstance().printAnimation()},e.prototype.PrintList=function(){var e=l.default.getInstance().getNowAllMonster(),t=d.default.getInstance().getNowAllBullet(),n=s.default.getInstance()._recordHaveCollIDDic;console.log(e),console.log(t),console.log(n)},e.prototype.ControlColliderBoxShow=function(e){s.default.getInstance()._recordIshowCollider=e},e}();e.GMControl=t})(a||(a={})),cc._RF.pop()},{"../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../../Manager/GameDataManager":"GameDataManager","../../UI/Manager/WindowManager":"WindowManager","../../UI/PopWnd/GuideWnd":"GuideWnd","./BulletManager":"BulletManager","./GameControl":"GameControl","./MonsterManager":"MonsterManager"}],GMManager:[function(e,t,n){"use strict";cc._RF.push(t,"909adHixfBGZ5C6ehTuNyU2","GMManager");var a=e("../../Manager/GameDataManager"),o=e("../../Manager/OptimizeCreateManager"),i=e("../../UI/Manager/WindowManager"),r=(e("../../UI/PopWnd/GuideWnd"),e("../../UI/MainUI/GameWnd")),s=e("./GameControl"),l=e("./MonsterManager"),d=e("./BulletManager"),u=e("../../Manager/EffectOrAnimationManager"),c=e("../../UI/Manager/WordEffManager"),h=e("../../Manager/EventManager"),f=e("../../UI/PopWnd/WarnWnd");window.Gm={setNowBuildTowerId:function(e){console.log("\u8bbe\u7f6e\u70ae\u5854\u5efa\u7b51ID\u6210\u529f:",e)},addGold:function(e){console.log("\u589e\u52a0\u91d1\u5e01\u6210\u529f:",e),a.default.getInstance().glodChange(e)},setNowLevelId:function(e,t){console.log("\u8bbe\u7f6e\u5173\u5361\u6210\u529f",e),a.default.getInstance().setLevelBigAndSmall(e,t)},createTower:function(e){var t=new r;console.log("\u521b\u5efa\u70ae\u5854\u6210\u529f",e,t),t.default.OnOpen()},startGuide:function(){i.default.getInstance().OpenWindow("PopWnd","WarnWnd",f,null,2)},printAnimation:function(){u.default.getInstance().printAnimation()},PrintList:function(){var e=l.default.getInstance().getNowAllMonster(),t=d.default.getInstance().getNowAllBullet(),n=s.default.getInstance()._recordHaveCollIDDic,i=s.default.getInstance()._quadTrees,r=a.default.getInstance().getTowerData();console.log(e),console.log(t),console.log(n),console.log(i),console.log(r),o.default.CheckNowList(),h.default.dispatchEvent(3),l.default.getInstance().PrintDebug()},ControlColliderBoxShow:function(e){s.default.getInstance()._recordIshowCollider=e},UnlockAllTowerBuild:function(){a.default.getInstance().setLibaryMaxLevelTowerId(1,10132),a.default.getInstance().setLibaryMaxLevelTowerId(3,10232),a.default.getInstance().setLibaryMaxLevelTowerId(2,10320)},StartShake:function(){var e=cc.find("Canvas/BG/BG3"),t=cc.color(198,122,122);c.default.getInstance().ShakeObj(e,5,1,t)},SetTowerData:function(e){a.default.getInstance().setNowTowerData(e)},AddBuff:function(){a.default.getInstance().addDoubleGoldCount2(20),a.default.getInstance().addTowerUpSpeedCount2(20),a.default.getInstance().addFrozenBuffCount2(20)},NextLevel:function(){l.default.getInstance().clearNowAllMonster();var e=a.default.getInstance().getNextLevelId();l.default.getInstance().startLevel(e);var t=Math.floor(e/100),n=e-100*t;a.default.getInstance().setLevelBigAndSmall(t,n),h.default.dispatchEvent(10)}},cc._RF.pop()},{"../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/OptimizeCreateManager":"OptimizeCreateManager","../../UI/MainUI/GameWnd":"GameWnd","../../UI/Manager/WindowManager":"WindowManager","../../UI/Manager/WordEffManager":"WordEffManager","../../UI/PopWnd/GuideWnd":"GuideWnd","../../UI/PopWnd/WarnWnd":"WarnWnd","./BulletManager":"BulletManager","./GameControl":"GameControl","./MonsterManager":"MonsterManager"}],GMWnd:[function(e,t,n){"use strict";cc._RF.push(t,"b0779DdbXtPC4M5zH9kr5kj","GMWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/GameDataManager"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._addGlodBtn=this._view.getChild("n1").asLoader,this._printTowerData=this._view.getChild("n6").asLoader,this._closeBtn=this._view.getChild("n4").asLoader,this._printBuildBtn=this._view.getChild("n8").asLoader,this._closeBtn.onClick(this.CloseWnd,this),this._addGlodBtn.onClick(this.AddGlod,this),this._printBuildBtn.onClick(this.ResetPlayerData,this),this._printTowerData.onClick(this.PrintTowerData,this)},t.prototype.OnOpen=function(){},t.prototype.OnClose=function(){},t.prototype.AddGlod=function(){var e=parseInt(this._view.getChild("n0").asTextInput.text);o.default.getInstance().glodChange(e)},t.prototype.PrintTowerData=function(){var e=o.default.getInstance().getTowerData();console.log(e)},t.prototype.ResetPlayerData=function(){},t.prototype.CloseWnd=function(){this.CloseSelf()},t}(a.default);n.default=i,cc._RF.pop()},{"../../Manager/GameDataManager":"GameDataManager","../Base/BaseWindow":"BaseWindow"}],GameControl:[function(e,t,n){"use strict";cc._RF.push(t,"c5f5fb9JLZM26R5OJ1QFLDD","GameControl"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./MonsterManager"),o=e("./BulletManager"),i=e("../../UI/Manager/MyMath"),r=e("../Bullet/BaseBullet"),s=e("../../Lib/QuadTree"),l=function(){function e(){this._recordUUID=0,this._recordIshowCollider=!1,this._recordHaveCollIDDic={},this._quadTrees=new s.QuadTree}return e.getInstance=function(){if(null==this._instance){this._instance=new e;var t={};t.xRang=cc.v2(0,cc.winSize.width),t.yRang=cc.v2(0,cc.winSize.height),this._instance._quadTrees.Init(t,0)}return this._instance},e.prototype.changeGeay=function(){var e=cc.find("Canvas/BG/die"),t=e.getComponent(cc.Sprite);fgui.GTween.isTweening(e)||fgui.GTween.to(0,-1,2).setTarget(e).onUpdate(function(e){t.fillRange=e.value.x},this).onComplete(function(){t.fillRange=0},this)},e.prototype.update=function(e){this.collisionControl(),this.moveControl(e)},e.prototype.returnUUID=function(){return this._recordUUID++},e.prototype.setColider=function(e,t,n){void 0===n&&(n=cc.v2(.5,.5));var a=cc.find("MainNode"),o=a.getComponent(cc.Graphics);null==o&&(o=a.addComponent(cc.Graphics)),o.rect(e.x-t.x*n.x,e.y-t.y*n.y,t.x,t.y)},e.prototype.setDeadColider=function(){var e=cc.find("MainNode"),t=e.getComponent(cc.Graphics);null==t&&(t=e.addComponent(cc.Graphics));var n=cc.v2(374,-259);t.circle(n.x,n.y,843)},e.prototype.drawCollider=function(){this.setDeadColider();var e=cc.find("MainNode"),t=e.getComponent(cc.Graphics);null==t&&(t=e.addComponent(cc.Graphics)),t.strokeColor=cc.color(255,0,0),t.lineWidth=2,t.stroke()},e.prototype.clearCollider=function(){var e=cc.find("MainNode"),t=e.getComponent(cc.Graphics);null==t&&(t=e.addComponent(cc.Graphics)),t.clear()},e.prototype.moveControl=function(e){var t=a.default.getInstance().getNowAllMonster();this._recordIshowCollider&&this.clearCollider();for(var n=t.length,i=[],r=0;r<n;r++)null!=t[r]?(this._recordIshowCollider&&(this.setColider(t[r].getWordPos(),t[r].getCollisionRang()),this.setColider(t[r].getWordPos(),t[r].getCollisionRang2())),t[r].startMove(e)):i.push(r);var s=i.length;for(r=0;r<s;r++)t.splice(i.pop(),1);var l=o.default.getInstance().getNowAllBullet(),d=l.length,u=[];for(r=0;r<d;r++)null!=l[r]?(this._recordIshowCollider&&this.setColider(l[r].getWordPos(),l[r].getCollisionRang(),l[r].getNode().getAnchorPoint()),l[r].startMove(e)):u.push(r);this._recordIshowCollider&&this.drawCollider();var c=u.length;for(r=0;r<c;r++)l.splice(u.pop(),1)},e.prototype._checkNowIDIsInCollision=function(e,t){if(null!=e&&null!=t){if(null==this._recordHaveCollIDDic[e])return!1;if(this._recordHaveCollIDDic[e].length<1)return!1;for(var n=this._recordHaveCollIDDic[e].length,a=0;a<n;a++)if(t==this._recordHaveCollIDDic[e][a])return!0;return!1}console.log("\u53c2\u6570\u9519\u8bef\uff01")},e.prototype.addIdToCollisionList=function(e,t){if(null!=e&&null!=t){null==this._recordHaveCollIDDic[e]&&(this._recordHaveCollIDDic[e]=[]);for(var n=0,a=this._recordHaveCollIDDic[e].length;n<a;n++)if(this._recordHaveCollIDDic[e][n]==t)return;this._recordHaveCollIDDic[e].push(t),this.addIdToCollisionList(t,e)}else console.log("\u53c2\u6570\u9519\u8bef\uff01")},e.prototype.removeIdToCollisionList=function(e,t){if(null!=this._recordHaveCollIDDic[e]){for(var n=-1,a=0,o=this._recordHaveCollIDDic[e].length;a<o;a++)if(this._recordHaveCollIDDic[e][a]==t){n=a;break}-1!=n&&(this._recordHaveCollIDDic[e].splice(n,1),this.removeIdToCollisionList(t,e))}else console.log("\u903b\u8f91\u9519\u8bef,\u672a\u627e\u5230\u78b0\u649eID1")},e.prototype.removeNowIdToCollisionList=function(e){this._recordHaveCollIDDic[e]&&(this._recordHaveCollIDDic[e]=null,delete this._recordHaveCollIDDic[e])},Object.defineProperty(e.prototype,"Tree",{get:function(){return this._quadTrees},enumerable:!0,configurable:!0}),e.prototype.collisionControl=function(){this._quadTrees.RefreshQuadTree(this._quadTrees);for(var e=a.default.getInstance().getNowAllMonster(),t=0,n=0,o=0,s=0,l=null,d=e.length,u=0;u<d;u++)if(null!=e[u]&&!e[u].isKill&&0!=e[u].getCollisionRang().x&&0!=e[u].getCollisionRang().y){e[u].QuadObj._rect=e[u].refreshRect();for(var c=this._quadTrees.CheckCanCollisionList(e[u].QuadObj),h=c.length,f=0;f<h;f++){var g=c[f]._obj;if(!g.isKill){l=g.bullettype==r.BulletType.ClusterBullet?e[u].getCollisionRang2():e[u].getCollisionRang();var p=g.getNode().getAnchorPoint();n=i.default.GetInstance().FastAbs(e[u].getWordPos().y-g.getWordPos().y),t=i.default.GetInstance().FastAbs(e[u].getWordPos().x-g.getWordPos().x),s=e[u].getWordPos().y>g.getWordPos().y?i.default.GetInstance().FastAbs((l.y>>1)+g.getCollisionRang().y*(1-p.y)):i.default.GetInstance().FastAbs((l.y>>1)+g.getCollisionRang().y*p.y),t<=(o=i.default.GetInstance().FastAbs((l.x>>1)+(g.getCollisionRang().x>>1)))&&n<=s?this._checkNowIDIsInCollision(g.getUUID(),e[u].getUuid())||(this.addIdToCollisionList(g.getUUID(),e[u].getUuid()),e[u].onCollision(g),g.onCollision(e[u])):(i.default.GetInstance().FastAbs(t-o)<5||i.default.GetInstance().FastAbs(n-s)<5)&&this._checkNowIDIsInCollision(g.getUUID(),e[u].getUuid())&&this.removeIdToCollisionList(g.getUUID(),e[u].getUuid())}}}},e}();n.default=l,cc._RF.pop()},{"../../Lib/QuadTree":"QuadTree","../../UI/Manager/MyMath":"MyMath","../Bullet/BaseBullet":"BaseBullet","./BulletManager":"BulletManager","./MonsterManager":"MonsterManager"}],GameDataManager:[function(e,t,n){"use strict";cc._RF.push(t,"e36e80O2tRGQYYc6E9pj1XF","GameDataManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ConfigMgr"),o=e("./EventManager"),i=e("./EventEnum"),r=e("../Server/BaseServer"),s=e("../Server/ServerManager"),l=e("../UI/StartGame/StartWnd"),d=e("../UI/Manager/WindowManager"),u=e("../UI/PopWnd/FindNewTowerWnd"),c=e("../Server/RefreshUserDataServer"),h=e("../Server/UpdateBuffServer"),f=e("../Server/FriendsHelp/UpdateFriendsHelpServer"),g=e("../Server/CountPlayerDeadServer"),p=e("../UI/PopWnd/RewardOf7DaysWnd"),_=e("../UI/PopWnd/BuyQTTCoinWnd"),v=e("../SDK/Global"),I=function(){function e(){this._reocrdMaxLevel=-1,this._recordUnLockData=null,this._recordPlayerNowBigLevel=1,this._recordPlayerNowLittleLevel=1,this._recordPlayerGold=2e3,this._recordTowerData=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._recordTowerBuildCount={},this._recordLibaryMaxLevel=1,this._recordMonsterBookData=null,this.recordIsSendErr=!1,this._recordOpenId="",this._recordNowLevelId=-1,this._recordLibaryTopTowerArr={},this._json=null,this._shareBase64Img={},this._shareCount=1,this._unShare=Math.floor(3*Math.random())+5,this._isshare=!0,this._isShareOrAdsArray={},this._isShareOrAdsArray2={},this._curShareOrAdsArray={1:0,2:0,3:0,4:0,5:0,6:0,9:0,11:0,12:0},this._curShareOrAdsArray2={1:0,2:0,3:0,4:0,5:0,6:0,9:0,11:0,12:0},this._curDefCallType="",this._share_success_number=-1,this._nowLotteryCount=0,this._getRewardTimes=0,this._differentGroups={},this._isGroups=!1,this.share_or_video=-1,this._is_get_sign_award=0,this._get_login_awards_level=[],this.loginServerCalled=!1,this._recordAllTowerGroup=null,this._recordAllMonsterCount=-1,this._recordBuildBtnList=null,this._recordTrashBtnPos=null,this._recordGuidSecendPos=null,this._recordFiveGuidePos=null,this._recordSixGuidePos=null,this._recordSevenGuidePos=null,this._recordNowIsInGuide=!1,this._alredyOpenQiandao=!1,this._recordNowGuideState=0,this._recordAllTowerPosList=[],this._recordNowVersion=-1,this._recordAllPathPosX=[],this._recordNowBuildLayers=null,this._recordNowDoubleGoldAllCount=0,this._recordNowSpeedUpCount=0,this._recordNowFrozenBuffCount=0,this._recordFriendsHelpData=[],this._recordTrimFriendsData=null,this._recordNowBuffOpenState=null,this._recordAddGoldBuffValue=0,this._recordDamageBuffValue=0,this._recordIsOpenSetting=!1,this._isNormal=!0,this._isGetFocusAward=0,this._towerBlood=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.initEventMgr()),this._instance},e.prototype.initEventMgr=function(){},e.prototype.flushGameData=function(){this.loginServerCalled&&(v.default.gameData.gold=this._recordPlayerGold,v.default.gameData.now_level=this._recordPlayerNowBigLevel,v.default.gameData.little_level=this._recordPlayerNowLittleLevel,v.default.gameData.tower_bag=this._recordTowerData,v.default.gameData.tower_build_number=this._recordTowerBuildCount,v.default.gameData.top_tower=this._recordLibaryTopTowerArr,v.default.gameData.top_level=this._recordLibaryMaxLevel,v.default.gameData.version=this._recordNowVersion,v.default.gameData.lottery_number=this._nowLotteryCount,v.default.gameData.record_bag.double_gold_number=this._recordNowDoubleGoldAllCount,v.default.gameData.record_bag.firing_rate_number=this._recordNowSpeedUpCount,v.default.gameData.record_bag.frozen_number=this._recordNowFrozenBuffCount,v.default.gameData.share_success_number=this._share_success_number,v.default.gameData.share_or_video=this.share_or_video,v.default.gameData.record_bag.is_get_attention_award=this._isGetFocusAward,v.default.gameData.is_get_sign_award=this._is_get_sign_award,v.default.gameData.record_bag.login_info.get_login_awards_level=this._get_login_awards_level,v.default.gameData.record_bag.tower_blood=this._towerBlood)},e.prototype.setGold=function(e,t){t instanceof r.default?(this._recordPlayerGold=e,v.default.gameData.gold=this._recordPlayerGold):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setLevel=function(e,t){t instanceof r.default||t instanceof l.default?(this._recordPlayerNowBigLevel=e,v.default.gameData.now_level=this._recordPlayerNowBigLevel):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setLittleLevel=function(e,t){t instanceof r.default||t instanceof l.default?(this._recordPlayerNowLittleLevel=e,v.default.gameData.little_level=this._recordPlayerNowLittleLevel):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setTowerBuildCountData=function(e,t){t instanceof r.default?(this._recordTowerBuildCount=e,v.default.gameData.tower_build_number=this._recordTowerBuildCount):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.serverSetTowerData=function(e,t){t instanceof r.default?(this._recordTowerData=e,v.default.gameData.tower_bag=this._recordTowerData):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setLibaryMaxLevel=function(e,t){t instanceof r.default?(this._recordLibaryMaxLevel=e,v.default.gameData.top_level=this._recordLibaryMaxLevel):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setMonsterBookData=function(e,t){t instanceof r.default?this._recordMonsterBookData=e:console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setOpenId=function(e,t){t instanceof r.default?this._recordOpenId=e:console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setLibaryTowerTopArr=function(e,t){t instanceof r.default?(this._recordLibaryTopTowerArr=e,v.default.gameData.top_tower=this._recordLibaryTopTowerArr):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.initSetBuffCount=function(e,t,n,a){a instanceof r.default?(this._recordNowDoubleGoldAllCount=e,this._recordNowSpeedUpCount=t,this._recordNowFrozenBuffCount=n,v.default.gameData.record_bag.double_gold_number=this._recordNowDoubleGoldAllCount,v.default.gameData.record_bag.firing_rate_number=this._recordNowSpeedUpCount,v.default.gameData.record_bag.frozen_number=this._recordNowFrozenBuffCount):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setNowLotteryCount=function(e,t){t instanceof r.default?(this._nowLotteryCount=e,v.default.gameData.lottery_number=this._nowLotteryCount):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.setShareSucNum=function(e,t){t instanceof r.default?(this._share_success_number=e,v.default.gameData.share_success_number=this._share_success_number):console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000")},e.prototype.replaceBG=function(t,n,o){var i=e.getInstance().getNowLevelId(),r=a.default.getInstance().getTableDataOne("Wave",i.toString(),"Map"),s=t.getComponent(cc.Sprite),l=n.getComponent(cc.Sprite),d=o.getComponent(cc.Sprite);s.spriteFrame.name!=r+"1"&&cc.loader.loadResDir("BgIcon/"+r,cc.SpriteFrame,function(e,t,n){},function(e,t,n){if(!e)for(var a=t.length,i=0;i<a;i++){switch(t[i].name){case r+"1":s.spriteFrame=t[i];break;case r+"2":l.spriteFrame=t[i];break;case r+"3":d.spriteFrame=t[i];break;case r+"4":for(var u=0;u<15;u++){cc.find("ui_paodanditu"+u,o).getComponent(cc.Sprite).spriteFrame=t[i]}}}})},e.prototype.getNowLotteryCount=function(){if(v.default.gameData)if(v.default.gameData.lastLotteryTimestamp){var e=new Date;new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>v.default.gameData.lastLotteryTimestamp&&(this._nowLotteryCount=0)}else this._nowLotteryCount=0;return this._nowLotteryCount},e.prototype.useLotteryCount=function(){this._nowLotteryCount++,v.default.gameData&&(v.default.gameData.lastLotteryTimestamp=Date.now())},e.prototype.addGetrewardTimes=function(){this._getRewardTimes++},e.prototype.reduceGetrewardTimes=function(){this._getRewardTimes--},e.prototype.getGetrewardTimes=function(){return this._getRewardTimes},e.prototype.addDifferentGroupsOfType=function(e){null==this._differentGroups[e]&&(this._differentGroups[e]=0),this._differentGroups[e]++},e.prototype.resetDifferentGroupsOfType=function(e){this._differentGroups[e]=0},e.prototype.getDifferentGroupsOfType=function(e){return null==this._differentGroups[e]&&(this._differentGroups[e]=0),this._differentGroups[e]},e.prototype.getShareSucNum=function(){return this._share_success_number},e.prototype.getJson=function(){return null==this._json&&(this._json={},this._json.isopen=0,this._json.share_info={},this._json.share_info.titles=["\u4e00\u5927\u6ce2\u50f5\u5c38\u5373\u5c06\u6765\u88ad\uff0c\u5404\u5355\u4f4d\u6ce8\u610f\uff0c\u70ae\u624b\u51c6\u5907~"],this._json.share_info.images=["https://coolant.miniant.cn/plantsVsZombies/share1.png"],this._json.share={},this._json.share[1]=[0,3,5],this._json.share[2]=[0,3,5],this._json.share[3]=[0,3,5],this._json.share[4]=[0,3,5],this._json.share[5]=[0,3,5],this._json.share[6]=[0,3,5],this._json.share[9]=[0,3,5],this._json.share[11]=[0,0,0],this._json.share[12]=[0,0,0],this._json.share2={},this._json.share2[1]=[0,3,5],this._json.share2[2]=[0,3,5],this._json.share2[3]=[0,3,5],this._json.share2[4]=[0,3,5],this._json.share2[5]=[0,3,5],this._json.share2[6]=[0,3,5],this._json.share2[9]=[0,3,5],this._json.share2[11]=[0,0,0],this._json.share2[12]=[0,0,0],this._json.share_fail=[5,8],this._json.share_group=0,this._json.share_multi_group=0,this._json.share_fail_tips=["\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01","\u6ce8\u610f\uff01\u9700\u5206\u4eab\u5230\u4e0d\u540c\u5fae\u4fe1\u7fa4","\u9700\u5206\u4eab\u52303\u4e2a\u4e0d\u540c\u5fae\u4fe1\u7fa4,\u60a8\u5df2\u5206\u4eab\u4e86"],this._json.fail_tips_index=[1,1,1,2]),this._json.share[1]=[0,3,5],this._json.share[4]=[0,3,5],this._json.share[5]=[0,3,5],this._json.share[6]=[0,3,5],this._json.share[11]=[0,3,5],this._json.share[12]=[0,3,5],this._json.share2[1]=[0,3,5],this._json.share2[4]=[0,3,5],this._json.share2[5]=[0,3,5],this._json.share2[6]=[0,3,5],this._json.share2[11]=[0,3,5],this._json.share2[12]=[0,3,5],this._json},e.prototype.setJson=function(e){null==e&&((e={}).isopen=0,e.share_info={},e.share_info.titles=["\u4e00\u5927\u6ce2\u50f5\u5c38\u5373\u5c06\u6765\u88ad\uff0c\u5404\u5355\u4f4d\u6ce8\u610f\uff0c\u70ae\u624b\u51c6\u5907~"],e.share_info.images=["https://coolant.miniant.cn/plantsVsZombies/share1.png"],e.share={},e.share[1]=[0,3,5],e.share[2]=[0,3,5],e.share[3]=[0,3,5],e.share[4]=[0,3,5],e.share[5]=[0,3,5],e.share[6]=[0,3,5],e.share[9]=[0,3,5],e.share[11]=[0,0,0],e.share[12]=[0,0,0],e.share2={},e.share2[1]=[0,3,5],e.share2[2]=[0,3,5],e.share2[3]=[0,3,5],e.share2[4]=[0,3,5],e.share2[5]=[0,3,5],e.share2[6]=[0,3,5],e.share2[9]=[0,3,5],e.share2[11]=[0,0,0],e.share2[12]=[0,0,0],e.share_fail=[5,8],e.share_group=0,e.share_multi_group=0,e.share_fail_tips=["\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u65b0\u5c1d\u8bd5\uff01","\u6ce8\u610f\uff01\u9700\u5206\u4eab\u5230\u4e0d\u540c\u5fae\u4fe1\u7fa4","\u9700\u5206\u4eab\u52303\u4e2a\u4e0d\u540c\u5fae\u4fe1\u7fa4,\u60a8\u5df2\u5206\u4eab\u4e86"],e.fail_tips_index=[1,1,1,2]),e.share[1]=[0,3,5],e.share[4]=[0,3,5],e.share[5]=[0,3,5],e.share[6]=[0,3,5],e.share[11]=[0,3,5],e.share[12]=[0,3,5],e.share2[1]=[0,3,5],e.share2[4]=[0,3,5],e.share2[5]=[0,3,5],e.share2[6]=[0,3,5],e.share2[11]=[0,3,5],e.share2[12]=[0,3,5],this._json=e;var t=this._json.share_fail;this._unShare=this.returnRangeRadom(t[0],t[1]),this.initShareOrAdsArray()},e.prototype.returnRandomJsonData=function(){this.getJson();var e=Math.floor(Math.random()*this._json.share_info.titles.length),t={};return t.titleTxt=this._json.share_info.titles[e],t.sptUrl=this._json.share_info.images[e],t.isopen=this._json.isopen,t.share=this._json.share,t.share2=this._json.share2,t.share_fail=this._json.share_fail,t},e.prototype.addShareCount=function(){this._shareCount+=1},e.prototype.reduceShareCount=function(){this._shareCount-=1},e.prototype.getShareCount=function(){return this._shareCount},e.prototype.setIsShareOrIsAds=function(e){this._isshare=e},e.prototype.returnIsCanShare=function(){if(0==this._isshare)return!1;var e=this._shareCount%this._unShare==0;if(1==e){var t=this._json.share_fail;this._unShare=this.returnRangeRadom(t[0],t[1])+1,this._shareCount=0}return e},e.prototype.returnRangeRadom=function(e,t){var n=(t+=1)-e;return Math.floor(Math.random()*n)+e},e.prototype.initShareOrAdsArray=function(){var e=this._json.share[1],t=this._json.share[2],n=this._json.share[3],a=this._json.share[4],o=this._json.share[5],i=this._json.share[6],r=this._json.share[9],s=this._json.share[11],l=this._json.share[12];this._isShareOrAdsArray[1]=this.returnRangeRadom(e[1],e[2]),this._isShareOrAdsArray[2]=this.returnRangeRadom(t[1],t[2]),this._isShareOrAdsArray[3]=this.returnRangeRadom(n[1],n[2]),this._isShareOrAdsArray[4]=this.returnRangeRadom(a[1],a[2]),this._isShareOrAdsArray[5]=this.returnRangeRadom(o[1],o[2]),this._isShareOrAdsArray[6]=this.returnRangeRadom(i[1],i[2]),this._isShareOrAdsArray[9]=this.returnRangeRadom(r[1],r[2]),this._isShareOrAdsArray[11]=this.returnRangeRadom(s[1],s[2]),this._isShareOrAdsArray[12]=this.returnRangeRadom(l[1],l[2]);var d=this._json.share2[1],u=this._json.share2[2],c=this._json.share2[3],h=this._json.share2[4],f=this._json.share2[5],g=this._json.share2[6],p=this._json.share2[9],_=this._json.share2[11],v=this._json.share2[12];this._isShareOrAdsArray2[1]=this.returnRangeRadom(d[1],d[2]),this._isShareOrAdsArray2[2]=this.returnRangeRadom(u[1],u[2]),this._isShareOrAdsArray2[3]=this.returnRangeRadom(c[1],c[2]),this._isShareOrAdsArray2[4]=this.returnRangeRadom(h[1],h[2]),this._isShareOrAdsArray2[5]=this.returnRangeRadom(f[1],f[2]),this._isShareOrAdsArray2[6]=this.returnRangeRadom(g[1],g[2]),this._isShareOrAdsArray2[9]=this.returnRangeRadom(p[1],p[2]),this._isShareOrAdsArray2[11]=this.returnRangeRadom(_[1],_[2]),this._isShareOrAdsArray2[12]=this.returnRangeRadom(v[1],v[2])},e.prototype.setCurDefCallType=function(e){this._curDefCallType=e},e.prototype.setCurWatchVedioTimes=function(e){this._curShareOrAdsArray[e]++},e.prototype.setCurWatchVedioTimes2=function(e){this._curShareOrAdsArray2[e]++},e.prototype.setIsGroups=function(e){this._isGroups=e},e.prototype.getIsGroups=function(){return this._isGroups},e.prototype.setShareOrAds=function(e){this.share_or_video=e,v.default.gameData.share_or_video=this.share_or_video},e.prototype.getShareOrAds=function(){return this.share_or_video},e.prototype.returnAdsOrShare=function(e){if(this._curDefCallType==e)return this._curDefCallType="",!1;if(0==this.share_or_video){if(this._isShareOrAdsArray2[e]==this._curShareOrAdsArray2[e]){var t=this._json.share2[e];return this._isShareOrAdsArray2[e]=this.returnRangeRadom(t[1],t[2]),this._curShareOrAdsArray2[e]=0,!0}return!1}if(this._isShareOrAdsArray[e]==this._curShareOrAdsArray[e]){t=this._json.share[e];return this._isShareOrAdsArray[e]=this.returnRangeRadom(t[1],t[2]),this._curShareOrAdsArray[e]=0,!1}return!0},e.prototype.setShareBase64Img=function(e,t){this._shareBase64Img[e]=t},e.prototype.returnShareBase64Img=function(e){return this._shareBase64Img[e]?this._shareBase64Img[e]:null},e.prototype.getNowLevelId=function(){return-1==this._recordNowLevelId&&(this._recordNowLevelId=this.packageLevelId()),this._recordNowLevelId},e.prototype.getNextLevelId=function(){return a.default.getInstance().getTableDataOne("Wave",this._recordNowLevelId.toString(),"Nextid")},e.prototype.setLevelBigAndSmall=function(e,t){void 0===t&&(t=1),this._recordPlayerNowBigLevel=e,this._recordPlayerNowLittleLevel=t,this._recordNowLevelId=this.packageLevelId()},e.prototype.gameDefToChangeLevel=function(){var e={},t=this.getNowLevelId();return e.param=t,e.param2=0,s.default.getInstance().startCallServer(g.default,e),this._recordPlayerNowLittleLevel=1,this._recordNowLevelId=this.packageLevelId(),s.default.getInstance().startCallServer(c.default,-1),this._recordNowLevelId},e.prototype.gameDefToResurgence=function(){var e={},t=this.getNowLevelId();e.param=t,e.param2=1,s.default.getInstance().startCallServer(g.default,e),s.default.getInstance().startCallServer(c.default,-1)},e.prototype.packageLevelId=function(){return 100*this._recordPlayerNowBigLevel+this._recordPlayerNowLittleLevel},e.prototype.addSmallLevel=function(){return this._recordPlayerNowLittleLevel+=1,this._recordNowLevelId=this.packageLevelId(),s.default.getInstance().startCallServer(c.default),this._recordNowLevelId},e.prototype.addBigLevel=function(){return this._recordNowLevelId=a.default.getInstance().getTableDataOne("Wave",this._recordNowLevelId.toString(),"Nextid"),this._recordPlayerNowBigLevel=Math.floor(this._recordNowLevelId/100),this._recordPlayerNowLittleLevel=1,this.changeLibaryLevel(),s.default.getInstance().startCallServer(c.default),this._recordNowLevelId},e.prototype.changeLibaryLevel=function(){this._recordLibaryMaxLevel<this._recordPlayerNowBigLevel&&(this._recordLibaryMaxLevel=this._recordPlayerNowBigLevel)},e.prototype.glodChange=function(e){this._recordPlayerGold+=e,this._recordPlayerGold=this._recordPlayerGold<0?0:this._recordPlayerGold,o.default.dispatchEvent(i.EventEnum.GoldChange,e)},e.prototype.updateLevelLoadValue=function(e){this._recordLevelProgress.value=100*e},e.prototype.getMonsterBookData=function(){if(null!=this._recordMonsterBookData)return this._recordMonsterBookData;console.log("\u6570\u636e\u4e3a\u7a7a\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.addMonsterBookShareData=function(e){this._recordMonsterBookData[e]=!0},e.prototype.recordJindutiao=function(e){this._jindutiao=e},e.prototype.setJindutiaoValue=function(e){this._jindutiao&&(this._jindutiao.fillAmount=e)},e.prototype.getNowGolds=function(){return this._recordPlayerGold},e.prototype.getNowBigLevel=function(){return this._recordPlayerNowBigLevel},e.prototype.getNowSmallLevel=function(){return this._recordPlayerNowLittleLevel},e.prototype.getLibaryLevel=function(){return this._recordLibaryMaxLevel},e.prototype.getNowMaxLevelTowerId=function(e){if(null!=this._recordLibaryTopTowerArr[e])return this._recordLibaryTopTowerArr[e];cc.error("\u672a\u53d1\u73b0\u6b64\u7c7b\u578b\uff01",this._recordLibaryTopTowerArr,e)},e.prototype.getNowMaxLevelTowerData=function(){return this._recordLibaryTopTowerArr},e.prototype.setLibaryMaxLevelTowerId=function(e,t){null!=e&&null!=t&&(t>this._recordLibaryTopTowerArr[e]&&(d.default.getInstance().OpenWindow("PopWnd","FindNewTowerWnd",u.default,t,d.WindowLayer.PopupWnd),this._recordLibaryTopTowerArr[e]=t))},e.prototype.unlockTowerSolt=function(e){var t=this.getTowerData();t[e]=0,this.setNowTowerData(t),o.default.dispatchEvent(i.EventEnum.TowerSoltChange)},e.prototype.getTowerBuildCount=function(e){return this._recordTowerBuildCount[e]?this._recordTowerBuildCount[e]:0},e.prototype.getTowerBuildCountData=function(){return this._recordTowerBuildCount},e.prototype.towerBuildCountAdd=function(e){this._recordTowerBuildCount[e]?this._recordTowerBuildCount[e]++:this._recordTowerBuildCount[e]=1},e.prototype.getTowerBuildPrice=function(e){for(var t=a.default.getInstance().getTableDataRow("Turret",e.toString()),n=this.getTowerBuildCount(e),o=t.Sale,i=t.SaleRate,r=o,s=0;s<n;s++)r*=1+i;return r},e.prototype.getNowIsCanBuild=function(){for(var e=0,t=this._recordTowerData.length,n=0;n<t;n++)0==this._recordTowerData[n]&&e++;return e>0},e.prototype._collatingDataToGroup=function(){if(null==this._recordAllTowerGroup){this._recordAllTowerGroup={};var e=a.default.getInstance().getAllTableData("Turret");for(var t in e){var n=e[t].Type;null==this._recordAllTowerGroup[n]&&(this._recordAllTowerGroup[n]=[]),this._recordAllTowerGroup[n].push(e[t].ID)}}},e.prototype.getAllTowerCount=function(e){if(this._collatingDataToGroup(),null!=this._recordAllTowerGroup[e])return this._recordAllTowerGroup[e].length;console.log("\u4e0d\u5b58\u5728\u7684\u70ae\u5854\u7c7b\u578b\u6216\u8005\u6570\u636e!",e,this._recordAllTowerGroup)},e.prototype.getSomeTypeTowers=function(e){return this._collatingDataToGroup(),null==this._recordAllTowerGroup[e]?[]:this._recordAllTowerGroup[e]},e.prototype.getTypeTowerMaxId=function(e){if(this._collatingDataToGroup(),null!=this._recordAllTowerGroup[e]){var t=this._recordAllTowerGroup[e].length-1;return this._recordAllTowerGroup[e][t]}console.log("\u4e0d\u5b58\u5728\u7684\u70ae\u5854\u7c7b\u578b\u6216\u8005\u6570\u636e!",e,this._recordAllTowerGroup)},e.prototype.getAllMonsterCount=function(){if(-1==this._recordAllMonsterCount){var e=a.default.getInstance().getAllTableData("Monster"),t=0;for(var n in e)t++;this._recordAllMonsterCount=t}return this._recordAllMonsterCount},e.prototype.trimShopData=function(){var e=a.default.getInstance().getAllTableData("Turret");for(var t in this._recordUnLockData={},e){var n=e[t].ID,o=e[t].Unlock;void 0==this._recordUnLockData[o]&&(this._recordUnLockData[o]=n)}},e.prototype.getTowerUnLockNeedLevel=function(e){return null==this._recordUnLockData&&this.trimShopData(),this._recordUnLockData[e]?this._recordUnLockData[e]:-1},e.prototype.getTowerData=function(){return this._recordTowerData.slice()},e.prototype.setNowTowerData=function(e){this._recordTowerData=e},e.prototype.judgeTowerDataIsEqual=function(e){for(var t=0,n=0,a=0,o=e.length;a<o;a++)0!=e[a]&&t++,n+=e[a];var i=0,r=0;for(a=0,o=this._recordTowerData.length;a<o;a++)0!=this._recordTowerData[a]&&i++,r+=this._recordTowerData[a];return t==i&&n==r},e.prototype.returnLevelIconName=function(e){var t=a.default.getInstance().getTableDataOne("Wave",e.toString(),"Sign"),n="";return 0==t?n="ui_tongyong_putongguan":1==t?n="ui_tongyong_guaiwuguan":2==t&&(n="ui_tongyong_jinbiguan"),n},e.prototype.returnGlodString=function(e){var t=e;return t<1e3?t.toFixed(0):t<1e6?t%1e3==0?(t/=1e3).toFixed(0)+"K":(t/=1e3).toFixed(1)+"K":t<1e9?t%1e6==0?(t/=1e6).toFixed(0)+"M":(t/=1e6).toFixed(1)+"M":t<1e12?t%1e9==0?(t/=1e9).toFixed(0)+"B":(t/=1e9).toFixed(1)+"B":t<1e15?t%1e12==0?(t/=1e12).toFixed(0)+"T":(t/=1e12).toFixed(1)+"T":t%1e15==0?(t/=1e15).toFixed(0)+"Q":(t/=1e15).toFixed(1)+"Q"},e.prototype.setBuildBtnPos=function(e){this._recordBuildBtnList=e},e.prototype.getBuildBtnPos=function(e){this._recordBuildBtnList.scrollToView(0,!0,!0);var t=this._recordBuildBtnList.getChildAt(e-1),n=this._recordBuildBtnList.findParent();return cc.v2(this._recordBuildBtnList.x+t.x+n.x,this._recordBuildBtnList.y+t.y+n.y)},e.prototype.resumeGuideList=function(){},e.prototype.setTrashBtnPos=function(e){this._recordTrashBtnPos=e},e.prototype.getTrashBtnPos=function(){return this._recordTrashBtnPos},e.prototype.setGuideSecondPos=function(e){this._recordGuidSecendPos=e},e.prototype.getGuideSecondPos=function(){return this._recordGuidSecendPos},e.prototype.getGuideSecondShadePos=function(){var e=this.getIdxTowerPos(6);return cc.v2(e.x,cc.winSize.height-e.y)},e.prototype.getGuideSecondRepeatHandPos=function(){for(var e=[],t=this.getTowerData(),n=0;n<t.length;n++)10101==t[n]&&e.push(n);var a=[],o=this.getIdxTowerPos(e.pop()),i=this.getIdxTowerPos(e.pop());return a.push(cc.v2(o.x,cc.winSize.height-o.y)),a.push(cc.v2(i.x,cc.winSize.height-i.y)),a},e.prototype.getThird2HandPos=function(){for(var e=[],t=this.getTowerData(),n=0;n<t.length;n++)10301==t[n]&&e.push(n);var a=[],o=this.getIdxTowerPos(e.pop()),i=this.getIdxTowerPos(e.pop());return a.push(cc.v2(o.x,cc.winSize.height-o.y)),a.push(cc.v2(i.x,cc.winSize.height-i.y)),a},e.prototype.setFiveGuidePos=function(e){this._recordFiveGuidePos=e},e.prototype.getFiveGuidePos=function(){return this._recordFiveGuidePos},e.prototype.setSixGuidePos=function(e){this._recordSixGuidePos=e},e.prototype.getSixGuidePos=function(){return this._recordSixGuidePos},e.prototype.setSevenGuidePos=function(e){this._recordSevenGuidePos=e},e.prototype.getSevenSixGuidePos=function(){return this._recordSevenGuidePos},e.prototype.SetIsInGuide=function(e){this._recordNowIsInGuide=e,0==e&&this._recordPlayerNowBigLevel>3&&0==this._alredyOpenQiandao&&0==this._is_get_sign_award&&this._get_login_awards_level.length<7&&(this._alredyOpenQiandao=!0,d.default.getInstance().OpenWindow("PopWnd","RewardOf7DaysWnd",p.default,null,d.WindowLayer.GuidWnd))},e.prototype.GetIsInGuide=function(){return this._recordNowIsInGuide},e.prototype.setNowGuideState=function(e){this._recordNowGuideState=e},e.prototype.setNowGuideStateForServer=function(e){v.default.gameData.pass_novice_guide_id=e;var t=e>>4&15,n=15&e;this._recordNowGuideState=n+t/10},e.prototype.returnGuideState=function(){return this._recordNowGuideState},e.prototype.getWxOpenId=function(){return this._recordOpenId},e.prototype.setAllTowerPosData=function(e){this._recordAllTowerPosList=e},e.prototype.getAllTowerPosData=function(){return this._recordAllTowerPosList.slice()},e.prototype.getIdxTowerPos=function(e){if(!(e>=this._recordAllTowerPosList.length||e<0))return cc.v2(this._recordAllTowerPosList[e].x,this._recordAllTowerPosList[e].y);console.log("\u8be5\u70ae\u5854\u7d22\u5f15\u4e0d\u5b58\u5728\uff01\uff01\uff01")},e.prototype.setNowIsNeedDontShow=function(e){this._recordNowVersion=null==e?0:e,v.default.gameData.version=this._recordNowVersion},e.prototype.getNowIsNeddDontShow=function(){return 1==this._recordNowVersion},e.prototype.setAllTowerAttackPath=function(e){this._recordAllPathPosX=[];var t=e[1]-e[0];this._recordAllPathPosX.push(e[0]-t);for(var n=0;n<e.length;n++)this._recordAllPathPosX.push(e[n]);this._recordAllPathPosX.push(e[4]+t)},e.prototype.getSomePathPosX=function(e){return Math.round(e)!=e?.5*(this._recordAllPathPosX[e-.5]+this._recordAllPathPosX[e+.5]):this._recordAllPathPosX[e]},e.prototype.initAllLayer=function(e){null==this._recordNowBuildLayers?this._recordNowBuildLayers=e:cc.error("\u4e0d\u53ef\u91cd\u590d\u8fdb\u884c\u521d\u59cb\u5316\uff01")},e.prototype.getSomeLayerObj=function(e){return e>=this._recordNowBuildLayers.length||e<0?(cc.error("\u4f20\u5165\u5c42\u7ea7\u9519\u8bef\uff0c\u65e0\u6b64\u5c42\u7ea7\uff01",e),null):this._recordNowBuildLayers[e]},e.prototype.addDoubleGoldCount=function(e){this._recordNowDoubleGoldAllCount+=e,s.default.getInstance().startCallServer(h.default)},e.prototype.addDoubleGoldCount2=function(e){this._recordNowDoubleGoldAllCount+=e,o.default.dispatchEvent(i.EventEnum.RefreshBuffCount),s.default.getInstance().startCallServer(h.default)},e.prototype.getDoubleGoldBuffCount=function(){return this._recordNowDoubleGoldAllCount},e.prototype.useDoubleGoldBuffCount=function(){0!=this._recordNowDoubleGoldAllCount?(this._recordNowDoubleGoldAllCount--,o.default.dispatchEvent(i.EventEnum.UseBuff),s.default.getInstance().startCallServer(h.default)):cc.error("\u6b21\u6570\u4e3a\u7a7a\uff0c\u4e0d\u5e94\u4f7f\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype.addTowerUpSpeedCount=function(e){this._recordNowSpeedUpCount+=e,s.default.getInstance().startCallServer(h.default)},e.prototype.addTowerUpSpeedCount2=function(e){this._recordNowSpeedUpCount+=e,o.default.dispatchEvent(i.EventEnum.RefreshBuffCount),s.default.getInstance().startCallServer(h.default)},e.prototype.useUpTimeBuffCount=function(){0!=this._recordNowSpeedUpCount?(this._recordNowSpeedUpCount--,o.default.dispatchEvent(i.EventEnum.UseBuff),s.default.getInstance().startCallServer(h.default)):cc.error("\u6b21\u6570\u4e3a\u7a7a\uff0c\u4e0d\u5e94\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91!")},e.prototype.getTowerUpTimeCount=function(){return this._recordNowSpeedUpCount},e.prototype.addFrozenBuffCount=function(e){this._recordNowFrozenBuffCount+=e,s.default.getInstance().startCallServer(h.default)},e.prototype.addFrozenBuffCount2=function(e){this._recordNowFrozenBuffCount+=e,o.default.dispatchEvent(i.EventEnum.RefreshBuffCount),s.default.getInstance().startCallServer(h.default)},e.prototype.getFrozenBuffCount=function(){return this._recordNowFrozenBuffCount},e.prototype.useFrozenBuffCount=function(){0!=this._recordNowFrozenBuffCount?(this._recordNowFrozenBuffCount--,s.default.getInstance().startCallServer(h.default)):cc.error("\u6b21\u6570\u4e3a\u7a7a\uff0c\u4e0d\u5e94\u4f7f\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype.returnNowIsHaveBuff=function(){for(var e=this.getNowFriendsHelpData(),t=e.length,n=!1,a=0;a<t;a++)if(-1!=e[a].help_buff_id){n=!0;break}return n},e.prototype.returnNowBuffListIsNotFull=function(){for(var e=[],t=this.getLibaryLevel(),n=a.default.getInstance().getTableColumnLength("Helper"),o=this.getAllBuffOpenState(),i=0;i<n;i++)e[i]=a.default.getInstance().getTableDataOne("Helper",i.toString(),"Unlock")<=t;var r=!1;for(i=0;i<n;i++)if(e[i]&&!o[i]){r=!0;break}return r},e.prototype.retrunIsHaveNotHelpData=function(){for(var e=!1,t=this.getNowFriendsHelpData(),n=t.length,a=0;a<n;a++)-1==t[a].help_buff_id&&(e=!0);return e},e.prototype.setNowAddGoldBuffValue=function(e){this._recordAddGoldBuffValue=e},e.prototype.getNowAddGoldBuffValue=function(){return this._recordAddGoldBuffValue},e.prototype.setNowDamageBuffValue=function(e){this._recordDamageBuffValue=e},e.prototype.getNowDamageBuffValue=function(){return this._recordDamageBuffValue},e.prototype.refreshBuffAllValue=function(){if(null==this._recordNowBuffOpenState){var e=a.default.getInstance().getTableColumnLength("Helper");this._recordNowBuffOpenState=new Array(e)}for(var t=this._recordTrimFriendsData.length,n=0;n<t;n++){for(var o=this._recordTrimFriendsData[n].length,i=!0,r=0;r<o;r++)if(null==this._recordTrimFriendsData[n][r]){i=!1;break}i&&(this._recordNowBuffOpenState[n]=!0)}var s=this.getAllBuffOpenState(),l=s.length,d=0,u=0;for(n=0;n<l;n++){if(s[n])1==a.default.getInstance().getTableDataOne("Helper",n.toString(),"Type")?u+=a.default.getInstance().getTableDataOne("Helper",n.toString(),"Value"):d+=a.default.getInstance().getTableDataOne("Helper",n.toString(),"Value")}this._recordDamageBuffValue=d,this._recordAddGoldBuffValue=u},e.prototype.setNowBuffOpenState=function(e,t){if(null==this._recordNowBuffOpenState){var n=a.default.getInstance().getTableColumnLength("Helper");this._recordNowBuffOpenState=new Array(n)}this._recordNowBuffOpenState[e]=t},e.prototype.getAllBuffOpenState=function(){if(null==this._recordNowBuffOpenState){var e=a.default.getInstance().getTableColumnLength("Helper");this._recordNowBuffOpenState=new Array(e)}return this._recordNowBuffOpenState},e.prototype.setFriendsHelpData=function(e,t){t instanceof r.default?this._recordFriendsHelpData=e:console.log("%c \u975e\u6cd5\u8c03\u7528\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01","color:#FF0000"),this.trimFriendsHelpData()},e.prototype._initFriendsList=function(){this._recordTrimFriendsData=[];for(var e=a.default.getInstance().getTableColumnLength("Helper"),t=0;t<e;t++){var n=a.default.getInstance().getTableDataOne("Helper",t.toString(),"PlayerCount");this._recordTrimFriendsData[t]=new Array(n)}},e.prototype.getNowFriendsHelpData=function(){return this._recordFriendsHelpData.sort(function(e,t){return-1==e.help_buff_id?-1:0}),this._recordFriendsHelpData},e.prototype.resetFrendsData=function(){this._recordTrimFriendsData.length=0,this._recordNowBuffOpenState.length=0,this._recordTrimFriendsData=null,this._recordNowBuffOpenState=null},e.prototype.trimFriendsHelpData=function(){null==this._recordTrimFriendsData&&this._initFriendsList();for(var e=this._recordFriendsHelpData.length,t=0;t<e;t++)if(-1!=this._recordFriendsHelpData[t].help_buff_id){var n=this._recordFriendsHelpData[t].help_buff_id,a=this._recordFriendsHelpData[t].index;this._recordTrimFriendsData[n][a]=this._recordFriendsHelpData[t]}},e.prototype.getTrimSomeHelpData=function(e,t){return this._recordTrimFriendsData[e]&&this._recordTrimFriendsData[e][t]?this._recordTrimFriendsData[e][t]:null},e.prototype.switchFriendsData=function(e,t,n,a){var o=this._recordTrimFriendsData[e][t];this._recordTrimFriendsData[e][t]=this._recordTrimFriendsData[n][a],this._recordTrimFriendsData[e][t]&&(this._recordTrimFriendsData[e][t].help_buff_id=e,this._recordTrimFriendsData[e][t].index=t),this._recordTrimFriendsData[n][a]=o,this._recordTrimFriendsData[n][a]&&(this._recordTrimFriendsData[n][a].help_buff_id=n,this._recordTrimFriendsData[n][a].index=a);var i=[];this._recordTrimFriendsData[e][t]&&i.push(this._recordTrimFriendsData[e][t]),this._recordTrimFriendsData[n][a]&&i.push(this._recordTrimFriendsData[n][a]);for(var r=[],l=i.length,d=0;d<l;d++)r[d]={},r[d].help_buff_id=i[d].help_buff_id,r[d].index=i[d].index,r[d].user_id=i[d].user_id;s.default.getInstance().startCallServer(f.default,r)},e.prototype.getIsOpenSettingForFriends=function(){return this._recordIsOpenSetting},e.prototype.setSettingStateForFriends=function(e){this._recordIsOpenSetting=e},e.prototype.setRedDotObj=function(e){this._redDotobj1=e},e.prototype.setRedDotState=function(e){this._redDotobj1.visible=e},e.prototype.setRedDotObjQD=function(e){this._redDotobj2=e},e.prototype.setRedDotStateQD=function(e){this._redDotobj2.visible=e},e.prototype.setSessionKey=function(e){this._sessionKey=e},e.prototype.getSessionKey=function(){return this._sessionKey},Object.defineProperty(e.prototype,"NowVersionIsNormal",{get:function(){return this._isNormal},set:function(e){this._isNormal=e},enumerable:!0,configurable:!0}),e.prototype.SetFocusAwardIsGet=function(e){this._isGetFocusAward=e,v.default.gameData.record_bag.is_get_attention_award=this._isGetFocusAward},e.prototype.GetFocusAwardIsGet=function(){return this._isGetFocusAward},e.prototype.SetIsGetSignAward=function(e){this._is_get_sign_award=e,v.default.gameData.is_get_sign_award=this._is_get_sign_award},e.prototype.GetIsGetSignAward=function(){if(v.default.gameData)if(v.default.gameData.lastSignTimestamp){var e=new Date;new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()>v.default.gameData.lastSignTimestamp&&this.SetIsGetSignAward(0)}else this.SetIsGetSignAward(0);return 0!=this._is_get_sign_award},e.prototype.SetLoginAwardsLevel=function(e){this._get_login_awards_level=e,v.default.gameData.record_bag.login_info.get_login_awards_level=this._get_login_awards_level},e.prototype.GetLoginAwardsLevel=function(){return this._get_login_awards_level},e.prototype.InitNowAllTowerBlood=function(e){this._towerBlood=e,v.default.gameData.record_bag.tower_blood=this._towerBlood},e.prototype.GetAllTowerBlood=function(){return this._towerBlood},e.prototype.GetSomeTowerBlood=function(e){return null==this._towerBlood[e]?(cc.error("\u4e0d\u5b58\u5728\u7684\u70ae\u5854Id\uff1a",e,this._towerBlood),3):this._towerBlood[e]},e.prototype.ChangeSomeTowerBlood=function(e,t){if(null==this._towerBlood[e])return cc.error("\u4e0d\u5b58\u5728\u7684\u70ae\u5854Id\uff1a",e,this._towerBlood),!1;this._towerBlood[e]=t},e.prototype.QTTBuyreward=function(e){d.default.getInstance().OpenWindow("PublishPackage","BuyQTTCoinWnd",_.default,e,d.WindowLayer.PopupWnd)},e}();n.default=I,cc._RF.pop()},{"../SDK/Global":"Global","../Server/BaseServer":"BaseServer","../Server/CountPlayerDeadServer":"CountPlayerDeadServer","../Server/FriendsHelp/UpdateFriendsHelpServer":"UpdateFriendsHelpServer","../Server/RefreshUserDataServer":"RefreshUserDataServer","../Server/ServerManager":"ServerManager","../Server/UpdateBuffServer":"UpdateBuffServer","../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/BuyQTTCoinWnd":"BuyQTTCoinWnd","../UI/PopWnd/FindNewTowerWnd":"FindNewTowerWnd","../UI/PopWnd/RewardOf7DaysWnd":"RewardOf7DaysWnd","../UI/StartGame/StartWnd":"StartWnd","./ConfigMgr":"ConfigMgr","./EventEnum":"EventEnum","./EventManager":"EventManager"}],GameWnd:[function(e,t,n){"use strict";cc._RF.push(t,"6860aSvAilDyqSKdPyWdtAa","GameWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a,o,i=e("../Base/BaseWindow"),r=e("../../Manager/GameDataManager"),s=e("./TowerPrefab"),l=e("../../Manager/EventManager"),d=e("../../Manager/EventEnum"),u=e("../Manager/WindowManager"),c=e("./MainWnd"),h=e("../../Game/GameCtr/BulletManager"),f=e("../../Manager/ConfigMgr"),g=e("../../Game/GameCtr/MonsterLifeBarManager"),p=e("../../Server/ServerManager"),_=e("../../Server/UnlockLocationSever"),v=e("../../Game/GameCtr/MonsterManager"),I=e("../PopWnd/GuideWnd"),m=e("../../Manager/AudioManager"),C=e("../PopWnd/ShopWnd"),w=e("../Manager/WordEffManager"),y=e("../../SDK/SDKManager"),S=e("../../Game/GameCtr/TowerManager"),A=e("../../Manager/EffectOrAnimationManager"),M=e("../../Server/RefreshGoldAndTowerServer"),T=e("../../Manager/DelayTimeManager"),B=e("../PopWnd/LotteryWnd"),D=e("../PopWnd/FriendsHelpWnd"),E=e("../Manager/MyMath"),R=e("../../SDK/WeiXinAPPSDK"),G=e("../../Server/UpdateUserServer"),b=e("../StartGame/StartWnd"),P=e("../PopWnd/FindNewTowerWnd"),L=e("../../Manager/ParticEmissionMgr"),k=e("../PopWnd/RewardOf7DaysWnd"),N=e("../../Manager/RedDotManager");(function(e){e[e.NotShow=0]="NotShow",e[e.BuySolt=1]="BuySolt",e[e.GetGold=2]="GetGold",e[e.AddBuff=3]="AddBuff"})(a||(a={})),function(e){e[e.DoubleGold=0]="DoubleGold",e[e.TowerSpeedUp=1]="TowerSpeedUp",e[e.Frozen=2]="Frozen"}(o||(o={}));var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._towerOriginalPosArr=[],t._towerPic=[],t._towerBuildOrder=[2,1,3,0,4,7,6,8,5,9,12,11,13,10,14],t._openTowerArr=[[7,12],[6,7,11,12],[6,7,8,11,12,13],[5,6,7,8,10,11,12,13],[5,6,7,8,9,10,11,12,13,14]],t._compoundDis=1e4,t._towerNodePool=[],t._recordNowTower=[],t._tagNowIsShowCom=a.NotShow,t._recordNowClickSoltId=0,t._recordNowBuildLayers=[],t._recordNowIsHaveTip=!1,t._timerCut=0,t._guideSpriteNode=null,t._lightTowerBuildNode=null,t._lightTowerBuildNode2=null,t._isTipsReward=!1,t._recordCanUseEffCom=[],t._recordUseingEffCom={},t._openListBtnShow=!1,t._isInEff=!1,t.plantBoxZIndex=999,t.plantBoxPool={},t.onclickPlantBox=null,t._towerId=-1,t._recordTreasureCom=null,t._btnTwwen=null,t._frozenWnd=null,t._frozenEff=null,t._mParticEmission=L.default.Create(),t._particPool=[],t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),u.default.getInstance().addChildAt(this._view,0),this._trashImg=this._view.getChild("n37").asCom;var e=r.default.getInstance().getTrashBtnPos();this._trashImg.setPosition(e.x,e.y);for(var t=[],n=[],a=0;a<15;a++){this._towerOriginalPosArr[a]=this._view.getChild("n"+a).asLoader,t[a%5]=this._towerOriginalPosArr[a].x;var o=cc.find("Canvas/BG/ui_paodanditu"+a);this._towerPic[a]=o,o.setPosition(this._towerOriginalPosArr[a].x-.5*cc.winSize.width,cc.winSize.height/2-this._towerOriginalPosArr[a].y),this._recordNowTower[a]=null,n.push(cc.v2(this._towerOriginalPosArr[a].x,cc.winSize.height-this._towerOriginalPosArr[a].y))}r.default.getInstance().setAllTowerPosData(n),this._recordNowBuildLayers=[],this._recordNowBuildLayers.push(this._view.getChild("layer1").asCom),this._recordNowBuildLayers.push(this._view.getChild("layer2").asCom),this._recordNowBuildLayers.push(this._view.getChild("layer3").asCom),this._recordNowBuildLayers.push(this._view.getChild("layer4").asCom),this._effLayer=this._view.getChild("effLayer").asCom,this._popComBgImg=this._view.getChild("n77").asLoader,this._popComBgImg.visible=!1,r.default.getInstance().initAllLayer(this._recordNowBuildLayers),this._recordBuySoltCom=this._view.getChild("n38").asCom,this._recordBuySoltCom.getChild("n40").asButton.onClick(this.BtnCancelCall,this),this._recordBuySoltCom.getChild("n39").asButton.onClick(this.BtnOKCall,this),this._buyNeedGlodTxt=this._recordBuySoltCom.getChild("n45").asTextField,this._lookVideoGetGlodTxt=this._recordBuySoltCom.getChild("n50").asTextField,this._buySoltTxtGroup=this._recordBuySoltCom.getChild("n47").asGroup,this._lookVideoGetGoldGroup=this._recordBuySoltCom.getChild("n55").asGroup,this._getBuffTip=this._recordBuySoltCom.getChild("n71").asGroup,this._recordBuySoltCom.getChild("n67").asLoader.onClick(this.BtnCancelCall,this),this._recordBuySoltCom.getChild("n70").asButton.onClick(this.PopWndTreasureClickOkCall,this),this._doubleGoldBtn=this._view.getChild("n54").asButton,this._upTimeBtn=this._view.getChild("n62").asButton,this._frozenBtn=this._view.getChild("n82").asButton,this._doubleGoldBtnProgress=this._doubleGoldBtn.getChild("n55").asImage,this._upTimeBtnProgress=this._upTimeBtn.getChild("n65").asImage,this._frozenBtnProgress=this._frozenBtn.getChild("n55").asImage,this._doubleGoldTipCom=this._view.getChild("n61").asCom,this._upTimeTipCom=this._view.getChild("n67").asCom,this._frozenTipCom=this._view.getChild("n83").asCom,this._plantBoxParent=this._view.getChild("plantBoxGroup").asCom,this._boxTipCom=this._view.getChild("n74").asCom,this._boxTipCom.visible=!1,this._boxTipCom.getChild("n6").onClick(this.openPlantBox,this),this._boxTipCom.getChild("n7").onClick(this.unShareOfPalntBox,this),this._leftAllBtnList=this._view.getChild("n94").asList,this._popListBtn=this._view.getChild("n97").asButton,N.default.AddRedDotListener("LeftList",this._popListBtn.getChild("n99")),N.default.RefreshRedDotState("LeftList",!1),this._popListBtn.onClick(this.OpenListBtn,this),this._doubleGoldBtn.onClick(this.DoubleGlodBtnClickCall,this),this._frozenBtn.onClick(this.FrozenBtnClickCall,this);var i=cc.v2(this._frozenBtn.x,this._frozenBtn.y);r.default.getInstance().setSevenGuidePos(i);var s=cc.v2(this._doubleGoldBtn.x,this._doubleGoldBtn.y);r.default.getInstance().setFiveGuidePos(s),this._upTimeBtn.onClick(this.UpTimeBtnClickCall,this);var l=cc.v2(this._upTimeBtn.x,this._upTimeBtn.y);r.default.getInstance().setSixGuidePos(l),r.default.getInstance().setGuideSecondPos(cc.v2(this._towerOriginalPosArr[7].x-this._towerOriginalPosArr[7].width/2,this._towerOriginalPosArr[7].y-this._towerOriginalPosArr[7].height/2)),r.default.getInstance().setAllTowerAttackPath(t),g.default.getInstance().setLoadNodeCom(this._view.getChild("LifeLayer").asCom),h.default.getInstance().setBulletParentNode(this.GetBulletNode().node),p.default.getInstance().registerServer(_.default),m.default.getInstance().playAudio("Mp3/fightbgm",!0,.7,!0),this._recordBuySoltCom.getChild("n70").asButton.getChild("n4").visible=!1},t.prototype.OnOpen=function(){this.ResetListBtn(),this.RefreshAgreePos(),null!=this._btnTwwen&&this._btnTwwen.kill(!0),this._RefreshTrashIsShow(),this._recordNowClickSoltId=0,this._recordNowIsHaveTip=!1,this._recordBuySoltCom.visible=!1,this._boxTipCom.visible=!1,this._popComBgImg.visible=!1,v.default.getInstance().setCurPlantBoxCount(0);for(var e=this._recordNowTower.length,t=0;t<e;t++){if(null!=this._recordNowTower[t])this._recordNowTower[t].ResetData()}this.InitBuffBtnState(),this.CheckOpenNormalTower(),this._plantBoxParent.removeChildren(),this.InitAllTowerNode();var n=r.default.getInstance().getNowLevelId();v.default.getInstance().startLevel(n),this.CheckIsNeedGuide(),l.default.addEventListener(d.EventEnum.CreateBuff,this.CreateBalloonTreasure,this),l.default.addEventListener(d.EventEnum.PlaySuccess,this.CheckIsNeedGuide,this),l.default.addEventListener(d.EventEnum.AddSomeTower,this.AddTowerById,this),l.default.addEventListener(d.EventEnum.TowerSoltChange,this.OnSlotChangeCall,this),l.default.addEventListener(d.EventEnum.PauseGame,this.PauseGameCall,this),l.default.addEventListener(d.EventEnum.ResumeGame,this.ResumeGameCall,this),l.default.addEventListener(d.EventEnum.ServerToBuff,this.GetBuff,this),l.default.addEventListener(d.EventEnum.CreatePlantBox,this.canCreatePlantBox,this),l.default.addEventListener(d.EventEnum.DestoryTower,this.DestoryTowerByIdx,this),l.default.addEventListener(d.EventEnum.ResetTowerData,this.ResetTowerData,this),l.default.addEventListener(d.EventEnum.RefreshBuffCount,this._RefreshBuffCount,this),l.default.addEventListener(d.EventEnum.AttackMarkTower,this.EffMarkTower,this),l.default.addEventListener(d.EventEnum.AgreeAuthorization,this.playerIsAgreeInfo,this),l.default.addEventListener(d.EventEnum.RefreshAgreeBtnPos,this.RefreshAgreePos,this),l.default.addEventListener(d.EventEnum.GuideOver,this.GuideOverCall,this),l.default.addEventListener(d.EventEnum.ResetFrozen,this.ResetFrozenBtn,this),l.default.addEventListener(d.EventEnum.HideQiandao,this.HideQiandaoBtn,this)},t.prototype.OnClose=function(){l.default.removeEventListener(d.EventEnum.PlaySuccess,this.CheckIsNeedGuide,this),l.default.removeEventListener(d.EventEnum.CreateBuff,this.CreateBalloonTreasure,this),l.default.removeEventListener(d.EventEnum.AddSomeTower,this.AddTowerById,this),l.default.removeEventListener(d.EventEnum.TowerSoltChange,this.OnSlotChangeCall,this),l.default.removeEventListener(d.EventEnum.PauseGame,this.PauseGameCall,this),l.default.removeEventListener(d.EventEnum.ResumeGame,this.ResumeGameCall,this),l.default.removeEventListener(d.EventEnum.ServerToBuff,this.GetBuff,this),l.default.removeEventListener(d.EventEnum.CreatePlantBox,this.canCreatePlantBox,this),l.default.removeEventListener(d.EventEnum.DestoryTower,this.DestoryTowerByIdx,this),l.default.removeEventListener(d.EventEnum.ResetTowerData,this.ResetTowerData,this),l.default.removeEventListener(d.EventEnum.RefreshBuffCount,this._RefreshBuffCount,this),l.default.removeEventListener(d.EventEnum.AttackMarkTower,this.EffMarkTower,this),l.default.removeEventListener(d.EventEnum.AgreeAuthorization,this.playerIsAgreeInfo,this),l.default.removeEventListener(d.EventEnum.RefreshAgreeBtnPos,this.RefreshAgreePos,this),l.default.removeEventListener(d.EventEnum.GuideOver,this.GuideOverCall,this),l.default.removeEventListener(d.EventEnum.ResetFrozen,this.ResetFrozenBtn,this),l.default.removeEventListener(d.EventEnum.HideQiandao,this.HideQiandaoBtn,this)},t.prototype.GuideOverCall=function(e){0==e?(this._guideIsOver=!0,u.default.getInstance().WndIsShow("FindNewTowerWnd",P.default)||(this._towerWndIsClose=!0)):this._towerWndIsClose=!0;this._CheckAllCtrState()},t.prototype.ResetAllCtrValue=function(){this._levelIsNeed=!1,this._towerWndIsClose=!1,this._guideIsOver=!1},t.prototype._CheckAllCtrState=function(){this._levelIsNeed&&this._towerWndIsClose&&this._guideIsOver&&(this._StartGuide(),this.ResetAllCtrValue())},t.prototype._StartGuide=function(){var e=this;if(null==this._guideSpriteNode&&(this._guideSpriteNode=cc.find("Canvas/BG/weakGuide/ui_hongdi"),this._lightTowerBuildNode=cc.find("Canvas/BG/ui_paodandituX"),this._lightTowerBuildNode2=cc.find("Canvas/BG/ui_paodandituX2")),null!=this._guideSpriteNode){var t=0;switch(r.default.getInstance().getNowBigLevel()){case 2:t=1;break;case 3:t=3;break;case 5:t=0;break;case 7:t=4;break;default:return}var n=r.default.getInstance().getSomePathPosX(t+1);n-=.5*cc.winSize.width,this._guideSpriteNode.height=cc.winSize.height,this._guideSpriteNode.width=108,this._guideSpriteNode.x=n,this._guideSpriteNode.y=0,this._guideSpriteNode.active=!0,this._guideSpriteNode.opacity=50;fgui.GTween.to(0,2,.4).setEase(fgui.EaseType.Linear).onUpdate(function(t){if(t.value.x<=1)e._guideSpriteNode.opacity=50+255*t.value.x*.3;else{var n=t.value.x-1;e._guideSpriteNode.opacity=125-255*n*.3}},this).onComplete(function(){fgui.GTween.to(0,2,.4).setEase(fgui.EaseType.Linear).onStart(function(){e._lightTowerBuildNode.setPosition(e._towerOriginalPosArr[t+10].x-.5*cc.winSize.width,cc.winSize.height/2-e._towerOriginalPosArr[t+10].y),e._lightTowerBuildNode2.setPosition(e._towerOriginalPosArr[t+5].x-.5*cc.winSize.width,cc.winSize.height/2-e._towerOriginalPosArr[t+5].y),e._lightTowerBuildNode.active=!0,e._lightTowerBuildNode2.active=!0,e._lightTowerBuildNode.opacity=127,e._lightTowerBuildNode2.opacity=127},e).onUpdate(function(t){if(t.value.x<=1)e._lightTowerBuildNode.opacity=127+255*t.value.x*.5,e._lightTowerBuildNode2.opacity=127+255*t.value.x*.5;else{var n=t.value.x-1;e._lightTowerBuildNode.opacity=255-255*n*.5,e._lightTowerBuildNode2.opacity=255-255*n*.5}},e).onComplete(function(){fgui.GTween.to(1,0,1.5).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._lightTowerBuildNode.opacity=127*t.value.x,e._lightTowerBuildNode2.opacity=127*t.value.x,e._guideSpriteNode.opacity=50*t.value.x},e).onComplete(function(){e._lightTowerBuildNode.active=!1,e._lightTowerBuildNode2.active=!1,e._guideSpriteNode.active=!1},e)},e).setDelay(.5).setRepeat(3)},this).setRepeat(3)}},t.prototype._RefershLevelGuide=function(){var e=r.default.getInstance().getNowBigLevel();2!=e&&3!=e&&5!=e&&7!=e||(this._levelIsNeed=!0)},t.prototype._RefreshTrashIsShow=function(){var e=r.default.getInstance().getNowBigLevel();this._trashImg.visible=e>=6},t.prototype.playerIsAgreeInfo=function(e){e.param&&(y.default.getInstance().getUserInfo(function(e){p.default.getInstance().startCallServer(G.default,e)}),e.param2&&(u.default.getInstance().WndIsShow("StartWnd",b.default)||this.OpenFriendsHelpWndCall()))},t.prototype.RefreshAgreePos=function(){if(null!=this._friendsHelpBtn&&!R.default.getInstance().IsGree){var e=cc.v2(this._friendsHelpBtn.width,this._friendsHelpBtn.height),t=cc.v2(this._friendsHelpBtn.x+this._leftAllBtnList.x,this._friendsHelpBtn.y+this._leftAllBtnList.y);R.default.getInstance().ChangeWxUserInfoBtnStyle(e,t)}},t.prototype.CheckOpenNormalTower=function(){for(var e=r.default.getInstance().getTowerData(),t=r.default.getInstance().getNowLevelId(),n=f.default.getInstance().getTableDataOne("Wave",t.toString(),"Entrance"),a=0;a<this._openTowerArr[n-1].length;a++){var o=this._openTowerArr[n-1][a];-2==e[o]&&(e[o]=0,this._towerPic[o].active=!0)}r.default.getInstance().setNowTowerData(e),l.default.dispatchEvent(d.EventEnum.TowerSoltChange)},t.prototype.CheckIsNeedGuide=function(){this.ResetAllCtrValue(),this._RefershLevelGuide(),this._RefreshTrashIsShow(),this.CheckIsOpenBuff();var e=r.default.getInstance().getNowLevelId(),t=this._onlineGetGoldBtn.getChild("n49").asTextField,n=f.default.getInstance().getTableDataOne("Wave",e.toString(),"VideoMoney");t.text=r.default.getInstance().returnGlodString(n);for(var a=1==f.default.getInstance().getTableDataOne("Wave",e.toString(),"Newlocation"),o=0;o<5;o++)this._towerOriginalPosArr[o].visible=a,this._towerPic[o].active=a;this.CheckOpenNormalTower();var i=r.default.getInstance().returnGuideState();if(i<1.4&&101==e)u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd);else if(i<2&&201==e){u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd)}else if(i<3&&301==e){u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd)}else if(i<4&&501==e){u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd)}else if(i<6&&601==e){u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd)}else if(6==i&&e>=701){u.default.getInstance().WndIsShow("ShopWnd",C.default)&&u.default.getInstance().CloseNameWindow("ShopWnd",C.default),u.default.getInstance().OpenWindow("PopWnd","GuideWnd",I.default,null,u.WindowLayer.GuidWnd)}else r.default.getInstance().SetIsInGuide(!1)},t.prototype.BtnCancelCall=function(){switch(this._tagNowIsShowCom){case a.BuySolt:case a.GetGold:break;case a.AddBuff:this.PopWndTreasureClickCancleCall();break;default:cc.error("\u672a\u77e5\u7684\u7c7b\u578b\uff01",this._tagNowIsShowCom)}this._tagNowIsShowCom=a.NotShow,this._recordBuySoltCom.visible=!1,this._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,y.default.getInstance().hideBannerAD()},t.prototype.BtnOKCall=function(){switch(this._tagNowIsShowCom){case a.BuySolt:p.default.getInstance().startCallServer(_.default,this._recordNowClickSoltId),this._tagNowIsShowCom=a.NotShow,this._recordBuySoltCom.visible=!1,this._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,y.default.getInstance().hideBannerAD();break;case a.GetGold:this.GetOnlineReward();break;case a.AddBuff:this.PopWndTreasureClickOkCall();break;default:cc.error("\u672a\u77e5\u7684\u7c7b\u578b\uff01",this._tagNowIsShowCom),this._tagNowIsShowCom=a.NotShow,this._recordBuySoltCom.visible=!1,this._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,y.default.getInstance().hideBannerAD()}},t.prototype.SetNowPopWndTxt=function(e,t){switch(this._getBuffTip.visible=!1,this._buySoltTxtGroup.visible=e==a.BuySolt,this._lookVideoGetGoldGroup.visible=e==a.GetGold,e){case a.BuySolt:this._buyNeedGlodTxt.text=t;break;case a.GetGold:this._lookVideoGetGlodTxt.text=t;break;case a.AddBuff:this._getBuffTip.visible=!0;break;default:cc.error("\u672a\u77e5\u7684\u7c7b\u578b\uff01",e)}},t.prototype.timeCut=function(e){var t=Math.floor(e/60),n=e%60;return e>=60?n<10?t.toString()+":0"+n.toString():t.toString()+":"+n.toString():n<10?"0:0"+n.toString():"0:"+n.toString()},t.prototype.RefreshCoolingTime=function(){var e=this,t=f.default.getInstance().getTableDataOne("Words","16","Describe"),n=parseInt(t),a=this._onlineGetGoldBtn.getChild("n48").asImage,o=this._onlineGetGoldBtn.getChild("n49").asTextField,i=this._onlineGetGoldBtn.getChild("n50").asTextField;a.visible=!1,o.visible=!1,i.visible=!0,this._timerCut=n,this._onlineGetGoldBtn.grayed=!0,fgui.GTween.isTweening(this._onlineGetGoldBtn)&&fgui.GTween.kill(this._onlineGetGoldBtn),fgui.GTween.to(1,0,n).setTarget(this._onlineGetGoldBtn).setEase(fgui.EaseType.Linear).onUpdate(function(t){var a=Math.floor(t.value.x*n);i.text=e.timeCut(a),e._timerCut=a},this).onComplete(function(){e._onlineGetGoldBtn.grayed=!1;var t=r.default.getInstance().getNowLevelId(),n=e._onlineGetGoldBtn.getChild("n49").asTextField,o=e._onlineGetGoldBtn.getChild("n50").asTextField,i=f.default.getInstance().getTableDataOne("Wave",t.toString(),"VideoMoney");n.text=r.default.getInstance().returnGlodString(i),a.visible=!0,n.visible=!0,o.visible=!1,N.default.RefreshRedDotState("LeftList/VideoGoldBtn",!0)},this)},t.prototype.GetOnlineReward=function(){N.default.RefreshRedDotState("LeftList/VideoGoldBtn",!1),l.default.dispatchEvent(d.EventEnum.PauseGame),R.default.getInstance().ShowAgreeBtn=!1,y.default.getInstance().ShareOrAds("1",this._rewardCall,this._shareDefCall,this._lookAdsAudioDef,this,null)},t.prototype._rewardCall=function(){if(R.default.getInstance().ShowAgreeBtn=!0,1==r.default.getInstance().returnIsCanShare())return l.default.dispatchEvent(d.EventEnum.ShareToAnother,"1"),void l.default.dispatchEvent(d.EventEnum.ResumeGame);if(1==r.default.getInstance().getIsGroups())return l.default.dispatchEvent(d.EventEnum.ResumeGame),void l.default.dispatchEvent(d.EventEnum.ShareToAnother,"1");var e=r.default.getInstance().getNowLevelId(),t=f.default.getInstance().getTableDataOne("Wave",e.toString(),"VideoMoney");this.RefreshCoolingTime();var n={};n.param=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/2),n.param2=t,this._tagNowIsShowCom=a.NotShow,this._recordBuySoltCom.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,this._popComBgImg.visible=!1,y.default.getInstance().hideBannerAD(),l.default.dispatchEvent(d.EventEnum.OtherJoinAward,n),l.default.dispatchEvent(d.EventEnum.ResumeGame)},t.prototype._shareDefault=function(){var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];w.default.getInstance().DefaultCenterWordTip(t)},t.prototype._shareDefCall=function(){R.default.getInstance().ShowAgreeBtn=!0;var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];w.default.getInstance().DefaultCenterWordTip(t),r.default.getInstance().setCurDefCallType("1"),l.default.dispatchEvent(d.EventEnum.ResumeGame)},t.prototype._lookAdsAudioDef=function(){R.default.getInstance().ShowAgreeBtn=!0,l.default.dispatchEvent(d.EventEnum.ResumeGame)},t.prototype.GetOnlineRewardWnd=function(){var e=this;if(this._timerCut>0){if(0==this._isTipsReward){var t=f.default.getInstance().getTableDataOne("Words","60","Describe");this._isTipsReward=!0,w.default.getInstance().DefaultCenterWordTip(t,function(){e._isTipsReward=!1})}}else this.GetOnlineReward()},t.prototype.OnSlotChangeCall=function(){for(var e=this,t=r.default.getInstance().getTowerData(),n=f.default.getInstance().getTableDataOne("Words","4","Describe").split(","),a=function(a){if(o._towerOriginalPosArr[a].url=null,-1==t[a]){o._towerOriginalPosArr[a].url="ui://MainWnd/unlockBuild";var i=o._towerOriginalPosArr[a].component,s=r.default.getInstance().returnGlodString(parseInt(n[a]));i.getChild("n35").asTextField.text=s,i.onClick(function(){e.OnClickUnlockSlotCall(a,parseInt(n[a]))},o)}},o=this,i=0;i<t.length;i++)a(i)},t.prototype.GetBulletNode=function(){if(null==this._recordBulletPos){var e=new fgui.GLoader;e.setPosition(0,fgui.GRoot.inst.height),e.setSize(10,10),this._recordBulletPos=e,this._view.addChildAt(this._recordBulletPos,0)}return this._recordBulletPos},t.prototype.InitAllTowerNode=function(){for(var e=this,t=r.default.getInstance().getTowerData(),n=f.default.getInstance().getTableDataOne("Words","4","Describe").split(","),a=function(a){if(o._towerOriginalPosArr[a].url=null,-1==t[a]){o._towerOriginalPosArr[a].url="ui://MainWnd/unlockBuild";var i=o._towerOriginalPosArr[a].component,l=r.default.getInstance().returnGlodString(parseInt(n[a]));i.getChild("n35").asTextField.text=l,i.onClick(function(){e.OnClickUnlockSlotCall(a,parseInt(n[a]))},o)}else if(-2==t[a])o._towerPic[a].active=!1;else if(0!=t[a])if(t[a]<=999&&t[a]>0)t[a]=0;else{var d=null;d=o._towerNodePool.length<1?new s.default:o._towerNodePool.pop();var u=cc.v2(o._towerOriginalPosArr[a].x,o._towerOriginalPosArr[a].y);d.InitData(a,t[a],o,u),o._recordNowTower[a]=d}},o=this,i=0;i<t.length;i++)a(i);r.default.getInstance().setNowTowerData(t),p.default.getInstance().startCallServer(M.default)},t.prototype.OnClickUnlockSlotCall=function(e,t){if(this._tagNowIsShowCom==a.NotShow)if(r.default.getInstance().getNowGolds()>=t)this._recordNowClickSoltId=e,this.OpenTipsWnd(a.BuySolt,r.default.getInstance().returnGlodString(t));else{var n=this._view.getTransition("shake"+e);if(n.playing)return;n.play()}},t.prototype.OnDropOverCall=function(e){for(var t=this,n=-1,a=-1,o=0;o<this._towerOriginalPosArr.length;o++){var i=cc.v2(this._towerOriginalPosArr[o].x,this._towerOriginalPosArr[o].y),s=e.recordNowPos.sub(i),u=s.dot(s);-1==a&&(a=u,n=o),u<a&&(a=u,n=o)}if(-1!=n){var c=r.default.getInstance().GetIsInGuide(),h=r.default.getInstance().getTowerData(),g=e.recordNowPos.sub(cc.v2(this._trashImg.x,this._trashImg.y));if(g.dot(g)<.5*this._compoundDis){if(r.default.getInstance().getNowBigLevel()<6)return void e.ResetPosition();if(c)return void e.ResetPosition();var _=0;if(0==r.default.getInstance().getTowerBuildCount(e.GetTowerId())){var v=f.default.getInstance().getTableDataOne("Turret",e.GetTowerId().toString(),"Unlock");_=r.default.getInstance().getTowerBuildPrice(v)}else _=r.default.getInstance().getTowerBuildPrice(e.GetTowerId());r.default.getInstance().glodChange(.5*_),w.default.getInstance().addGoldCountShow(cc.v2(this._trashImg.x,this._trashImg.y-91),.5*_);var I=e.GetIdx();return e.ResetData(),this._recordNowTower[I]=null,this._towerNodePool.push(e),h[I]=0,r.default.getInstance().setNowTowerData(h),l.default.dispatchEvent(d.EventEnum.TowerCountChange),p.default.getInstance().startCallServer(M.default),void l.default.dispatchEvent(d.EventEnum.CreatePlantBox)}if(a>this._compoundDis)e.ResetPosition();else if(-1!=h[n]&&-2!=h[n])if(n!=e.GetIdx())if(h[n]>0&&h[n]<=999)e.ResetPosition();else{if(0==h[n]){if(c)return void e.ResetPosition();var m=cc.v2(this._towerOriginalPosArr[n].x,this._towerOriginalPosArr[n].y);I=e.GetIdx();e.SetPos(m.x,m.y),e.SetIdx(n);var C=r.default.getInstance().GetSomeTowerBlood(I);return r.default.getInstance().ChangeSomeTowerBlood(n,C),r.default.getInstance().ChangeSomeTowerBlood(I,0),this._recordNowTower[I]=null,this._recordNowTower[n]=e,h[I]=0,h[n]=e.GetTowerId(),void r.default.getInstance().setNowTowerData(h)}var y=e.GetTowerId()==this._recordNowTower[n].GetTowerId(),S=f.default.getInstance().getTableDataOne("Turret",e.GetTowerId().toString(),"Type"),A=r.default.getInstance().getTypeTowerMaxId(S)==e.GetTowerId();if(y&&!A){if(c&&1==S&&3==r.default.getInstance().getNowBigLevel())return void e.ResetPosition();if(r.default.getInstance().getNowBigLevel()<7)if(8==e.GetTowerId()-100*Math.floor(e.GetTowerId()/100)){if(0==this._recordNowIsHaveTip){this._recordNowIsHaveTip=!0;var T=f.default.getInstance().getTableDataOne("Words","58","Describe");w.default.getInstance().DefaultCenterWordTip(T,function(){t._recordNowIsHaveTip=!1})}return void e.ResetPosition()}var B=this._recordNowTower[n].TowerUpLevel();I=e.GetIdx();e.ResetData(),this._recordNowTower[I]=null,this._towerNodePool.push(e),h[I]=0,h[n]=B,r.default.getInstance().setNowTowerData(h);var D=f.default.getInstance().getTableDataOne("Turret",B.toString(),"Type");return r.default.getInstance().setLibaryMaxLevelTowerId(D,B),l.default.dispatchEvent(d.EventEnum.TowerLevelChange),p.default.getInstance().startCallServer(M.default),void this.canCreatePlantBox()}if(0==this._recordNowIsHaveTip&&A&&y){this._recordNowIsHaveTip=!0;T=f.default.getInstance().getTableDataOne("Words","10","Describe");w.default.getInstance().DefaultCenterWordTip(T,function(){t._recordNowIsHaveTip=!1})}if(!c){I=e.GetIdx();var E=e.GetPos(),R=this._recordNowTower[n].GetPos(),G=(C=r.default.getInstance().GetSomeTowerBlood(I),r.default.getInstance().GetSomeTowerBlood(n));e.SetPos(R.x,R.y),e.SetIdx(n),this._recordNowTower[n].SetPos(E.x,E.y),this._recordNowTower[n].SetIdx(I),r.default.getInstance().ChangeSomeTowerBlood(n,C),r.default.getInstance().ChangeSomeTowerBlood(I,G);var b=this._recordNowTower[n];return this._recordNowTower[n]=e,this._recordNowTower[I]=b,h[I]=this._recordNowTower[I].GetTowerId(),h[n]=this._recordNowTower[n].GetTowerId(),void r.default.getInstance().setNowTowerData(h)}e.ResetPosition()}else e.ResetPosition();else e.ResetPosition()}else console.log("\u4ee3\u7801\u903b\u8f91\u9519\u8bef!,\u6700\u8fd1\u70ae\u5854\u8ddd\u79bb\u4e0d\u5e94\u4e3a-1")},t.prototype.ResetTowerData=function(e){var t=r.default.getInstance().getTowerData();if(0!=t[e]&&666==t[e]){t[e]=0,r.default.getInstance().setNowTowerData(t),l.default.dispatchEvent(d.EventEnum.TowerCountChange),p.default.getInstance().startCallServer(M.default);var n=this._recordNowTower[e];null!=n&&(n.ResetData(),this._recordNowTower[e]=null,this._towerNodePool.push(n))}},t.prototype.DestoryTowerByIdx=function(e){this._removeTowerMark(e);var t=this._recordNowTower[e];if(null!=t){var n=r.default.getInstance().GetSomeTowerBlood(e);if(1==n){var a=r.default.getInstance().getTowerData();a[e]=666,r.default.getInstance().setNowTowerData(a),p.default.getInstance().startCallServer(M.default),t.ResetData(),this._recordNowTower[e]=null,this._towerNodePool.push(t)}else n>1?(t.subNowBoold(),p.default.getInstance().startCallServer(M.default)):cc.error("\u4e0d\u6b63\u786e\u7684\u70ae\u5854\u8840\u91cf\uff1a",e,n)}},t.prototype._CreateMissileAttackEff=function(e,t){var n=null;(n=this._recordCanUseEffCom.length>0?this._recordCanUseEffCom.pop():fgui.UIPackage.createObject("MainWnd","missileAttackEff").asCom).visible=!0,this._StartTweenEff(n,e),this._effLayer.addChild(n),null==this._recordUseingEffCom[t]&&(this._recordUseingEffCom[t]=[]),this._recordUseingEffCom[t].push(n)},t.prototype._StartTweenEff=function(e,t){var n=Math.round(2*Math.random()+1),a=[];a.push(t);for(var o=0;o<n;o++){var i=60*Math.random()-30,r=60*Math.random()-30;a.push(cc.v2(i+t.x,r+t.y))}this._tweenEff(e,a)},t.prototype._tweenEff=function(e,t){var n=this;if(t.length<=1)e.getTransition("t0").play();else{var a=t.pop(),o=t[t.length-1],i=a.sub(o).dot(a.sub(o)),r=(i=Math.sqrt(i))/60,s=.5*Math.random(),l=E.default.GetInstance().CountBezier2PPos(a,o,s),d=200*Math.random()+100;a.x>o.x?l.x-=d:l.x+=d,fgui.GTween.to(0,1,r).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(t){var n=E.default.GetInstance().Bezier2(a,o,l,t.value.x);e.setPosition(n.x,n.y)},this).onComplete(function(){n._tweenEff(e,t)},this)}},t.prototype.EffMarkTower=function(e){if(e.param3){var t=cc.v2(this._towerOriginalPosArr[e.param].x,this._towerOriginalPosArr[e.param].y),n=cc.v2(this._towerOriginalPosArr[e.param2].x,this._towerOriginalPosArr[e.param2].y);this._CreateMissileAttackEff(t,e.param),this._CreateMissileAttackEff(n,e.param2)}else this._removeTowerMark(e.param),this._removeTowerMark(e.param2)},t.prototype._removeTowerMark=function(e){if(this._recordUseingEffCom[e]&&this._recordUseingEffCom[e].length>0){var t=this._recordUseingEffCom[e].splice(0,1)[0];fgui.GTween.isTweening(t)&&fgui.GTween.kill(fgui.GTween,!1),t.visible=!1,this._recordCanUseEffCom.push(t)}else cc.error("\u6ca1\u6709\u6b64\u69fd\u4f4d\u4e2d\u6807\u8bb0\u7684\u7279\u6548\uff01")},t.prototype._clearTowerMark=function(){for(var e in this._recordUseingEffCom)if(this._recordUseingEffCom[e]&&this._recordUseingEffCom[e].length>0){var t=this._recordUseingEffCom[e].splice(0,1)[0];fgui.GTween.isTweening(t)&&fgui.GTween.kill(fgui.GTween,!1),t.visible=!1,this._recordCanUseEffCom.push(t)}},t.prototype.AddTowerById=function(e){for(var t=r.default.getInstance().getTowerData(),n=-1,a=0;a<this._towerBuildOrder.length;a++){var o=this._towerBuildOrder[a];if(0==t[o]){n=o;break}}if(-1==n)console.log("\u6ca1\u6709\u5efa\u9020\u4f4d\u7f6e\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01");else{var i=null;i=this._towerNodePool.length<1?new s.default:this._towerNodePool.pop();var h=cc.v2(this._towerOriginalPosArr[n].x,this._towerOriginalPosArr[n].y);if(null==this._recordCreatePos){var g=u.default.getInstance().GetWindowCom("MainWnd",c.default,"n51");this._recordCreatePos=cc.v2(g.x+g.width/2,g.y+g.height/2)}var _=f.default.getInstance().getTableDataOne("Turret",e.toString(),"Type");r.default.getInstance().setLibaryMaxLevelTowerId(_,e),i.InitData(n,e,this,h,this._recordCreatePos),this._recordNowTower[n]=i,t[n]=e,r.default.getInstance().setNowTowerData(t),l.default.dispatchEvent(d.EventEnum.TowerCountChange),p.default.getInstance().startCallServer(M.default)}},t.prototype.CheckIsOpenBuff=function(){var e=r.default.getInstance().getNowBigLevel();this._upTimeBtn.visible=e>=6,this._doubleGoldBtn.visible=e>=6,this._frozenBtn.visible=e>=7;var t=r.default.getInstance().getNowLevelId();null==this._onlineGetGoldBtn&&e>=1&&(this._onlineGetGoldBtn=fgui.UIPackage.createObject("MainWnd","GetGoldCom").asButton,this._leftAllBtnList.addChild(this._onlineGetGoldBtn),this._onlineGetGoldBtn.onClick(this.GetOnlineRewardWnd,this),this._leftAllBtnList.resizeToFit(),N.default.AddRedDotListener("LeftList/VideoGoldBtn",this._onlineGetGoldBtn.getChild("n51")),N.default.RefreshRedDotState("LeftList/VideoGoldBtn",!1),this.RefreshCoolingTime()),this._onlineGetGoldBtn.visible=!1;var n=f.default.getInstance().getTableDataOne("Wave",t.toString(),"Turntable")>0;if(null==this._lotteryBtn&&n){this._lotteryBtn=fgui.UIPackage.createObject("MainWnd","turntableBtn").asButton,this._leftAllBtnList.addChild(this._lotteryBtn),this._lotteryBtn.onClick(this.OpenLotteryWndCall,this),this._leftAllBtnList.resizeToFit(),N.default.AddRedDotListener("LeftList/LotteryBtn",this._lotteryBtn.getChild("n82"));var a=r.default.getInstance().getNowLotteryCount();N.default.RefreshRedDotState("LeftList/LotteryBtn",a<2)}null==this._lotteryBtn||n||(this._leftAllBtnList.removeChild(this._lotteryBtn),this._leftAllBtnList.resizeToFit(),N.default.RefreshRedDotState("LeftList/LotteryBtn",!1),this._lotteryBtn=null);var o=r.default.getInstance().GetLoginAwardsLevel(),i=r.default.getInstance().GetIsGetSignAward(),s=o.length;null==this._qiandaoBtn&&e>=4&&7!=s&&(this._qiandaoBtn=fgui.UIPackage.createObject("MainWnd","qiandaoBtn").asButton,this._leftAllBtnList.addChild(this._qiandaoBtn),this._qiandaoBtn.onClick(this.OpenQiandaoWndCall,this),this._leftAllBtnList.resizeToFit(),N.default.AddRedDotListener("LeftList/SignBtn",this._qiandaoBtn.getChild("n88")),N.default.RefreshRedDotState("LeftList/SignBtn",!i)),null==this._qiandaoBtn||e>=4&&7!=s||(this._leftAllBtnList.removeChild(this._qiandaoBtn),this._leftAllBtnList.resizeToFit(),N.default.RefreshRedDotState("LeftList/SignBtn",!1),this._qiandaoBtn=null)},t.prototype.OpenListBtn=function(){var e=this;this._isInEff||(null==this._openListEff&&(this._openListEff=this._view.getTransition("t5")),0==this._openListBtnShow?(this._isInEff=!0,this._openListEff.play(function(){e._isInEff=!1,e._openListBtnShow=!0,e._popListBtn.getChild("n98").scaleX=-1,e.RefreshAgreePos()})):(this._isInEff=!0,this._openListEff.playReverse(function(){e._isInEff=!1,e._openListBtnShow=!1,e._popListBtn.getChild("n98").scaleX=1,e.RefreshAgreePos()})))},t.prototype.ResetListBtn=function(){this._popListBtn.getChild("n98").scaleX=1,this._isInEff=!1,this._openListBtnShow=!1,this._view.getChild("n99").x=-140},t.prototype.OpenLotteryWndCall=function(){u.default.getInstance().OpenWindow("PopWnd","LotteryWnd",B.default,null,u.WindowLayer.PopupWnd)},t.prototype.OpenFriendsHelpWndCall=function(){0!=r.default.getInstance().NowVersionIsNormal?u.default.getInstance().OpenWindow("PopWnd","FriendsHelpWnd",D.default,null,u.WindowLayer.PopupWnd):w.default.getInstance().DefaultCenterWordTip("\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u8be5\u529f\u80fd\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528")},t.prototype.OpenQiandaoWndCall=function(){u.default.getInstance().OpenWindow("PopWnd","RewardOf7DaysWnd",k.default,null,u.WindowLayer.PopupWnd)},t.prototype.HideQiandaoBtn=function(){this._leftAllBtnList.removeChild(this._qiandaoBtn),this._leftAllBtnList.resizeToFit(),this._qiandaoBtn=null},t.prototype.canCreatePlantBox=function(){if(0!=r.default.getInstance().getNowIsCanBuild()){var e=v.default.getInstance().getCurPlantBoxCount(),t=[];if(e>0){v.default.getInstance().setCurPlantBoxCount(e-1);for(var n=-1,a=r.default.getInstance().getTowerData(),o=0;o<this._towerBuildOrder.length;o++){var i=this._towerBuildOrder[o];0==a[i]&&(n=i,t.push(n))}t.sort(function(){return.5-Math.random()}),a[t[0]]=this.plantBoxZIndex,r.default.getInstance().setNowTowerData(a);var s=cc.v2(this._towerOriginalPosArr[t[0]].x,this._towerOriginalPosArr[t[0]].y);this.createPlantBox(s,t[0])}}},t.prototype.createPlantBox=function(e,t){var n="",a=Math.random(),o=r.default.getInstance().getNowLevelId(),i=f.default.getInstance().getTableDataOne("Wave",o.toString(),"PlantBoxRate").split(",").map(Number);n=a<=i[0]/(i[0]+i[1])?"share":"normal";var s=null;null==this.plantBoxPool[n]&&(this.plantBoxPool[n]=[]),this.plantBoxPool[n].length<1?(s=fgui.UIPackage.createObject("MainWnd","PlantBtn").asButton,this._plantBoxParent.addChild(s),"share"==n?s.onClick(this.showPlantBoxTipView,this):s.onClick(this.clickPlantBoxCall,this)):s=this.plantBoxPool[n].pop(),s.plantBox=n,s.p_zdex=this.plantBoxZIndex,s._index=t,s.setPosition(e.x,e.y),s.visible=!0,s.getChild("n0").asImage.visible=!0,s.getChild("n1").asImage.visible=!1,s.getTransition("plantBox").play(null,-1),this.plantBoxZIndex--,this.plantBoxZIndex<100&&(this.plantBoxZIndex=999),l.default.dispatchEvent(d.EventEnum.TowerSoltChange)},t.prototype.clickPlantBoxCall=function(e){var t=this,n=fgui.GObject.cast(e.target).asButton;n.getChild("n0").asImage.visible=!1,n.getChild("n1").asImage.visible=!0,n.getTransition("plantBox").stop(),T.default.AddDelayOnce(.2,function(){n.visible=!1,t.recyclePlantBox(n)},this);var a=-1;switch(Math.floor(3*Math.random())){case 0:a=r.default.getInstance().getNowMaxLevelTowerId(1);break;case 1:a=r.default.getInstance().getNowMaxLevelTowerId(2);break;case 2:a=r.default.getInstance().getNowMaxLevelTowerId(3)}a=f.default.getInstance().getTableDataOne("Turret",a.toString(),"Unlock"),this.AddTowerByBox(a,n.p_zdex)},t.prototype.clickPlantBoxCallByShare=function(){var e=this;1!=r.default.getInstance().returnIsCanShare()?1!=r.default.getInstance().getIsGroups()?(this._boxTipCom.visible=!1,this._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,this.onclickPlantBox.getChild("n0").asImage.visible=!1,this.onclickPlantBox.getChild("n1").asImage.visible=!0,this.onclickPlantBox.getTransition("plantBox").stop(),T.default.AddDelayOnce(.2,function(){e.onclickPlantBox.visible=!1,e.recyclePlantBox(e.onclickPlantBox)},this),l.default.dispatchEvent(d.EventEnum.ResumeGame),this.AddTowerByBox(this._towerId,this.onclickPlantBox.p_zdex)):l.default.dispatchEvent(d.EventEnum.ShareToAnother,"9"):l.default.dispatchEvent(d.EventEnum.ShareToAnother,"9")},t.prototype.showPlantBoxTipView=function(e){if(1!=this._boxTipCom.visible){var t=-1;switch(Math.floor(3*Math.random())){case 0:t=r.default.getInstance().getNowMaxLevelTowerId(1);break;case 1:t=r.default.getInstance().getNowMaxLevelTowerId(2);break;case 2:t=r.default.getInstance().getNowMaxLevelTowerId(3)}t=f.default.getInstance().getTableDataOne("Turret",t.toString(),"Unlock"),t+=Math.floor(2*Math.random())+1,this._towerId=t;var n=this._boxTipCom.getChild("n4").asLoader,a=f.default.getInstance().getTableDataOne("Turret",t.toString(),"Picture");n.url="AllTexture/allTexture/Turret/"+a,this._boxTipCom.getChild("n5").asTextField.text=f.default.getInstance().getTableDataOne("Turret",t.toString(),"Name"),this._boxTipCom.visible=!0,this._popComBgImg.visible=!0,R.default.getInstance().ShowAgreeBtn=!1;var o=fgui.GObject.cast(e.target).asButton;this.onclickPlantBox=o,l.default.dispatchEvent(d.EventEnum.PauseGame)}},t.prototype.openPlantBox=function(){y.default.getInstance().ShareOrAds("9",this.clickPlantBoxCallByShare,this.defCall,null,this,null)},t.prototype.defCall=function(){r.default.getInstance().setCurDefCallType("9");var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];w.default.getInstance().DefaultCenterWordTip(t)},t.prototype.unShareOfPalntBox=function(){this.recyclePlantBox(this.onclickPlantBox),this._boxTipCom.visible=!1,this._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0;var e=r.default.getInstance().getTowerData();e[this.onclickPlantBox._index]=0,r.default.getInstance().setNowTowerData(e),l.default.dispatchEvent(d.EventEnum.TowerCountChange),p.default.getInstance().startCallServer(M.default),l.default.dispatchEvent(d.EventEnum.ResumeGame)},t.prototype.AddTowerByBox=function(e,t){for(var n=this,a=r.default.getInstance().getTowerData(),o=-1,i=0;i<this._towerBuildOrder.length;i++){var u=this._towerBuildOrder[i];if(a[u]==t){o=u;break}}if(-1==o)console.log("\u6ca1\u6709\u5efa\u9020\u4f4d\u7f6e\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01");else{var c=null;c=this._towerNodePool.length<1?new s.default:this._towerNodePool.pop();var h=cc.v2(this._towerOriginalPosArr[o].x,this._towerOriginalPosArr[o].y);r.default.getInstance().ChangeSomeTowerBlood(o,3);var g=c.InitData(o,e,this,h);g.node.scale=0,this._recordNowTower[o]=c,a[o]=e,r.default.getInstance().setNowTowerData(a),l.default.dispatchEvent(d.EventEnum.TowerCountChange),p.default.getInstance().startCallServer(M.default),fgui.GTween.to2(g.node.y,0,g.node.y+90,1.5,.2).setTarget(g).setEase(fgui.EaseType.Linear).onUpdate(function(e){g.node.y=e.value.x,g.node.scale=e.value.y},this).onComplete(function(){fgui.GTween.to2(g.node.y,1.5,g.node.y-90,1,.12).setTarget(g).setEase(fgui.EaseType.QuadOut).onUpdate(function(e){g.node.y=e.value.x,g.node.scale=e.value.y},n)},this).setDelay(.2);var _=f.default.getInstance().getTableDataOne("Words","47","Describe");w.default.getInstance().DefaultCenterWordTip(_)}},t.prototype.recyclePlantBox=function(e){var t=e.plantBox;e.visible=!1,e.getChild("n0").asImage.visible=!1,e.getChild("n1").asImage.visible=!1,this.plantBoxPool[t].push(e)},t.prototype.CreateBalloonTreasure=function(e){var t=this;if(this._recordTreasureCom&&this._recordTreasureCom.visible)console.log("\u5df2\u7ecf\u5b58\u5728\u6c14\u7403\u5b9d\u7bb1\u4e86\uff0c\u4e0d\u518d\u91cd\u590d\u521b\u5efa\uff01");else{var n=null;null==this._recordTreasureCom&&(n=fgui.UIPackage.createObject("MainWnd","FlyAward").asButton,this._view.addChild(n),this._recordTreasureCom=n,this._recordTreasureCom.onClick(this.ClickBalloonTreasureCall,this)),(n=this._recordTreasureCom).visible=!0;var a=Math.random()*cc.winSize.height/5+cc.winSize.height/5,o=cc.v2(0,a);n.setPosition(o.x,o.y);var i=f.default.getInstance().getTableDataOne("Buffbox",e.toString(),"Boxpic");n.icon=fgui.UIPackage.getItemURL("MainWnd",i),n.data=e;this._btnTwwen=fgui.GTween.to(0,cc.winSize.width,20).setTarget(n).setEase(fgui.EaseType.Linear).onUpdate(function(e){n.x=e.value.x,n.y=o.y+20*Math.sin(2*Math.PI*e.value.x/100)},this).onComplete(function(){n.visible=!1,t._btnTwwen=null},this)}},t.prototype.ClickBalloonTreasureCall=function(){if(null!=this._recordTreasureCom){var e=this._recordTreasureCom;e.icon==fgui.UIPackage.getItemURL("MainWnd","box_1")?(this._recordNowTreasureType=o.DoubleGold,this._recordBuySoltCom.getChild("n66").asLoader.url="ui://PopWnd/ui_zp_icon0",this._recordBuySoltCom.getChild("n69").asTextField.text="\u51fb\u6740\u91d1\u5e01\u4e09\u500d"):e.icon==fgui.UIPackage.getItemURL("MainWnd","box_2")?(this._recordNowTreasureType=o.TowerSpeedUp,this._recordBuySoltCom.getChild("n66").asLoader.url="ui://PopWnd/ui_zp_icon6",this._recordBuySoltCom.getChild("n69").asTextField.text="\u70ae\u5854\u52a0\u901f"):e.icon==fgui.UIPackage.getItemURL("MainWnd","box_3")?(this._recordNowTreasureType=o.Frozen,this._recordBuySoltCom.getChild("n66").asLoader.url="ui://PopWnd/ui_zp_icon4",this._recordBuySoltCom.getChild("n69").asTextField.text="\u51b0\u51bb\u65f6\u523b"):cc.error(e.icon),this.OpenTipsWnd(a.AddBuff,"")?(this._recordNowTreasureID=e.data,this._recordNowClickObj=e,this._recordNewPos=cc.v2(e.x,e.y),null!=this._btnTwwen&&this._btnTwwen.setPaused(!0),l.default.dispatchEvent(d.EventEnum.PauseGame)):cc.error("\u4e0d\u5e94\u51fa\u73b0\u7684")}else cc.error("\u7a0b\u5e8f\u5f02\u5e38\uff01\u4e0d\u5e94\u51fa\u73b0\u7684\u6309\u94ae\u70b9\u51fb\u4e8b\u4ef6\uff01")},t.prototype._AddBuffTime=function(e,t){switch(e){case o.DoubleGold:r.default.getInstance().addDoubleGoldCount(t),n=(n=r.default.getInstance().getDoubleGoldBuffCount())>99?99:n,this._doubleGoldBtn.title=n.toString();break;case o.TowerSpeedUp:var n;r.default.getInstance().addTowerUpSpeedCount(t),n=(n=r.default.getInstance().getTowerUpTimeCount())>99?99:n,this._upTimeBtn.title=n.toString();break;case o.Frozen:r.default.getInstance().addFrozenBuffCount(t);var a=r.default.getInstance().getFrozenBuffCount();a=a>99?99:a,this._frozenBtn.title=a.toString();break;default:cc.error("\u672a\u77e5\u7684Buff\u7c7b\u578b\uff01")}},t.prototype._RefreshBuffCount=function(){var e=r.default.getInstance().getDoubleGoldBuffCount();e=e>99?99:e,this._doubleGoldBtn.title=e.toString();var t=r.default.getInstance().getTowerUpTimeCount();t=t>99?99:t,this._upTimeBtn.title=t.toString();var n=r.default.getInstance().getFrozenBuffCount();n=n>99?99:n,this._frozenBtn.title=n.toString()},t.prototype.GetBuff=function(e){var t=this,n=null,a=null,i=null;switch(e.param-2){case o.DoubleGold:n="buff_blue",a=cc.v2(this._doubleGoldBtn.x,this._doubleGoldBtn.y),i=this._doubleGoldBtn;break;case o.TowerSpeedUp:n="buff_red",a=cc.v2(this._upTimeBtn.x,this._upTimeBtn.y),i=this._upTimeBtn;break;case o.Frozen:n="buff_purple",a=cc.v2(this._frozenBtn.x,this._frozenBtn.y),i=this._frozenBtn;break;default:return void cc.error("\u672a\u77e5\u7684Buff\u7c7b\u578b:"+e.param)}A.default.getInstance().getMoveAnim(n,1,cc.v2(e.param3.x,cc.winSize.height-e.param3.y),cc.v2(a.x+43,cc.winSize.height-a.y-45),function(){fgui.GTween.to(1,1.3,.3).setTarget(i).setEase(fgui.EaseType.BackOut).onUpdate(function(e){i.setScale(e.value.x,e.value.x)},t).onComplete(function(){fgui.GTween.to(1.3,1,.5).setTarget(i).setEase(fgui.EaseType.BackOut).onUpdate(function(e){i.setScale(e.value.x,e.value.x)},t).onComplete(function(){switch(e.param-2){case o.DoubleGold:r.default.getInstance().addDoubleGoldCount2(e.param2);break;case o.TowerSpeedUp:r.default.getInstance().addTowerUpSpeedCount2(e.param2);break;case o.Frozen:r.default.getInstance().addFrozenBuffCount2(e.param2);break;default:return void cc.error("\u672a\u77e5\u7684Buff\u7c7b\u578b:"+e.param)}},t)},t)})},t.prototype.PopWndTreasureClickOkCall=function(){var e,t,n,i=this,s=(y.default.getInstance().getNowPlatform(),this._recordNowTreasureType),u=this._recordNowTreasureID,c=(r.default.getInstance().returnRandomJsonData().titleTxt,f.default.getInstance().getTableDataOne("Buffbox",u.toString(),"Count").split(",")),h=(parseInt(c[1])-parseInt(c[0]))*Math.random()+parseInt(c[0]);switch(h=Math.round(h),this._recordNowTreasureType){case o.DoubleGold:t="buff_blue",n=this._doubleGoldBtn;break;case o.TowerSpeedUp:t="buff_red",n=this._upTimeBtn;break;case o.Frozen:t="buff_purple",n=this._frozenBtn;break;default:cc.error("\u672a\u77e5\u7684Buff\u7c7b\u578b\uff01")}e=function(){l.default.dispatchEvent(d.EventEnum.ResumeGame),i._tagNowIsShowCom=a.NotShow,i._recordBuySoltCom.visible=!1,i._popComBgImg.visible=!1,R.default.getInstance().ShowAgreeBtn=!0,y.default.getInstance().hideBannerAD();var e=f.default.getInstance().getTableDataOne("Words","55","Describe");w.default.getInstance().DefaultCenterWordTip(e);for(var o=0;o<h;o++){var r=.3*o;T.default.AddDelayOnce(r,function(){A.default.getInstance().getMoveAnim(t,1,cc.v2(i._recordNewPos.x,cc.winSize.height-i._recordNewPos.y),cc.v2(n.x+.5*n.width,cc.winSize.height-n.y-.5*n.height),function(){fgui.GTween.to(1,1.3,.2).setTarget(n).setEase(fgui.EaseType.BackOut).onUpdate(function(e){n.setScale(e.value.x,e.value.x)},i).onComplete(function(){fgui.GTween.to(1.3,1,.5).setTarget(n).setEase(fgui.EaseType.BackOut).onUpdate(function(e){n.setScale(e.value.x,e.value.x)},i).onComplete(function(){i._AddBuffTime(s,1)},i)},i)})},i)}};y.default.getInstance().ShareOrAds("2",e,function(){var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];w.default.getInstance().DefaultCenterWordTip(t)},null,this),null!=this._btnTwwen&&this._btnTwwen.kill(!0)},t.prototype.PopWndTreasureClickCancleCall=function(){null!=this._btnTwwen&&this._btnTwwen.setPaused(!1),l.default.dispatchEvent(d.EventEnum.ResumeGame),this._getBuffTip.visible=!1},t.prototype.OpenTipsWnd=function(e,t){var n=this;return this._tagNowIsShowCom==a.NotShow&&(this._view.addChild(this._recordBuySoltCom),this._tagNowIsShowCom=e,this._recordBuySoltCom.setScale(.8,.8),this.SetNowPopWndTxt(e,t),this._recordBuySoltCom.visible=!0,R.default.getInstance().ShowAgreeBtn=!1,this._popComBgImg.visible=!0,y.default.getInstance().showBannerAD(),fgui.GTween.to(.8,1,.2).setTarget(this._recordBuySoltCom).setEase(fgui.EaseType.Linear).onUpdate(function(e){n._recordBuySoltCom.setScale(e.value.x,e.value.x)},this).onComplete(function(){n._recordBuySoltCom.setScale(1,1)},this),!0)},t.prototype.DoubleGlodBtnClickCall=function(){var e=this;if(!fgui.GTween.isTweening(this._doubleGoldBtnProgress))if(0==r.default.getInstance().getDoubleGoldBuffCount()){if(fgui.GTween.isTweening(this._doubleGoldTipCom))return;this._doubleGoldTipCom.visible=!0,fgui.GTween.to(1,0,.5).setTarget(this._doubleGoldTipCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._doubleGoldTipCom.alpha=t.value.x},this).onComplete(function(){e._doubleGoldTipCom.visible=!1,e._doubleGoldTipCom.alpha=1},this).setDelay(3)}else{v.default.getInstance().startUseDoubleGoldBuff(),this._doubleGoldBtnProgress.fillAmount=1,this._doubleGoldBtnProgress.visible=!0;var t=f.default.getInstance().getTableDataOne("Words","19","Describe"),n=r.default.getInstance().getDoubleGoldBuffCount();n=n>99?99:n,this._doubleGoldBtn.title=n.toString(),fgui.GTween.to(1,0,t).setTarget(this._doubleGoldBtnProgress).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._doubleGoldBtnProgress.fillAmount=t.value.x},this).onComplete(function(){e._doubleGoldBtnProgress.visible=!1,e._doubleGoldBtnProgress.fillAmount=1},this)}},t.prototype.UpTimeBtnClickCall=function(){var e=this;if(!fgui.GTween.isTweening(this._upTimeBtnProgress))if(0==r.default.getInstance().getTowerUpTimeCount()){if(fgui.GTween.isTweening(this._upTimeTipCom))return;this._upTimeTipCom.visible=!0,fgui.GTween.to(1,0,.5).setTarget(this._upTimeTipCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._upTimeTipCom.alpha=t.value.x},this).onComplete(function(){e._upTimeTipCom.visible=!1,e._upTimeTipCom.alpha=1},this).setDelay(3)}else{S.default.getInstance().startUseUpTimeBuff(),this._upTimeBtnProgress.fillAmount=1,this._upTimeBtnProgress.visible=!0;var t=parseFloat(f.default.getInstance().getTableDataOne("Words","20","Describe")),n=r.default.getInstance().getTowerUpTimeCount();n=n>99?99:n,this._upTimeBtn.title=n.toString(),fgui.GTween.to(1,0,t).setTarget(this._upTimeBtnProgress).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._upTimeBtnProgress.fillAmount=t.value.x},this).onComplete(function(){e._upTimeBtnProgress.visible=!1,e._upTimeBtnProgress.fillAmount=1},this)}},t.prototype._OnFrozenBuffTOChangeScene=function(e){var t=this;if(e){if(null==this._frozenWnd){var n=fgui.UIPackage.createObject("PopWnd","FrozenWnd").asCom;n.makeFullScreen();var a=cc.find("Canvas/BG/FrozenNode");n.node.setPosition(.5*-cc.winSize.width,.5*cc.winSize.height),a.addChild(n.node),this._frozenWnd=n,this._frozenEff=this._frozenWnd.getTransition("t0")}else fgui.GTween.isTweening(this._frozenWnd)&&fgui.GTween.kill(this._frozenWnd),this._frozenWnd.alpha=.7,this._frozenWnd.visible=!0;this._frozenEff.play()}else if(null!=this._frozenWnd){this._frozenEff.stop();fgui.GTween.to(this._frozenWnd.alpha,0,1).setTarget(this._frozenWnd).onUpdate(function(e){t._frozenWnd.alpha=e.value.x},this).onComplete(function(){t._frozenWnd.visible=!1},this)}},t.prototype.createPartic=function(){var e;(e=this._particPool.length<=0?Math.random()>.5?fgui.UIPackage.createObject("PopWnd","snow1").asImage:fgui.UIPackage.createObject("PopWnd","snow2").asImage:this._particPool.pop()).alpha=.4*Math.random()+.6,e.rotation=360*Math.random();var t=.4*Math.random()+.6;return e.setScale(t,t),this._frozenWnd.addChild(e),e},t.prototype.snowParticLifeOver=function(e){this._frozenWnd.removeChild(e),this._particPool.push(e)},t.prototype.changeParticPosCall=function(e,t){e.setPosition(t.x,t.y)},t.prototype._frozenToSimulationSnow=function(){var e=L.Rectangle.Create();e.initData(cc.v2(0,cc.winSize.height/3),cc.winSize.width,cc.winSize.height/3),this._mParticEmission.SetEmissionShape(e).SetEmissionCountRange(cc.v2(300,400)).SetInitSpeedRange(cc.v2(30,50)).SetASpeedRange(cc.v2(20,30)).SetLifeTimeRange(cc.v2(4,6)).SetEmissionHZ(20).SetRunOverCall(this.snowParticLifeOver.bind(this)).SetParticCreateStyle(this.createPartic.bind(this)).SetParticChangePosCall(this.changeParticPosCall.bind(this)).StartEmission()},t.prototype.FrozenBtnClickCall=function(){var e=this;if(!v.default.getInstance().GetNowFrozenState())if(0==r.default.getInstance().getFrozenBuffCount()){if(fgui.GTween.isTweening(this._frozenTipCom))return;this._frozenTipCom.visible=!0,fgui.GTween.to(1,0,.5).setTarget(this._frozenTipCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._frozenTipCom.alpha=t.value.x},this).onComplete(function(){e._frozenTipCom.visible=!1,e._frozenTipCom.alpha=1},this).setDelay(3)}else{this._OnFrozenBuffTOChangeScene(!0),v.default.getInstance().StartFrozenState(),this._frozenBtnProgress.fillAmount=1,this._frozenBtnProgress.visible=!0;var t=f.default.getInstance().getTableDataOne("Words","57","Describe"),n=r.default.getInstance().getFrozenBuffCount();n=n>99?99:n,this._frozenBtn.title=n.toString(),fgui.GTween.to(1,0,t).setTarget(this._frozenBtnProgress).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._frozenBtnProgress.fillAmount=t.value.x},this).onComplete(function(){e._frozenBtnProgress.visible=!1,e._frozenBtnProgress.fillAmount=1,e._OnFrozenBuffTOChangeScene(!1)},this)}},t.prototype.ResetFrozenBtn=function(){fgui.GTween.isTweening(this._frozenBtnProgress)&&(fgui.GTween.kill(this._frozenBtnProgress),this._frozenBtnProgress.visible=!1,this._frozenBtnProgress.fillAmount=1),this._OnFrozenBuffTOChangeScene(!1),this._mParticEmission.ClearAllPartic()},t.prototype.InitBuffBtnState=function(){var e=r.default.getInstance().getDoubleGoldBuffCount();e=e>99?99:e,this._doubleGoldBtn.title=e.toString();var t=r.default.getInstance().getTowerUpTimeCount();t=t>99?99:t,this._upTimeBtn.title=t.toString();var n=r.default.getInstance().getFrozenBuffCount();n=n>99?99:n,this._frozenBtn.title=n.toString(),this._doubleGoldBtnProgress.visible=!1,this._upTimeBtnProgress.visible=!1,this._frozenBtnProgress.visible=!1,this._doubleGoldTipCom.visible=!1,this._upTimeTipCom.visible=!1,this._frozenTipCom.visible=!1},t.prototype.PauseGameCall=function(){var e;fgui.GTween.isTweening(this._doubleGoldBtnProgress)&&((e=fgui.GTween.getTween(this._doubleGoldBtnProgress))&&e.setPaused(!0));fgui.GTween.isTweening(this._upTimeBtnProgress)&&((e=fgui.GTween.getTween(this._upTimeBtnProgress))&&e.setPaused(!0));fgui.GTween.isTweening(this._frozenBtnProgress)&&((e=fgui.GTween.getTween(this._frozenBtnProgress))&&e.setPaused(!0))},t.prototype.ResumeGameCall=function(){var e;fgui.GTween.isTweening(this._doubleGoldBtnProgress)&&((e=fgui.GTween.getTween(this._doubleGoldBtnProgress))&&e.setPaused(!1));fgui.GTween.isTweening(this._upTimeBtnProgress)&&((e=fgui.GTween.getTween(this._upTimeBtnProgress))&&e.setPaused(!1));fgui.GTween.isTweening(this._frozenBtnProgress)&&((e=fgui.GTween.getTween(this._frozenBtnProgress))&&e.setPaused(!1))},t}(i.default);n.default=x,cc._RF.pop()},{"../../Game/GameCtr/BulletManager":"BulletManager","../../Game/GameCtr/MonsterLifeBarManager":"MonsterLifeBarManager","../../Game/GameCtr/MonsterManager":"MonsterManager","../../Game/GameCtr/TowerManager":"TowerManager","../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ParticEmissionMgr":"ParticEmissionMgr","../../Manager/RedDotManager":"RedDotManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/RefreshGoldAndTowerServer":"RefreshGoldAndTowerServer","../../Server/ServerManager":"ServerManager","../../Server/UnlockLocationSever":"UnlockLocationSever","../../Server/UpdateUserServer":"UpdateUserServer","../Base/BaseWindow":"BaseWindow","../Manager/MyMath":"MyMath","../Manager/WindowManager":"WindowManager","../Manager/WordEffManager":"WordEffManager","../PopWnd/FindNewTowerWnd":"FindNewTowerWnd","../PopWnd/FriendsHelpWnd":"FriendsHelpWnd","../PopWnd/GuideWnd":"GuideWnd","../PopWnd/LotteryWnd":"LotteryWnd","../PopWnd/RewardOf7DaysWnd":"RewardOf7DaysWnd","../PopWnd/ShopWnd":"ShopWnd","../StartGame/StartWnd":"StartWnd","./MainWnd":"MainWnd","./TowerPrefab":"TowerPrefab"}],GetFreeGoldWnd:[function(e,t,n){"use strict";cc._RF.push(t,"4ad54OlpzFHJbRJK6CuNoby","GetFreeGoldWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventManager"),i=e("../../Manager/EventEnum"),r=e("../../Manager/GameDataManager"),s=e("../../Manager/ConfigMgr"),l=e("../../SDK/SDKManager"),d=e("../Manager/WordEffManager"),u=e("../../SDK/WeiXinAPPSDK"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._goldCount=0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._goldCom=this._view.getChild("n0").asCom,this._goldCountTxt=this._goldCom.getChild("n4").asTextField,this._closeBtn=this._goldCom.getChild("n6").asButton,this._getRewardsBtn=this._goldCom.getChild("n1").asButton,this._getRewardsBtn.getChild("n2").visible=!1,this._getRewardsBtn.onClick(this._OnClickGetRewardsBtn,this),this._closeBtn.onClick(this.CloseSelf,this)},t.prototype.OnOpen=function(){u.default.getInstance().ShowAgreeBtn=!1,o.default.dispatchEvent(i.EventEnum.PauseGame),this._RefreshGoldCount()},t.prototype.OnClose=function(){u.default.getInstance().ShowAgreeBtn=!0,o.default.dispatchEvent(i.EventEnum.ResumeGame)},t.prototype._OnClickGetRewardsBtn=function(){l.default.getInstance().ShareOrAds("12",this._GetRewardsCall,this.defCall,null,this,null)},t.prototype._GetRewardsCall=function(){var e={};e.param=cc.v2(this._goldCom.x+this._getRewardsBtn.x,this._goldCom.y+this._getRewardsBtn.y),e.param2=this._goldCount,o.default.dispatchEvent(i.EventEnum.OtherJoinAward,e),this.CloseSelf()},t.prototype.defCall=function(){r.default.getInstance().setCurDefCallType("12");var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];d.default.getInstance().DefaultCenterWordTip(t)},t.prototype._RefreshGoldCount=function(){var e=r.default.getInstance().getNowLevelId();this._goldCount=s.default.getInstance().getTableDataOne("Wave",e.toString(),"NeedMoney"),this._goldCountTxt.text=r.default.getInstance().returnGlodString(this._goldCount)},t}(a.default);n.default=c,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow","../Manager/WordEffManager":"WordEffManager"}],GetFriendsHelpDataServer:[function(e,t,n){"use strict";cc._RF.push(t,"2358dl3OHpIU4Rdr2eodLfq","GetFriendsHelpDataServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../BaseServer"),o=e("../ServerManager"),i=e("../../Manager/GameDataManager"),r=e("../../UI/PopWnd/FriendsHelpWnd"),s=e("../../UI/Manager/WindowManager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t._recordIsOpen=!1,t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(e){void 0===e&&(e=!1),this._recordIsOpen=e,this.ReqUrl="/plantsVsZombies/get_help_users",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(e){if(e={help_bag:[]},console.log("//GetFriendsHelpDataServer.SuccessCall",e),i.default.getInstance().setFriendsHelpData(e.help_bag,this),this._recordIsOpen){var t=s.default.getInstance().GetWindow("FriendsHelpWnd",r.default,!0);null==t?cc.error("\u672a\u627e\u5230\u597d\u53cb\u52a9\u529b\u7a97\u53e3\uff01"):t._initData()}else i.default.getInstance().refreshBuffAllValue()},t}(a.default);n.default=l,cc._RF.pop()},{"../../Manager/GameDataManager":"GameDataManager","../../UI/Manager/WindowManager":"WindowManager","../../UI/PopWnd/FriendsHelpWnd":"FriendsHelpWnd","../BaseServer":"BaseServer","../ServerManager":"ServerManager"}],GetLoginAwardSever:[function(e,t,n){"use strict";cc._RF.push(t,"4f13cwgYS9HxqJtxAtsEkSF","GetLoginAwardSever"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/get_login_award",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],GetLotteryCountServer:[function(e,t,n){"use strict";cc._RF.push(t,"313daioKqZC7IHadkk4ml0L","GetLotteryCountServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/get_lottery_number",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(e){e={lottery_number:i.default.getInstance().getNowLotteryCount()},console.log("//GetLotteryCountServer.SuccessCall",e),i.default.getInstance().setNowLotteryCount(e.lottery_number,this)},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],GetOpenIDServer:[function(e,t,n){"use strict";cc._RF.push(t,"e4fbdHHDJtJ+boM0xV+9mvr","GetOpenIDServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("../SDK/SDKManager"),i=e("./ServerManager"),r=e("./LoginServer"),s=e("../UI/Manager/WindowManager"),l=e("../UI/PopWnd/ConnectionDefWnd"),d=e("../Manager/GameDataManager"),u=e("../Lib/QTTGameSDK"),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/get_wx_openid",this.ReqType="POST",this.ReqData.type=o.default.getInstance().getNowPlatform(),6==this.ReqData.type?(this.ReqData.platform=u.default.getInstance().GetPlatform(),this.ReqData.ticket=u.default.getInstance().GetTicket()):this.ReqData.code=e},t.prototype.SuccessCall=function(e){e={openid:"openid",session_key:"session_key",nickname:" ",avatar:" "},console.log("//GetOpenIDServer.SuccessCall",e),d.default.getInstance().setSessionKey(e.session_key),i.default.getInstance().startCallServer(r.default,e.openid),6==this.ReqData.type&&(u.default.getInstance().SetOpenId(e.openid),u.default.getInstance().SetNickname(e.nickname),u.default.getInstance().SetAvatar(e.avatar))},t.prototype.DefCall=function(){i.default.getInstance()._isInReConnection||(i.default.getInstance()._isInReConnection=!0,s.default.getInstance().OpenWindow("PublishPackage","ServerDefWnd",l.default,1,s.WindowLayer.PopupWnd))},t}(a.default);n.default=c,cc._RF.pop()},{"../Lib/QTTGameSDK":"QTTGameSDK","../Manager/GameDataManager":"GameDataManager","../SDK/SDKManager":"SDKManager","../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/ConnectionDefWnd":"ConnectionDefWnd","./BaseServer":"BaseServer","./LoginServer":"LoginServer","./ServerManager":"ServerManager"}],GetShareAwardServer:[function(e,t,n){"use strict";cc._RF.push(t,"b7ddd/cLyBKXKkAI8uaZD7u","GetShareAwardServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/get_awards",this.ReqType="POST",this.ReqData.award_id=e,this.ReqData.user_id=o.default.getInstance().getUUID();var t=Math.round(i.default.getInstance().getNowGolds());this.ReqData.gold=t},t.prototype.SuccessCall=function(e){},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],GlobalManager:[function(e,t,n){"use strict";cc._RF.push(t,"236088OEvlFY7ApIsohqZ+F","GlobalManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=window.wx,o=window.swan,i=e("./Global"),r=e("../Manager/GameDataManager"),s=function(){function e(){this.isLogined=!1,this.retryCount=5,this.wx=a}return e.prototype.initWeixin=function(){var e=this;if(o){var t=o.getStorageSync("userdata");return t&&t.updateTimestamp&&Object.assign(i.default.gameData,t),o.onHide(function(){e.updateGameData(!0)}),void this.onGameDataLoaded()}a||this.onGameDataLoaded()},e.prototype.onGameDataLoaded=function(){console.log("onGameDataLoaded",i.default.gameData),this.isLogined=!0},e.prototype.updateGameData=function(e){void 0===e&&(e=!1),r.default.getInstance().flushGameData(),i.default.gameData.updateTimestamp=Date.now(),e&&console.log("updateGameData",i.default.gameData),o&&o.setStorageSync("userdata",i.default.gameData)},e}();n.default=new s,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./Global":"Global"}],Global:[function(e,t,n){"use strict";cc._RF.push(t,"9f164xla89J44RW1LbbCgB9","Global"),Object.defineProperty(n,"__esModule",{value:!0});n.default={gameData:{musicEnabled:!0,soundEnabled:!0,vibrateEnable:!0,updateTimestamp:0,videoCount:0,lastVideoTimestamp:0,shareCount:0,lastShareTimestamp:0,bannerDelayMillis:0,lastSignTimestamp:0,lastLotteryTimestamp:0,energy:5,lastUseEnergyTimestamp:0,user_id:0,nickname:"",head_img:"",gold:1e3,now_level:1,little_level:1,top_level:1,tower_bag:[-1,-1,-1,-1,-1,-2,-2,0,-2,-2,-2,-2,0,-2,-2],tower_build_number:{},top_tower:{1:10101,2:10301,3:10201},version:0,record_bag:{double_gold_number:1,firing_rate_number:1,frozen_number:1,is_get_attention_award:0,login_info:{cumulative_login_number:0,get_login_awards_level:[],last_sign_in_date:""},tower_blood:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},pass_novice_guide_id:0,lottery_number:0,share_success_number:0,is_get_sign_award:0,share_or_video:0},config:{online:!0,allow_inter_ad:!0,allow_share:!0,allow_video:!0,share_first:!0,allow_buff:!0,allow_buff_video:!0,allow_navigator:!0,hackOnlineGold:!0,onlineGoldShare:!0,onlineGoldVideo:!0,hackQiandao:!0,hackOfflineGold:!0,allow_energy:!0,energyMax:5,energyCool:300,energyMinLevel:5,energyReward:2,forbidden:[],share_delay:5,share_fail:"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u6362\u4e2a\u7fa4",share_time:10,onlineGoldCool:120,video_number:1e3,share_number:1e3,shareFailInterval:5,interAdInterval:2,offlineMin:1,offlineMax:60,offlineRate:.03},user:{}},cc._RF.pop()},{}],GoldWnd:[function(e,t,n){"use strict";cc._RF.push(t,"4c9a2PNYhdOnL+Sc2/RHdU5","GoldWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/GameDataManager"),i=e("../Manager/WordEffManager"),r=e("../../Manager/EventEnum"),s=e("../../Manager/EventManager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordGlodShakeCount=0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._playerGolds=this._view.getChild("n2").asTextField,this._glodFallPos=this._view.getChild("n1").asImage},t.prototype.OnOpen=function(){this.RefreGoldShowTxt(),s.default.addEventListener(r.EventEnum.GoldChange,this.OnGoldChangeCall,this),s.default.addEventListener(r.EventEnum.DropGold,this.StartDropGlod,this)},t.prototype.OnClose=function(){s.default.removeEventListener(r.EventEnum.GoldChange,this.OnGoldChangeCall,this),s.default.removeEventListener(r.EventEnum.DropGold,this.StartDropGlod,this)},t.prototype.RefreGoldShowTxt=function(){var e=o.default.getInstance().getNowGolds();this._playerGolds.text=o.default.getInstance().returnGlodString(e)},t.prototype.StartDropGlod=function(e){i.default.getInstance().goldFallingEff(e.param,cc.v2(this._glodFallPos.x,this._glodFallPos.y),e.param2)},t.prototype.GlodIconShake=function(){var e=this;this._recordGlodShakeCount++,this._recordGlodShakeCount=this._recordGlodShakeCount>20?20:this._recordGlodShakeCount;var t={min:1.2,max:1.4},n={min:.2,max:.4},a=this._recordGlodShakeCount/20,o=(1-a)*t.min+t.max*a,i=(1-a)*n.min+n.max*a;fgui.GTween.isTweening(this._glodFallPos)&&(fgui.GTween.kill(this._glodFallPos,!1),this._recordGlodShakeCount--),fgui.GTween.to(o,1,i).setTarget(this._glodFallPos).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._glodFallPos.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._recordGlodShakeCount=0,e._glodFallPos.setScale(1,1)},this)},t.prototype.OnGoldChangeCall=function(e){e>0&&this.GlodIconShake(),this.RefreGoldShowTxt()},t}(a.default);n.default=l,cc._RF.pop()},{"../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../Base/BaseWindow":"BaseWindow","../Manager/WordEffManager":"WordEffManager"}],GuardMonster:[function(e,t,n){"use strict";cc._RF.push(t,"b0c43V8E0hA/IoGf0XlU9Bk","GuardMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../GameCtr/MonsterManager"),i=e("../Bullet/BaseBullet"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Guard,t.skillCDTime=99,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t),this.setCollisionRang(cc.v2(90,70)),this.setCollisionRang2(cc.v2(60,150))},t.prototype.onCollision=function(e){if(e instanceof i.default){if(e.bullettype==i.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.monsterDead=function(){var t=this;if(this._state!=a.MonsterState.Frozen){for(var n=this.getMaxLife()*this.getData().ShieldHP,i=this.getData().ShieldCount,r=o.default.getInstance().getNowAllMonster(),s=r.length,l=[],d=0;d<s;d++)if(null!=r[d]&&!r[d].isKill&&!r[d].nowMonsterIsDeading()&&r[d].getUuid()!=this.getUuid())if(l.length<i)l.push(r[d]);else{var u=r[d].getWordPos().sub(this.getWordPos()),c=u.dot(u);l.sort(function(e,n){if(null==e)return 1;if(null==n)return 1;var a=e.getWordPos().sub(t.getWordPos()),o=a.dot(a),i=n.getWordPos().sub(t.getWordPos());return o<i.dot(i)?1:-1});for(var h=0;h<i;h++){var f=l[h].getWordPos().sub(this.getWordPos());if(c<f.dot(f)){l[h]=r[d];break}}}var g=l.length;for(d=0;d<g;d++)l[d].addGuard(n);e.prototype.monsterDead.call(this)}else e.prototype.monsterDead.call(this)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){},t}(a.default);n.default=r,cc._RF.pop()},{"../Bullet/BaseBullet":"BaseBullet","../GameCtr/MonsterManager":"MonsterManager","./BaseMonster":"BaseMonster"}],GuardPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"a02ce4msbFHfqDqMBfN6Oc6","GuardPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this._recordInitPos=null}return e.prototype.initData=function(e,t){this.maxGuardValue=e,this.nowGuardValue=e,null!=t?(this._guardNode=t,this._guardAnimCom=this._guardNode.getComponent(cc.Animation),this._recordInitPos=cc.v2(this._guardNode.position.x,this._guardNode.position.y),this._guardNode.active=!0,this._guardAnimCom.play("effect_m1062")):cc.error("\u4f20\u5165\u8282\u70b9\u4e3a\u7a7a\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype.setGuardSize=function(e){this._guardNode.scaleX=e.x,this._guardNode.scaleY=e.y},e.prototype.resetGuardValue=function(){this.nowGuardValue=this.maxGuardValue,this._guardNode.active=!0,this._guardAnimCom.play("effect_m1062")},e.prototype.resumeGuardValue=function(e){this.nowGuardValue+=e,this.nowGuardValue=this.nowGuardValue>this.maxGuardValue?this.maxGuardValue:this.nowGuardValue},e.prototype.subGuardValue=function(e){var t=0;return this.nowGuardValue>e?(this.nowGuardValue-=e,t=0):(t=e-this.nowGuardValue,this.nowGuardValue=0),t},e.prototype.closeGuard=function(){this.nowGuardValue=0,this._guardNode.active=!1},e}();n.default=a,cc._RF.pop()},{}],GuideWnd:[function(e,t,n){"use strict";cc._RF.push(t,"b07c3B/yxhMWJ1O1nModMvV","GuideWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventManager"),i=e("../../Manager/EventEnum"),r=e("../../Manager/GameDataManager"),s=e("../Manager/WindowManager"),l=e("../../Manager/ConfigMgr"),d=e("../../Server/ServerManager"),u=e("../../Server/RefreshGuideCountServer"),c=e("./ShopWnd"),h=e("./FindNewTowerWnd"),f=e("../../Manager/DelayTimeManager"),g=e("../../SDK/WeiXinAPPSDK"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordNowGuide=1,t._recordGuideStep=1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._shadeCom=this._view.getChild("n0").asCom,this._shadeGraph=this._shadeCom.getChild("n1").asGraph,this._handImg=this._view.getChild("n5").asImage,this._lightImg=this._view.getChild("n4").asImage,this._tipsGroup=this._view.getChild("n8").asGroup,this._tipsTex=this._view.getChild("n7").asTextField,this._lightImg2=this._view.getChild("n9").asImage,this._arrowImg=this._view.getChild("n11").asImage,this._frozenTips=this._view.getChild("n14").asGroup,this._frozenArrow=this._view.getChild("n15").asImage,this._frozenArrowEff=this._view.getTransition("t0"),this._frozenCloseLoader=this._view.getChild("n16").asLoader,this._forzenCloseTip=this._view.getChild("n17").asTextField,this._frozenCloseLoader.onClick(this.CloseSevenGuide,this),this._tulipGuide=this._view.getChild("n20").asGroup},t.prototype.OnOpen=function(){o.default.addEventListener(i.EventEnum.UseBuff,this.OnTowerChangeCall,this),o.default.addEventListener(i.EventEnum.TowerCountChange,this.OnTowerChangeCall,this),o.default.addEventListener(i.EventEnum.TowerLevelChange,this.OnTowerChangeCall,this),g.default.getInstance().ShowAgreeBtn=!1,this._frozenTips.visible=!1,this._frozenArrow.visible=!1,this._frozenCloseLoader.visible=!1,this._forzenCloseTip.visible=!1,this._lightImg.visible=!1,this._lightImg2.visible=!1,this._arrowImg.visible=!1,this._tulipGuide.visible=!1,r.default.getInstance().SetIsInGuide(!0),o.default.dispatchEvent(i.EventEnum.PauseGame),this.StartGuide(),this.OnTowerChangeCall()},t.prototype.OnClose=function(){s.default.getInstance().WndIsShow("FindNewTowerWnd",h.default)||(g.default.getInstance().ShowAgreeBtn=!0,o.default.dispatchEvent(i.EventEnum.ResumeGame)),r.default.getInstance().SetIsInGuide(!1),this.CloseFirstGuideEff(),o.default.removeEventListener(i.EventEnum.UseBuff,this.OnTowerChangeCall,this),o.default.removeEventListener(i.EventEnum.TowerCountChange,this.OnTowerChangeCall,this),o.default.removeEventListener(i.EventEnum.TowerLevelChange,this.OnTowerChangeCall,this),o.default.dispatchEvent(i.EventEnum.GuideOver,0)},t.prototype.StartGuide=function(){switch(this._recordNowGuide=r.default.getInstance().returnGuideState(),this._recordNowGuide){case 0:this.StartFirstGuide();break;case 1:this.StartSecondGuide();break;case 1.4:this.StartFirstRepeatGuide();break;case 1.8:this.StartSecondRepeatGuide();break;case 2:this.StartThirdGuide();break;case 2.4:this.StartThird2RepeatGuide();break;case 3:this.StartFourGuide();break;case 4:this.StartFiveGuide();break;case 5:this.StartSixGuide();break;case 6:this.StartSevenGuide();break;case 7:this.StartEightGuide();break;default:cc.error("\u4e0d\u5e94\u51fa\u73b0\u7684\u65b0\u624b\u5f15\u5bfc\u7c7b\u578b\uff01",this._recordNowGuide)}},t.prototype.OnTowerChangeCall=function(){this._recordNowGuide=r.default.getInstance().returnGuideState();var e=r.default.getInstance().getTowerData();switch(this._recordNowGuide){case 0:var n=this._returnNowFirstGuideStep();this._recordGuideStep<n&&(this._recordGuideStep=n,this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","6","Describe")),this.IsCompleteFirstGuide(e)&&(r.default.getInstance().setNowGuideState(1),d.default.getInstance().startCallServer(u.default),this.CloseFirstGuideEff(),this.StartSecondGuide());break;case 1:this.IsCompleteSecondGuide(e)&&(r.default.getInstance().setNowGuideState(1.4),d.default.getInstance().startCallServer(u.default),this.CloseSelf());break;case 1.4:n=this._returnNowFirstGuideStep();this._recordGuideStep<n&&(this._recordGuideStep=n,this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","51","Describe")),this.IsCompleteFirstGuide(e)&&(r.default.getInstance().setNowGuideState(1.8),d.default.getInstance().startCallServer(u.default),this.CloseFirstGuideEff(),this.StartSecondRepeatGuide());break;case 1.8:this.IsCompleteSecondRepeatGuide(e)&&(r.default.getInstance().setNowGuideState(2),d.default.getInstance().startCallServer(u.default),this.CloseSelf());break;case 2:n=this._returnNowThirdGuideStep();this._recordGuideStep<n&&(this._recordGuideStep=n,this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","53","Describe")),this.IsCompleteThirdGuide(e)&&(r.default.getInstance().setNowGuideState(2.4),d.default.getInstance().startCallServer(u.default),this.CloseFirstGuideEff(),this.StartThird2RepeatGuide());break;case 2.4:this.IsCompleteThird2RepeatGuide(e)&&(r.default.getInstance().setNowGuideState(3),d.default.getInstance().startCallServer(u.default),this.CloseSelf());break;case 3:this.IsCompleteFourGuide(e)&&(r.default.getInstance().setNowGuideState(4),d.default.getInstance().startCallServer(u.default),this.CloseSelf());break;case 4:this.IsCompleteFiveGuide()&&(r.default.getInstance().setNowGuideState(5),d.default.getInstance().startCallServer(u.default),this.CloseFiveGuide(),this.CloseSelf(),f.default.AddDelayOnce(10,function(){s.default.getInstance().WndIsShow("ShopWnd",c.default)&&s.default.getInstance().CloseNameWindow("ShopWnd",c.default),s.default.getInstance().OpenWindow("PopWnd","GuideWnd",t,null,s.WindowLayer.GuidWnd)},this));break;case 5:this.IsCompleteSixGuide()&&(r.default.getInstance().setNowGuideState(6),d.default.getInstance().startCallServer(u.default),this.CloseSixGuide(),this.CloseSelf());break;case 6:case 7:break;default:cc.error("\u4e0d\u5e94\u51fa\u73b0\u7684\u65b0\u624b\u5f15\u5bfc\u7c7b\u578b\uff01",this._recordNowGuide)}},t.prototype._PlayGuideEff2=function(e){var t=this;this._shadeGraph.width=86,this._shadeGraph.height=91,this._lightImg.visible=!0,this._lightImg2.visible=!0,this._shadeGraph.setPosition(e.x,e.y);var n=cc.v2(e.x+this._shadeGraph.width/2,e.y+this._shadeGraph.height/2);this._handImg.setPosition(n.x,n.y),this._handImg.rotation=220;fgui.GTween.to(0,20,1).setTarget(this._handImg).setEase(fgui.EaseType.Linear).onStart(function(){t._handImg.setPosition(n.x-20,n.y)},this).onUpdate(function(e){t._handImg.x=n.x-20+e.value.x},this).setRepeat(-1,!0),this._lightImg.setPosition(n.x,n.y),this._lightImg2.setPosition(n.x,n.y);this._lightImg.setScale(.5,.5),fgui.GTween.to(.5,1,1).setTarget(this._lightImg).setEase(fgui.EaseType.Linear).onUpdate(function(e){t._lightImg.setScale(e.value.x,e.value.x)},this).setRepeat(-1,!0),this._lightImg2.setScale(.5,.5),fgui.GTween.to(.5,1,1).setTarget(this._lightImg2).setEase(fgui.EaseType.Linear).onUpdate(function(e){t._lightImg2.setScale(e.value.x,e.value.x)},this).setRepeat(-1,!0).setDelay(.5)},t.prototype._FrozenShade=function(){var e=r.default.getInstance().getSevenSixGuidePos();this._shadeGraph.width=86,this._shadeGraph.height=91,this._lightImg.visible=!1,this._lightImg2.visible=!1,this._shadeGraph.setPosition(e.x,e.y),this._frozenArrow.y=e.y,this._frozenArrow.visible=!0,this._frozenTips.visible=!0,this._frozenArrowEff.play(),this._frozenCloseLoader.visible=!0,this._forzenCloseTip.visible=!0},t.prototype._PlayGuideEff=function(e){var t=this;this._shadeGraph.width=173,this._shadeGraph.height=86,this._lightImg.visible=!0,this._lightImg2.visible=!0;var n=r.default.getInstance().getBuildBtnPos(e);this._shadeGraph.setPosition(n.x,n.y);var a=cc.v2(n.x+this._shadeGraph.width/2,n.y+this._shadeGraph.height/2);this._handImg.setPosition(a.x,a.y),this._handImg.rotation=0;fgui.GTween.to(0,20,1).setTarget(this._handImg).setEase(fgui.EaseType.Linear).onStart(function(){t._handImg.setPosition(a.x,a.y-20)},this).onUpdate(function(e){t._handImg.y=a.y-20+e.value.x},this).setRepeat(-1,!0),this._lightImg.setPosition(a.x,a.y),this._lightImg2.setPosition(a.x,a.y);this._lightImg.setScale(.5,.5),fgui.GTween.to(.5,1,1).setTarget(this._lightImg).setEase(fgui.EaseType.Linear).onUpdate(function(e){t._lightImg.setScale(e.value.x,e.value.x)},this).setRepeat(-1,!0),this._lightImg2.setScale(.5,.5),fgui.GTween.to(.5,1,1).setTarget(this._lightImg2).setEase(fgui.EaseType.Linear).onUpdate(function(e){t._lightImg2.setScale(e.value.x,e.value.x)},this).setRepeat(-1,!0).setDelay(.5)},t.prototype.StartFirstGuide=function(){this._handImg.visible=!0,this._tipsGroup.visible=!0,r.default.getInstance().setNowGuideState(0),this._PlayGuideEff(1);var e=this._returnNowFirstGuideStep();this._recordGuideStep=e,this._tipsTex.text=e<1?l.default.getInstance().getTableDataOne("Words","5","Describe"):l.default.getInstance().getTableDataOne("Words","6","Describe")},t.prototype.CloseFirstGuideEff=function(){fgui.GTween.isTweening(this._handImg)&&fgui.GTween.kill(this._handImg),fgui.GTween.isTweening(this._lightImg)&&fgui.GTween.kill(this._lightImg),fgui.GTween.isTweening(this._lightImg2)&&fgui.GTween.kill(this._lightImg2),this._lightImg.visible=!1,this._lightImg2.visible=!1},t.prototype.IsCompleteFirstGuide=function(e){for(var t=0,n=0;n<e.length;n++)10101==e[n]&&t++;return 2==t},t.prototype._returnNowFirstGuideStep=function(){for(var e=r.default.getInstance().getTowerData(),t=0,n=0;n<e.length;n++)10101==e[n]&&t++;return t},t.prototype.StartSecondGuide=function(){var e=this;r.default.getInstance().setNowGuideState(1),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","7","Describe");var t=r.default.getInstance().getGuideSecondPos();this._shadeGraph.width=132,this._shadeGraph.height=287,this._shadeGraph.setPosition(t.x,t.y),this._handImg.visible=!0,this._handImg.setPosition(t.x+66,t.y+78+131);fgui.GTween.to(0,1,1.5).setTarget(this._handImg).setEase(fgui.EaseType.Linear).onUpdate(function(n){e._handImg.y=t.y+78+131-131*n.value.x},this).setRepeat(-1)},t.prototype.IsCompleteSecondGuide=function(e){for(var t=0;t<e.length;t++)if(10102==e[t])return!0;return!1},t.prototype.StartFirstRepeatGuide=function(){r.default.getInstance().setNowGuideState(1.4),this._PlayGuideEff(1);var e=this._returnNowFirstGuideStep();this._recordGuideStep=e,this._tipsTex.text=e<1?l.default.getInstance().getTableDataOne("Words","50","Describe"):l.default.getInstance().getTableDataOne("Words","51","Describe")},t.prototype.StartSecondRepeatGuide=function(){var e=this;r.default.getInstance().setNowGuideState(1.8),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","52","Describe");var t=r.default.getInstance().getGuideSecondShadePos();this._shadeGraph.width=287,this._shadeGraph.height=287,this._shadeGraph.setPosition(t.x-66,t.y-78);var n;n=r.default.getInstance().getGuideSecondRepeatHandPos(),this._handImg.visible=!0,this._handImg.setPosition(n[0].x,n[0].y);fgui.GTween.to2(n[0].x,n[0].y,n[1].x,n[1].y,1.5).setTarget(this._handImg).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._handImg.x=t.value.x,e._handImg.y=t.value.y},this).setRepeat(-1)},t.prototype.IsCompleteSecondRepeatGuide=function(e){for(var t=0,n=0;n<e.length;n++)10102==e[n]&&t++;return t>=2},t.prototype.StartThirdGuide=function(){r.default.getInstance().setNowGuideState(2),this._PlayGuideEff(2);var e=this._returnNowThirdGuideStep();this._recordGuideStep=e,this._tipsTex.text=e<1?l.default.getInstance().getTableDataOne("Words","8","Describe"):l.default.getInstance().getTableDataOne("Words","53","Describe")},t.prototype._returnNowThirdGuideStep=function(){for(var e=r.default.getInstance().getTowerData(),t=0,n=0;n<e.length;n++)10301==e[n]&&t++;return t},t.prototype.IsCompleteThirdGuide=function(e){for(var t=0,n=0;n<e.length;n++)10301==e[n]&&t++;return t>=2},t.prototype.StartThird2RepeatGuide=function(){var e=this;r.default.getInstance().setNowGuideState(2.4),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","54","Describe");var t=r.default.getInstance().getGuideSecondShadePos();this._shadeGraph.width=430,this._shadeGraph.height=287,this._shadeGraph.setPosition(t.x-66,t.y-78);var n;n=r.default.getInstance().getThird2HandPos(),this._handImg.visible=!0,this._handImg.setPosition(n[0].x,n[0].y);fgui.GTween.to2(n[0].x,n[0].y,n[1].x,n[1].y,1.5).setTarget(this._handImg).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._handImg.x=t.value.x,e._handImg.y=t.value.y},this).setRepeat(-1)},t.prototype.IsCompleteThird2RepeatGuide=function(e){for(var t=0;t<e.length;t++)if(10302==e[t])return!0;return!1},t.prototype.StartFourGuide=function(){r.default.getInstance().setNowGuideState(3),this._PlayGuideEff(3),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","9","Describe")},t.prototype.IsCompleteFourGuide=function(e){for(var t=0;t<e.length;t++)if(10201==e[t])return!0;return!1},t.prototype.StartFiveGuide=function(){r.default.getInstance().setNowGuideState(4);var e=r.default.getInstance().getFiveGuidePos();this._PlayGuideEff2(e),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","23","Describe")},t.prototype.IsCompleteFiveGuide=function(){return 2!=r.default.getInstance().getDoubleGoldBuffCount()},t.prototype.CloseFiveGuide=function(){fgui.GTween.isTweening(this._handImg)&&fgui.GTween.kill(this._handImg),fgui.GTween.isTweening(this._lightImg)&&fgui.GTween.kill(this._lightImg),fgui.GTween.isTweening(this._lightImg2)&&fgui.GTween.kill(this._lightImg2),this._lightImg.visible=!1,this._lightImg2.visible=!1},t.prototype.StartSixGuide=function(){r.default.getInstance().setNowGuideState(5);var e=r.default.getInstance().getSixGuidePos();this._PlayGuideEff2(e),this._tipsTex.text=l.default.getInstance().getTableDataOne("Words","24","Describe")},t.prototype.IsCompleteSixGuide=function(){return 2!=r.default.getInstance().getTowerUpTimeCount()},t.prototype.CloseSixGuide=function(){fgui.GTween.isTweening(this._handImg)&&fgui.GTween.kill(this._handImg),fgui.GTween.isTweening(this._lightImg)&&fgui.GTween.kill(this._lightImg),fgui.GTween.isTweening(this._lightImg2)&&fgui.GTween.kill(this._lightImg2),this._lightImg.visible=!1,this._lightImg2.visible=!1},t.prototype.StartSevenGuide=function(){this._handImg.visible=!1,this._tipsGroup.visible=!1,this._FrozenShade()},t.prototype.CloseSevenGuide=function(){r.default.getInstance().setNowGuideState(7),d.default.getInstance().startCallServer(u.default),this._frozenTips.visible=!1,this._frozenArrow.visible=!1,this._frozenCloseLoader.visible=!1,this._shadeGraph.visible=!1,this.CloseSelf()},t.prototype.StartEightGuide=function(){this._handImg.visible=!1,this._tipsGroup.visible=!1,this._tulipGuide.visible=!0,this._frozenCloseLoader.offClick(this.CloseSevenGuide,this),this._frozenCloseLoader.onClick(this.CloseEightGuide,this),this._frozenCloseLoader.visible=!0,this._forzenCloseTip.visible=!0},t.prototype.CloseEightGuide=function(){r.default.getInstance().setNowGuideState(8),d.default.getInstance().startCallServer(u.default),this._tulipGuide.visible=!0,this._frozenCloseLoader.visible=!1,this.CloseSelf()},t}(a.default);n.default=p,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/RefreshGuideCountServer":"RefreshGuideCountServer","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow","../Manager/WindowManager":"WindowManager","./FindNewTowerWnd":"FindNewTowerWnd","./ShopWnd":"ShopWnd"}],HangPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"59536CemW9LYJ4tqFBPMHPk","HangPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Server/ServerManager"),o=e("../Manager/Tools"),i=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onConstruct=function(){this.headIcon=this.getChild("n12").asCom.getChild("n13").asLoader,this.hangImg=this.getChild("n15").asLoader,this.hangTxt=this.getChild("n16").asTextField,this.playerName=this.getChild("n14").asTextField,this.levelTxt=this.getChild("n13").asTextField,this.bgImg=this.getChild("n10").asLoader},t.prototype.InitData=function(e,t,n,i,r){this.headIcon.url=t,e<4?(this.hangImg.url="ui://StartGame/ui_paihang_"+e,this.hangImg.visible=!0,this.hangTxt.visible=!1,this.bgImg.url="ui://StartGame/ui_paihang_bg"+e):(this.hangTxt.visible=!0,this.hangImg.visible=!1,this.hangTxt.text=e.toString(),this.bgImg.url="ui://StartGame/ui_paihang_bg4"),this.playerName.text=o.default.ChangeString(n,"..",5),this.levelTxt.text=i.toString()+"\u5173",r==a.default.getInstance().getUUID()?(this.playerName.color=new cc.Color(255,249,196),this.levelTxt.color=new cc.Color(255,249,196)):(this.playerName.color=new cc.Color(62,27,15),this.levelTxt.color=new cc.Color(62,27,15))},t}(fgui.GComponent);n.default=i,cc._RF.pop()},{"../../Server/ServerManager":"ServerManager","../Manager/Tools":"Tools"}],HangServer:[function(e,t,n){"use strict";cc._RF.push(t,"3feb28XwxNIObQjH3Bb2wn8","HangServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/get_level_rank",this.ReqType="POST",this.ReqData=null,this._recordCallFun=e},t.prototype.SuccessCall=function(e){e=[],console.log("//HangServer.SuccessCall",e),this._recordCallFun(e)},t}(e("./BaseServer").default);n.default=a,cc._RF.pop()},{"./BaseServer":"BaseServer"}],HangWnd:[function(e,t,n){"use strict";cc._RF.push(t,"f82a2Gxfi5EgqtYDrapYAvF","HangWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Server/ServerManager"),i=e("../../Server/HangServer"),r=e("../../SDK/SDKManager"),s=e("../../Manager/GameDataManager"),l=e("../../Server/SendUserIsShareServer"),d=e("../../SDK/FaceBookSDK"),u=e("../Manager/Tools"),c=e("../Manager/SwitchLanguage"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isChooseFriendsBtn=!0,t._saveNowHangData=[],t._recordListAllData=[],t.FBListAllData=[],t._saveNowFBHangData=[],t._isReqData=!1,t._isOpenFBHang=!1,t._FBEntries=[],t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){switch(this._view=this.GetView(),this._closeBg=this._view.getChild("n2").asLoader,this._closeBtn=this._view.getChild("n3").asButton,this._shareFriendsBtn=this._view.getChild("n15").asButton,this._friendsHangBtn=this._view.getChild("n5").asButton,this._allHangBtn=this._view.getChild("n9").asButton,this._list=this._view.getChild("n18").asList,this._wxHangParend=this._view.getChild("n24").asLoader,this._hangListBg=this._view.getChild("n4").asImage,this._explainTxt=this._view.getChild("n17").asTextField,this._titleSpt=this._view.getChild("n1").asLoader,this._controlHang=this._view.getController("c1"),this._friendsHangBtn.onClick(this.ClickFriendsHang,this),this._allHangBtn.onClick(this.ClickAllHang,this),this._closeBtn.onClick(this.CloseSelf,this),this._shareFriendsBtn.onClick(this.ShareFriendBtnCall,this),this._list.setVirtual(),this._list.itemRenderer=this.RefreshListCall.bind(this),this._wxHangParend.node.addComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,this._recordWxCom=this._wxHangParend.node.addComponent(cc.WXSubContextView),this._recordWxCom.enabled=!1,c.default.GetInstance().ReturnNowLanuage()){case 0:this._titleSpt.url="ui://StartGame/RANK";break;case 1:this._titleSpt.url="ui://StartGame/ui_paihangbang"}},t.prototype.OnOpen=function(){6==r.default.getInstance().getNowPlatform()?(this._controlHang.selectedIndex=1,this._allHangBtn.y=this._view.getChild("n4").y,this._isChooseFriendsBtn=!1,this.ChangeBtnState(),this._shareFriendsBtn.visible=!1):(this._controlHang.selectedIndex=0,this._isChooseFriendsBtn=!0,this.ChangeBtnState(),this.InitHang()),this.RefreshData(),this._explainTxt.visible=!1;var e=s.default.getInstance().getJson();e&&null!=e.isopen&&1==e.isopen?this._explainTxt.visible=!0:this._explainTxt.visible=!1},t.prototype.OnClose=function(){this._list.numItems=0,this.CloseHang()},t.prototype.ShareFriendBtnCall=function(){var e,t=this,n=r.default.getInstance().getNowPlatform(),a=s.default.getInstance().getJson(),i=Math.floor(Math.random()*a.share_info.titles.length),d=a.share_info.titles[i],c={},h=o.default.getInstance().getUUID().toString();if(c.userId=h,c.shareType=7,e=a.share_info.images[i],1==n)if(null==s.default.getInstance().returnShareBase64Img(e)){u.default.GetBase64(e,function(n){s.default.getInstance().setShareBase64Img(e,n),r.default.getInstance().shareCall(d,n,t._rewardCall,t._shareDefault,t,c)}.bind(this))}else r.default.getInstance().shareCall(d,e,this._rewardCall,this._shareDefault,this,c);else r.default.getInstance().shareCall(d,e,this._rewardCall,this._shareDefault,this,c);var f={param:1,param2:7};f.param3=s.default.getInstance().getNowLevelId(),o.default.getInstance().startCallServer(l.default,f)},t.prototype._rewardCall=function(){},t.prototype._shareDefault=function(){},t.prototype.ChangeBtnState=function(){this._friendsHangBtn.getChild("n5").visible=this._isChooseFriendsBtn,this._friendsHangBtn.getChild("icon").visible=this._isChooseFriendsBtn,this._friendsHangBtn.getChild("title").visible=!this._isChooseFriendsBtn,this._allHangBtn.getChild("n5").visible=!this._isChooseFriendsBtn,this._allHangBtn.getChild("icon").visible=!this._isChooseFriendsBtn,this._allHangBtn.getChild("title").visible=this._isChooseFriendsBtn,this._list.visible=!this._isChooseFriendsBtn,this._wxHangParend.visible=this._isChooseFriendsBtn},t.prototype.ClickFriendsHang=function(){this._isChooseFriendsBtn||(this._isChooseFriendsBtn=!0,this.ChangeBtnState(),1==r.default.getInstance().getNowPlatform()?this.setFBHang():this.InitHang())},t.prototype.ClickAllHang=function(){this._isChooseFriendsBtn&&(this._isChooseFriendsBtn=!1,this.CloseHang(),this.ChangeBtnState(),this._list.numItems=this._recordListAllData.length,this._list.scrollToView(0,!1,!0))},t.prototype.RefreshListCall=function(e,t){var n=t,a=null;null!=(a=0==this._isChooseFriendsBtn?this._recordListAllData[e]:this.FBListAllData[e])&&n.InitData(e+1,a.headUrl,a.userName,a.level,a.userId)},t.prototype.SetAllHangData=function(e){for(var t=e.length,n=0;n<t;n++){var a={};a.level=e[n].score;var o=e[n].player;a.headUrl=o.head_img,a.userId=o.user_id,a.userName=o.nickname,this._saveNowHangData.push(a)}this.RefreshData()},t.prototype.RefreshData=function(){if(0==this._isReqData)this._isReqData=!0,o.default.getInstance().startCallServer(i.default,this.SetAllHangData.bind(this));else{var e=this._saveNowHangData.length;this._recordListAllData=[];for(var t=0;t<e;t++)this._recordListAllData.push(this._saveNowHangData[t]);this._list.refreshVirtualList(),r.default.getInstance().getNowPlatform()==r.Platform.QTTWB&&(this._list.numItems=this._recordListAllData.length,this._list.scrollToView(0,!1,!0))}},t.prototype.setFBHang=function(e){this._isOpenFBHang=!0,this._FBEntries==[]&&(this._FBEntries=e);for(var t=this._FBEntries.length,n=0;n<t;n++){var a={},i=JSON.parse(this._FBEntries[n].getExtraData());a.level=this._FBEntries[n].getScore(),a.headUrl=i.headUrl,a.userId=i.userId,a.userName=i.name,a.userId!=o.default.getInstance().getUUID()&&this._saveNowFBHangData.push(a)}this.refreshFBHang()},t.prototype.refreshFBHang=function(){if(1==r.default.getInstance().getNowPlatform()){var e=this._saveNowFBHangData.length;this.FBListAllData=[];for(var t=0;t<e;t++)this.FBListAllData.push(this._saveNowFBHangData.pop());var n={};n.headUrl=d.default.getInstance().getPlayerIcon(),n.level=s.default.getInstance().getNowBigLevel(),n.userId=o.default.getInstance().getUUID(),n.userName=d.default.getInstance().getPlayerName(),this.FBListAllData.push(n),this.FBListAllData.sort(function(e,t){return e.level>t.level?-1:1}),this._list.numItems=this.FBListAllData.length,this._list.scrollToView(0,!1,!0),this._list.visible=!0}},t.prototype.RefreshFBData=function(){if(0==this._isOpenFBHang){r.default.getInstance().getEntries("hang",this.setFBHang.bind(this))}else this.refreshFBHang()},t.prototype.InitHang=function(){switch(r.default.getInstance().getNowPlatform()){case 1:this.RefreshFBData();break;case 2:var e={msg:"gameOver",data:{score:s.default.getInstance().getNowBigLevel()}};r.default.getInstance().postMessage(e);var t=cc.v2(this._hangListBg.x,fgui.GRoot.inst.height-this._hangListBg.y);this._recordWxCom.enabled=!0;var n={msg:"onRank",data:{phone:"phone",openId:s.default.getInstance().getWxOpenId(),pos:t}};r.default.getInstance().postMessage(n),this._recordWxCom.updateSubContextViewport()}},t.prototype.CloseHang=function(){switch(r.default.getInstance().getNowPlatform()){case 1:break;case 2:var e={msg:"onMain"};r.default.getInstance().postMessage(e),this._recordWxCom.enabled=!1,this._recordWxCom.updateSubContextViewport()}},t}(a.default);n.default=h,cc._RF.pop()},{"../../Manager/GameDataManager":"GameDataManager","../../SDK/FaceBookSDK":"FaceBookSDK","../../SDK/SDKManager":"SDKManager","../../Server/HangServer":"HangServer","../../Server/SendUserIsShareServer":"SendUserIsShareServer","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/Tools":"Tools"}],HealthCheck:[function(e,t,n){"use strict";cc._RF.push(t,"197186d0+VKOKuvvaSjLrtO","HealthCheck"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/health_check",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],LaserBullet:[function(e,t,n){"use strict";cc._RF.push(t,"7462cOgzYhETaUPZgq7VJS3","LaserBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=e("../GameCtr/BulletManager"),r=e("../GameCtr/GameControl"),s=e("../../UI/Manager/MyMath"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.LaserBullet,t._isInDead=!1,t}return __extends(t,e),t.prototype.initData=function(t,n){this._spriteCom=this.getNode().getComponent(cc.Sprite),this._spriteCom.type=cc.Sprite.Type.SLICED,this._spriteCom.sizeMode=cc.Sprite.SizeMode.CUSTOM,this.getNode().setAnchorPoint(.5,0),this.getNode().height=0,this.getNode().width=40,e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e)}},t.prototype.defaultCollisionCall=function(e,t){if(e.monsterType==o.MonsterAllType.Shield){var n,a,i=e,r=0,l=this.getNode().getAnchorPoint();n=s.default.GetInstance().FastAbs(i.getWordPos().y-this.getWordPos().y),a=s.default.GetInstance().FastAbs(i.getWordPos().x-this.getWordPos().x),r=i.getWordPos().y>this.getWordPos().y?s.default.GetInstance().FastAbs((i._hurtCollisionRang.y>>1)+this.getCollisionRang().y*(1-l.y)):s.default.GetInstance().FastAbs((i._hurtCollisionRang.y>>1)+this.getCollisionRang().y*l.y),a>s.default.GetInstance().FastAbs((i._hurtCollisionRang.x>>1)+(this.getCollisionRang().x>>1))||n>r?this.StartDead():(this.playBoomAudioandEffect(e),t&&t())}else this.playBoomAudioandEffect(e),t&&t()},t.prototype.setBulletRotatePos=function(){this._isInDead||(this.getCollisionRang().y+=this.getMoveSpeed(),this.getNode().height+=this.getMoveSpeed())},t.prototype.isMoveToScreenOut=function(){var e=this.getWordPos();return e.y+this.getNode().height<0||e.y+this.getNode().height>cc.winSize.height?(this.StartDead(),!0):(e.x>cc.winSize.width||e.x<0)&&(this.StartDead(),!0)},t.prototype.StartDead=function(){this._isInDead||(this._isInDead=!0,this.recycleBullet())},t.prototype.recycleBullet=function(){var e=this;this.isKill=!0,r.default.getInstance().removeNowIdToCollisionList(this.getUUID());var t=this.getNode().width;fgui.GTween.to(t,0,.5).setEase(fgui.EaseType.Linear).onUpdate(function(t){e.getNode().width=t.value.x},this).onComplete(function(){e.getNode().parent||cc.error("\u5bf9\u8c61\u7236\u8282\u70b9\u4e0d\u5b58\u5728!"),e._spriteCom.type=cc.Sprite.Type.SIMPLE,e._spriteCom.sizeMode=cc.Sprite.SizeMode.RAW,e.getNode().setAnchorPoint(.5,.5),e.getNode().removeFromParent(!0),i.default.getInstance().recycle(e.getUUID(),e.getNode())},this)},t}(a.default);n.default=l,cc._RF.pop()},{"../../UI/Manager/MyMath":"MyMath","../GameCtr/BulletManager":"BulletManager","../GameCtr/GameControl":"GameControl","../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],LevelTag:[function(e,t,n){"use strict";cc._RF.push(t,"b4d80smvhFFWbqJsMP2HucY","LevelTag"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/ConfigMgr"),o=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onConstruct=function(){this._showLightPic=this.getChild("n11").asImage,this._levelIcon=this.getChild("icon").asLoader,this._levelTxt=this.getChild("title").asTextField},t.prototype.SetLevel=function(e){e<1||(this._levelTxt.text=e.toString())},t.prototype.SetIsShowLightPic=function(e){this._showLightPic.visible=e},t.prototype.GetPicToTag=function(e){return 0==e?"ui://PublishPackage/ui_tongyong_putongguan":1==e?"ui://PublishPackage/ui_tongyong_guaiwuguan":"ui://PublishPackage/ui_tongyong_jinbiguan"},t.prototype.SetFont=function(e){var t=a.default.getInstance().getTableDataOne("Wave",e.toString(),"Sign");this._levelTxt.font=0==t?"ui://PublishPackage/BlueFont":1==t?"ui://PublishPackage/PurpleFont":"ui://PublishPackage/LevelFont"},t.prototype.SetFontSize=function(e){this._levelTxt.fontSize=e},t}(fgui.GComponent);n.default=o,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr"}],LoadRes2Wnd:[function(e,t,n){"use strict";cc._RF.push(t,"68b16jj2NZFIb4DxTn9f0+H","LoadRes2Wnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/GameDataManager"),i=e("../../Manager/ResourceLoadManager"),r=e("../../Manager/EventEnum"),s=e("../../Manager/EventManager"),l=e("../Manager/WindowManager"),d=e("./MonsterComTipWnd"),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._progress=this._view.getChild("n0").asProgress,this._movieclip=this._view.getChild("n8").asMovieClip,this._progress.visible=!1},t.prototype.OnOpen=function(){this._movieclip.playing=!0,i.default.getInstance().loadProgress=this._progress},t.prototype.OnClose=function(){this._movieclip.playing=!1,s.default.dispatchEvent(r.EventEnum.PlaySuccess),l.default.getInstance().OpenWindow("PopWnd","MonsterComTip",d.default,null,l.WindowLayer.NotFullScreen);var e=cc.find("Canvas/BG"),t=cc.find("Canvas/BG/BG2"),n=cc.find("Canvas/BG/BG3");o.default.getInstance().replaceBG(t,n,e)},t}(a.default);n.default=u,cc._RF.pop()},{"../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager","../Base/BaseWindow":"BaseWindow","../Manager/WindowManager":"WindowManager","./MonsterComTipWnd":"MonsterComTipWnd"}],LoginDefWnd:[function(e,t,n){"use strict";cc._RF.push(t,"d7a47Xpd6ZOa440RqCM9q5p","LoginDefWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._resetLoadList=[],t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._resetLoadBtn=this._view.getChild("n1").asButton,this._resetLoadBtn.onClick(this.ResetLoad,this)},t.prototype.OnOpen=function(e){this.AddCallFun(e)},t.prototype.OnClose=function(){},t.prototype.ResetLoad=function(){for(var e=this._resetLoadList.length,t=0;t<e;t++){this._resetLoadList.pop()()}this.CloseSelf()},t.prototype.AddCallFun=function(e){null!=e?this._resetLoadList.push(e):cc.error("\u53c2\u6570\u4e3a\u7a7a\uff01")},t}(e("../Base/BaseWindow").default);n.default=a,cc._RF.pop()},{"../Base/BaseWindow":"BaseWindow"}],LoginServer:[function(e,t,n){"use strict";cc._RF.push(t,"fa9c1IT8nhB4Inmdi5NX7dt","LoginServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=e("../Manager/ResourceLoadManager"),s=e("../UI/Manager/WindowManager"),l=e("../UI/Manager/WindowManager"),d=e("../UI/PopWnd/ConnectionDefWnd"),u=e("../SDK/SDKManager"),c=e("./SendUserJoinStyleServer"),h=e("../SDK/Global"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.DefCall=function(){o.default.getInstance()._isInReConnection||(o.default.getInstance()._isInReConnection=!0,s.default.getInstance().OpenWindow("PublishPackage","ServerDefWnd",d.default,2,l.WindowLayer.PopupWnd))},t.prototype.SuccessCall=function(e){if(e=h.default.gameData,i.default.getInstance().loginServerCalled=!0,console.log("//LoginServer.SuccessCall",e),o.default.getInstance().setUUID(e.user_id),i.default.getInstance().setGold(e.gold,this),i.default.getInstance().setLevel(0==e.now_level?1:e.now_level,this),i.default.getInstance().setLittleLevel(0==e.little_level?1:e.little_level,this),i.default.getInstance().serverSetTowerData(e.tower_bag,this),i.default.getInstance().setTowerBuildCountData(e.tower_build_number,this),i.default.getInstance().setLibaryTowerTopArr(e.top_tower,this),i.default.getInstance().setLibaryMaxLevel(e.top_level,this),i.default.getInstance().setNowIsNeedDontShow(e.version),i.default.getInstance().setNowGuideStateForServer(e.pass_novice_guide_id),i.default.getInstance().setNowLotteryCount(e.lottery_number,this),i.default.getInstance().initSetBuffCount(e.record_bag.double_gold_number,e.record_bag.firing_rate_number,e.record_bag.frozen_number,this),i.default.getInstance().setShareSucNum(e.share_success_number,this),i.default.getInstance().setShareOrAds(e.share_or_video),i.default.getInstance().SetFocusAwardIsGet(e.record_bag.is_get_attention_award),r.default.getInstance().loadAllResource(this.bindData),i.default.getInstance().SetIsGetSignAward(e.is_get_sign_award),i.default.getInstance().SetLoginAwardsLevel(e.record_bag.login_info.get_login_awards_level),null==e.record_bag.tower_blood){e.record_bag.tower_blood=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(var t=0;t<15;t++)e.tower_bag[t]<=1e3?e.record_bag.tower_blood[t]=0:e.record_bag.tower_blood[t]=3}i.default.getInstance().InitNowAllTowerBlood(e.record_bag.tower_blood);var n={},a=o.default.getInstance().getUUID().toString();n.userId=a,n.shareType=8,u.default.getInstance().initSomeType("\u4e00\u5927\u6ce2\u50f5\u5c38\u5373\u5c06\u6765\u88ad\uff0c\u5404\u5355\u4f4d\u6ce8\u610f\uff0c\u70ae\u624b\u51c6\u5907~","https://coolant.miniant.cn/plantsVsZombies/share1.png",n),u.default.getInstance().getNowPlatform()==u.Platform.WeiXin&&o.default.getInstance().startCallServer(c.default)},t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/login",this.ReqType="POST";var t=u.default.getInstance().getShareLoadData();t?(this.ReqData.share_user_id=null==t.userId?0:parseInt(t.userId),this.ReqData.share_type=null==t.shareType?0:parseInt(t.shareType)):(this.ReqData.share_user_id=0,this.ReqData.share_type=0),i.default.getInstance().setOpenId(e,this),this.ReqData.open_id=e},t}(a.default);n.default=f,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../Manager/ResourceLoadManager":"ResourceLoadManager","../SDK/Global":"Global","../SDK/SDKManager":"SDKManager","../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/ConnectionDefWnd":"ConnectionDefWnd","./BaseServer":"BaseServer","./SendUserJoinStyleServer":"SendUserJoinStyleServer","./ServerManager":"ServerManager"}],LoginWnd:[function(e,t,n){"use strict";cc._RF.push(t,"3af56s4vrJE8pUuXUVKdHcW","LoginWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Server/LoginServer"),i=e("../../Server/ServerManager"),r=e("../../SDK/SDKManager"),s=e("../../Server/GetOpenIDServer"),l=e("../../Manager/GameDataManager"),d=e("../../Manager/EventManager"),u=e("../../Manager/EventEnum"),c=e("../../Server/UpdateUserServer"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.jsonUrl=function(){var e=i.default.getInstance().returnCurXMR();cc.loader.load({url:e+"/plantsVsZombies/static/conf.json",type:"json"},function(e,t){e?l.default.getInstance().setJson(null):l.default.getInstance().setJson(t)}.bind(this))},t.prototype.OnCreate=function(){this.jsonUrl(),this._view=this.GetView(),this._progress=this._view.getChild("n0").asProgress,this._movieclip=this._view.getChild("n8").asMovieClip,this._progress.visible=!1;var e=i.default.getInstance().registerServer(o.default);i.default.getInstance().registerServer(s.default),e.bindData=this._progress},t.prototype.OnOpen=function(){this._movieclip.playing=!0,this._progress.visible=!0,this._progress.getChild("txt").text="\u6b63\u5728\u8fde\u63a5\u670d\u52a1\u5668...",d.default.addEventListener(u.EventEnum.AgreeAuthorization,this.playerIsAgreeInfo,this),r.default.getInstance().getCode(function(e){i.default.getInstance().startCallServer(s.default,e)})},t.prototype.OnClose=function(){this._movieclip.playing=!1},t.prototype.playerIsAgreeInfo=function(e){i.default.getInstance().startCallServer(c.default)},t}(a.default);n.default=h,cc._RF.pop()},{"../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../Server/GetOpenIDServer":"GetOpenIDServer","../../Server/LoginServer":"LoginServer","../../Server/ServerManager":"ServerManager","../../Server/UpdateUserServer":"UpdateUserServer","../Base/BaseWindow":"BaseWindow"}],LotteryWnd:[function(e,t,n){"use strict";cc._RF.push(t,"4b814cV68RM66HZMh05OR5F","LotteryWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../Base/BaseWindow"),i=e("../../Manager/ConfigMgr"),r=e("../../Manager/GameDataManager"),s=e("../../Server/ServerManager"),l=e("../../Server/UseLotteryCountServer"),d=e("../../Manager/EventManager"),u=e("../../Manager/EventEnum"),c=e("../Manager/WordEffManager"),h=e("../Manager/MyMath"),f=e("../../Server/RefreshGoldServer"),g=e("../../SDK/SDKManager"),p=e("../../SDK/WeiXinAPPSDK"),_=e("../../Manager/RedDotManager"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rewardsIconArray=[],t._rewardsCountArray=[],t._noneImgArray=[],t._recordNowAllRewardData=[],t._recordNowCount=0,t._recordNowUseGold=0,t._recordLastResIsBig=!1,t._recordNowAllRate=0,t._recordIsGetBigReward=1,t._recordIdxMap=[],t._isInLottery=!1,t._isOpenTip=!1,t._lotteryCount=0,t._isTip=!1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._arrowImg=this._view.getChild("Arrow").asImage;for(var e=1;e<9;e++){this._rewardsIconArray.push(this._view.getChild("icon"+e).asLoader),this._rewardsCountArray.push(this._view.getChild("count"+e).asTextField);var t=this._view.getChild("none"+e).asImage;t.visible=!1,this._noneImgArray.push(t)}this._freeBtn=this._view.getChild("n31").asButton,this._payBtn=this._view.getChild("n35").asButton,this._closeBtn=this._view.getChild("n39").asLoader,this._chooseEffImg=this._view.getChild("n42").asImage,this._flyLoader=this._view.getChild("n44").asLoader,this._rewardGroup=this._view.getChild("n48").asGroup,this._rewardCountTxt=this._view.getChild("rewardCount").asTextField,this._payBtn.getChild("n40").visible=!1,this._playerGolds=this._view.getChild("n52").asTextField,this._glodFallPos=this._view.getChild("n51").asImage,this._goldGroup=this._view.getChild("n53").asGroup,this._goldGroup.y=g.default.getInstance().getLiuHaiPingSafeTopPos(),this._freeBtn.onClick(this._ClickBtnCall,this),this._payBtn.onClick(this._ClickBtnCall,this),this._closeBtn.onClick(this._CloseWnd,this),this._lotteryCount=parseInt(i.default.getInstance().getTableDataOne("Words","48","Describe"))},t.prototype.OnOpen=function(){p.default.getInstance().ShowAgreeBtn=!1,g.default.getInstance().showBannerAD(),this.RefreGoldShowTxt(),d.default.dispatchEvent(u.EventEnum.PauseGame),this._ResetNowGoldCount();var e=r.default.getInstance().getNowLevelId(),t=i.default.getInstance().getTableDataOne("Wave",e.toString(),"Turntable");this._InitNowLevelReward(t),d.default.addEventListener(u.EventEnum.ResetLotteryCount,this._ResetNowGoldCount,this),d.default.addEventListener(u.EventEnum.GoldChange,this.RefreGoldShowTxt,this)},t.prototype.OnClose=function(){p.default.getInstance().ShowAgreeBtn=!0,g.default.getInstance().hideBannerAD(),d.default.dispatchEvent(u.EventEnum.ResumeGame),d.default.removeEventListener(u.EventEnum.GoldChange,this.RefreGoldShowTxt,this),d.default.removeEventListener(u.EventEnum.ResetLotteryCount,this._ResetNowGoldCount,this)},t.prototype.RefreGoldShowTxt=function(){var e=r.default.getInstance().getNowGolds();this._playerGolds.text=r.default.getInstance().returnGlodString(e)},t.prototype._ClickBtnCall=function(){var e=this;if(this._payBtn.grayed&&this._payBtn.visible){if(0==this._isTip){this._isTip=!0;var t=i.default.getInstance().getTableDataOne("Words","49","Describe");c.default.getInstance().DefaultCenterWordTip(t,function(){e._isTip=!1})}}else if(this._isInLottery){if(0==this._isOpenTip){this._isOpenTip=!0;var n=i.default.getInstance().getTableDataOne("Words","41","Describe");c.default.getInstance().DefaultCenterWordTip(n,function(){e._isOpenTip=!1})}}else 1==this._freeBtn.visible?this._StartLottery():g.default.getInstance().ShareOrAds("11",this._StartLottery,this.defCall,null,this,null)},t.prototype._CloseWnd=function(){var e=this;if(this._isInLottery){if(0==this._isOpenTip){this._isOpenTip=!0;var t=i.default.getInstance().getTableDataOne("Words","41","Describe");c.default.getInstance().DefaultCenterWordTip(t,function(){e._isOpenTip=!1})}}else this.CloseSelf()},t.prototype._InitNowLevelReward=function(e){this._arrowImg.rotation=0,this._isOpenTip=!1,this._rewardGroup.visible=!1,this._isInLottery=!1,this._chooseEffImg.visible=!1,this._recordNowAllRewardData=[];var t=i.default.getInstance().getTableDataRow("Luckyturntable",e.toString());this._recordNowAllRate=t.SumRate;for(var n=0;n<8;n++){var o={};o._configIdx=n+1,o._count=t["Award"+(n+1)],o._rate=t["Rate"+(n+1)],2==o._configIdx||3==o._configIdx?o._type=a.Gold:1==o._configIdx?o._type=a.BlueBuff:o._configIdx<6?o._type=a.FrozenBuff:o._configIdx<8?o._type=a.RedBuff:o._type=a.Null,this._recordNowAllRewardData.push(o)}var s=this._recordNowAllRewardData.slice();s.sort(function(e,t){return Math.random()>.5?1:-1}),this._recordIdxMap=[];for(n=0;n<8;n++)this._recordIdxMap.push(s[n]._configIdx),8==s[n]._configIdx?(this._rewardsIconArray[n].visible=!1,this._rewardsCountArray[n].visible=!1,this._noneImgArray[n].visible=!0):(this._rewardsIconArray[n].visible=!0,this._rewardsCountArray[n].visible=!0,this._noneImgArray[n].visible=!1,this._rewardsIconArray[n].url="ui://PopWnd/ui_zp_icon"+s[n]._configIdx,2==s[n]._configIdx||3==s[n]._configIdx?this._rewardsCountArray[n].text=r.default.getInstance().returnGlodString(s[n]._count):this._rewardsCountArray[n].text="X"+r.default.getInstance().returnGlodString(s[n]._count))},t.prototype._ArrowRoundToTarget=function(e){for(var t=this,n=0,a=0;a<8;a++)if(this._recordIdxMap[a]==e){n=a;break}var o=45*++n-45+45*Math.random();Math.random();o+=3600;var i=this._arrowImg.rotation;fgui.GTween.to(i,o,5).setTarget(this._arrowImg).setEase(fgui.EaseType.CircOut).onUpdate(function(e){t._arrowImg.rotation=e.value.x%360},this).onComplete(function(){t._isInLottery=!1,t._chooseEffImg.visible=!0;var a=0;if(n<7?a=45*n+45:8==n&&(a=45),t._chooseEffImg.rotation=a,t._view.getTransition("t0").play(),8!=e){t._AddAward(e);var o=t._rewardsIconArray[n-1].url;t._openRewardWnd(o,e)}},this)},t.prototype._openRewardWnd=function(e,t){var n=this;this._flyLoader.url=e;var a=this._recordNowAllRewardData[t-1]._count;this._rewardCountTxt.text="X"+r.default.getInstance().returnGlodString(a),this._rewardGroup.visible=!0,this._rewardGroup.alpha=.5;fgui.GTween.to(0,.8,.5).setTarget(this._rewardGroup).onUpdate(function(e){n._rewardGroup.alpha=e.value.x},this).onComplete(function(){fgui.GTween.to(.8,0,.5).setTarget(n._rewardGroup).onUpdate(function(e){n._rewardGroup.alpha=e.value.x},n).onComplete(function(){n._rewardGroup.visible=!1},n).setDelay(2)},this)},t.prototype._AddAward=function(e){var t=this._recordNowAllRewardData[e-1]._type,n=this._recordNowAllRewardData[e-1]._count;switch(t){case a.Gold:r.default.getInstance().glodChange(n),this._ResetNowGoldCount();var o=r.default.getInstance().getNowGolds();s.default.getInstance().startCallServer(f.default,o);break;case a.RedBuff:r.default.getInstance().addTowerUpSpeedCount2(n);break;case a.BlueBuff:r.default.getInstance().addDoubleGoldCount2(n);break;case a.FrozenBuff:r.default.getInstance().addFrozenBuffCount2(n)}},t.prototype._RewardFly=function(e,t){var n=this;this._flyLoader.url=e,this._flyLoader.visible=!0;var a=t,o=cc.v2(.5*cc.winSize.width,cc.winSize.height),i=a.sub(o).dot(a.sub(o)),r=(i=Math.sqrt(i))/500,s=.5*Math.random(),l=h.default.GetInstance().CountBezier2PPos(a,o,s);a.x>o.x?l.x-=300:l.x+=300,fgui.GTween.to(0,1,r).setTarget(this._flyLoader).setEase(fgui.EaseType.Linear).onUpdate(function(e){var t=h.default.GetInstance().Bezier2(a,o,l,e.value.x);n._flyLoader.setPosition(t.x,t.y)},this).onComplete(function(){n._flyLoader.visible=!1},this)},t.prototype._StartLottery=function(){this._chooseEffImg.visible=!1,this._isInLottery=!0;var e=0;this._recordIsGetBigReward%11==0?(e=this._ForBigRewardsRandom(),this._recordIsGetBigReward=1,this._recordLastResIsBig=!0):this._recordLastResIsBig?(e=this._ForSmallRewardsRandom(),this._recordIsGetBigReward++,this._recordLastResIsBig=!1):3==(e=this._ForNowAllRewardRandom())||5==e||7==e?(this._recordIsGetBigReward=1,this._recordLastResIsBig=!0):(this._recordIsGetBigReward++,this._recordLastResIsBig=!1),r.default.getInstance().useLotteryCount(),this._recordNowCount++,s.default.getInstance().startCallServer(l.default,this._recordNowUseGold),this._ArrowRoundToTarget(e)},t.prototype.defCall=function(){r.default.getInstance().setCurDefCallType("11");var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];c.default.getInstance().DefaultCenterWordTip(t)},t.prototype._ResetNowGoldCount=function(){if(this._recordNowCount=r.default.getInstance().getNowLotteryCount(),this._recordNowCount<2)this._freeBtn.title="\u4eca\u65e5\u514d\u8d39\u6b21\u6570"+(2-this._recordNowCount)+"/2";else{_.default.RefreshRedDotState("LeftList/LotteryBtn",!1);var e=r.default.getInstance().getNowLevelId();i.default.getInstance().getTableDataOne("Wave",e.toString(),"Turntable")}this._payBtn.visible=this._recordNowCount>=2,this._freeBtn.visible=!(this._recordNowCount>=2),this._recordNowCount=this._recordNowCount>=this._lotteryCount+2?this._lotteryCount+2:this._recordNowCount,this._payBtn.title="\u4eca\u65e5\u89c6\u9891\u6b21\u6570"+(this._recordNowCount-2)+"/"+this._lotteryCount,this._payBtn.grayed=this._recordNowCount>=this._lotteryCount+2},t.prototype._ForNowAllRewardRandom=function(){for(var e=Math.random()*this._recordNowAllRate,t=0,n=0,a=0;a<8&&(n+=this._recordNowAllRewardData[a]._rate,t=this._recordNowAllRewardData[a]._configIdx,!(e<n));a++);return t},t.prototype._ForBigRewardsRandom=function(){for(var e=[3,5,7],t=0,n=0;n<3;n++)t+=this._recordNowAllRewardData[e[n]-1]._rate;var a=Math.random()*t,o=0;for(n=0;n<3&&(o=this._recordNowAllRewardData[e[n]-1]._configIdx,!(a<this._recordNowAllRewardData[e[n]-1]._rate));n++);return o},t.prototype._ForSmallRewardsRandom=function(){for(var e=[1,2,4,6,8],t=0,n=0;n<5;n++)t+=this._recordNowAllRewardData[e[n]-1]._rate;var a=Math.random()*t,o=0;for(n=0;n<5&&(o=this._recordNowAllRewardData[e[n]-1]._configIdx,!(a<this._recordNowAllRewardData[e[n]-1]._rate));n++);return o},t}(o.default);n.default=v,function(e){e[e.Gold=0]="Gold",e[e.RedBuff=1]="RedBuff",e[e.FrozenBuff=2]="FrozenBuff",e[e.Null=3]="Null",e[e.BlueBuff=4]="BlueBuff"}(a||(a={})),cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/RedDotManager":"RedDotManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/RefreshGoldServer":"RefreshGoldServer","../../Server/ServerManager":"ServerManager","../../Server/UseLotteryCountServer":"UseLotteryCountServer","../Base/BaseWindow":"BaseWindow","../Manager/MyMath":"MyMath","../Manager/WordEffManager":"WordEffManager"}],MainUI:[function(e,t,n){"use strict";cc._RF.push(t,"8e98cJdiA5LaI5IyFCF2EVP","MainUI"),Object.defineProperty(n,"__esModule",{value:!0});var a=cc._decorator,o=a.ccclass,i=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.update=function(e){},t=__decorate([o],t)}(cc.Component));n.default=i,cc._RF.pop()},{}],MainWnd:[function(e,t,n){"use strict";cc._RF.push(t,"89ef1I5uk1PNqqhugk/7v+U","MainWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/ConfigMgr"),i=e("../../Manager/GameDataManager"),r=e("../../Manager/EventManager"),s=e("../../Manager/EventEnum"),l=e("../Manager/WindowManager"),d=e("../PopWnd/ShopWnd"),u=e("../PopWnd/PauseWnd"),c=e("../Manager/WordEffManager"),h=e("./GMWnd"),f=e("../PopWnd/DeadWnd"),g=e("../../Manager/DelayTimeManager"),p=e("../../SDK/SDKManager"),_=e("../../Server/ServerManager"),v=e("../../Server/RefreshGoldServer"),I=e("../PopWnd/GetFreeGoldWnd"),m=e("../../Server/CheckIsLoadOver"),C=e("../../Game/GameCtr/MonsterManager"),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._createScale=1,t._allScale=[],t._createState=0,t._recordNowRewardData=[],t._recordEffId={},t._nowBuildPrice=999,t.isOpenShopWnd=!1,t._recordGlodShakeCount=0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){_.default.getInstance().startCallServer(m.default,2),this._view=this.GetView(),this._bottomCom=this._view.getChild("n51").asCom,this._shopBtn=this._bottomCom.getChild("n53").asButton,this._stopGameBtn=this._view.getChild("n57").asCom,this._buyBtnList=this._bottomCom.getChild("n45").asList,this._playerGolds=this._view.getChild("n14").asTextField,this._levelGroup=this._view.getChild("n49").asGroup,this._bigLevelTxt=this._view.getChild("n50").asTextField,this._smallLevelTxt=this._view.getChild("n48").asTextField,this._jindutiao=this._view.getChild("n60").asImage,this._jindutiao.fillAmount=0,i.default.getInstance().recordJindutiao(this._jindutiao),this._shareOtherRewardList=this._view.getChild("n30").asList,this._goldGroup=this._view.getChild("n20").asGroup,this._createCtr=this._view.getChild("n62").asButton,this._createCtr.onClick(this.CtrCreateScale,this),this._buyBtnList.itemRenderer=this.BuyTowerBtnListRenderCall.bind(this),this._buyBtnList.on(fgui.Event.CLICK_ITEM,this.BuyTowerBtnClickItemCall,this),this._buyBtnList.scrollPane.touchEffect=!1,this._buyBtnList.scrollItemToViewOnClick=!1,this._levelGroup.y=p.default.getInstance().getLiuHaiPingSafeTopPos(),this._goldGroup.y=p.default.getInstance().getLiuHaiPingSafeTopPos(),this._trashPos=this._bottomCom.getChild("n51").asCom,i.default.getInstance().setTrashBtnPos(cc.v2(this._trashPos.x+this._bottomCom.x,this._trashPos.y+this._bottomCom.y)),this._glodFallPos=this._view.getChild("n6").asImage,this._shopBtn.onClick(this.ClickShopCall,this),this._stopGameBtn.onClick(this.ClickPauseBtnCall,this),this._shareOtherRewardList.itemRenderer=this.ShareRewardListRenderCall.bind(this),this._shareOtherRewardList.visible=!1,i.default.getInstance().setBuildBtnPos(this._buyBtnList),this._view.sortingOrder=1},t.prototype.OnOpen=function(e){var t=cc.find("Canvas/BG"),n=cc.find("Canvas/BG/BG2"),a=cc.find("Canvas/BG/BG3");i.default.getInstance().replaceBG(n,a,t),this.StartGame(),this.RefreshNowLevelTag(),this.RefreGoldShowTxt(),this._ConfigToControlBuildListCount(),this.InitScale();var l=i.default.getInstance().getNowBigLevel();this._shopBtn.visible=l>=7;var d=parseInt(o.default.getInstance().getTableDataOne("Words","63","Describe"));this._createCtr.visible=l>=d,r.default.addEventListener(s.EventEnum.RefreshLevelTag,this.RefreshNowLevelTag,this),r.default.addEventListener(s.EventEnum.PlaySuccess,this.OpenNextLevelWnd,this),r.default.addEventListener(s.EventEnum.GoldChange,this.OnGoldChangeCall,this),r.default.addEventListener(s.EventEnum.TowerCountChange,this.TowerCountChangeCall,this),r.default.addEventListener(s.EventEnum.TowerLevelChange,this.TowerLevelChangeCall,this),r.default.addEventListener(s.EventEnum.TowerSoltChange,this.TowerSoltChangeCall,this),r.default.addEventListener(s.EventEnum.PlayDefeated,this.OnGameOverCall,this),r.default.addEventListener(s.EventEnum.DropGold,this.StartDropGlod,this),r.default.addEventListener(s.EventEnum.OtherJoinAward,this.StartDropMoreGlod,this)},t.prototype.OnClose=function(){r.default.removeEventListener(s.EventEnum.RefreshLevelTag,this.RefreshNowLevelTag,this),r.default.removeEventListener(s.EventEnum.TowerCountChange,this.TowerCountChangeCall,this),r.default.removeEventListener(s.EventEnum.TowerLevelChange,this.TowerLevelChangeCall,this),r.default.removeEventListener(s.EventEnum.TowerSoltChange,this.TowerSoltChangeCall,this),r.default.removeEventListener(s.EventEnum.PlaySuccess,this.OpenNextLevelWnd,this),r.default.removeEventListener(s.EventEnum.GoldChange,this.OnGoldChangeCall,this),r.default.removeEventListener(s.EventEnum.DropGold,this.StartDropGlod,this),r.default.removeEventListener(s.EventEnum.PlayDefeated,this.OnGameOverCall,this),r.default.removeEventListener(s.EventEnum.OtherJoinAward,this.StartDropMoreGlod,this),g.default.RemoveDelay(this.ServerCall,this)},t.prototype.CtrCreateScale=function(){this._createState=(this._createState+1)%3,this._createScale=this._allScale[this._createState],this._createCtr.icon="ui://MainWnd/ui_icon_x"+(this._createState+1),C.default.getInstance().SetCreateTimeScale(this._createScale)},t.prototype.InitScale=function(){var e=o.default.getInstance().getTableDataOne("Words","62","Describe").split(",");this._allScale.push(1),this._allScale.push(parseFloat(e[0])),this._allScale.push(parseFloat(e[1])),this._createScale=this._allScale[this._createState],this._createCtr.icon="ui://MainWnd/ui_icon_x"+(this._createState+1),C.default.getInstance().SetCreateTimeScale(this._createScale)},t.prototype._ConfigToControlBuildListCount=function(){var e=i.default.getInstance().getNowLevelId(),t=o.default.getInstance().getTableDataOne("Wave",e.toString(),"Guide");this._buyBtnList.numItems=3;var n=this._buyBtnList.getChildAt(0),a=this._buyBtnList.getChildAt(1),r=this._buyBtnList.getChildAt(2);switch(t){case 0:this.setGray(n,!1),this.setGray(a,!1),this.setGray(r,!1);break;case 1:this.setGray(n,!1),this.setGray(a,!0),this.setGray(r,!0);break;case 2:this.setGray(n,!1),this.setGray(a,!1),this.setGray(r,!0);break;case 3:this.setGray(n,!1),this.setGray(a,!1),this.setGray(r,!1)}},t.prototype.setGray=function(e,t){e.setIsGray(t),t?(e._RefreshBtnState(),e.getChild("n15").asImage.visible=!1,e.getChild("n12").asTextField.visible=!1,e.getChild("n10").asImage.visible=!1,e.getChild("n20").asImage.visible=!0):(e._RefreshBtnState(),e.getChild("n15").asImage.visible=!0,e.getChild("n12").asTextField.visible=!0,e.getChild("n10").asImage.visible=!0,e.getChild("n20").asImage.visible=!1)},t.prototype.BuyTowerBtnClickItemCall=function(e){if(e.grayed){var t=e;if(0==t._isCanBuild)return;if(1==t.getIsGray())return;if(0==t._goldIsEnough){if(i.default.getInstance().GetIsInGuide()){var n=this._buyBtnList.getChildIndex(e)+1;return void this.OnClickBuyTowerBtnCall(n)}l.default.getInstance().OpenWindow("PopWnd","GetFreeGoldWnd",I.default,null,l.WindowLayer.PopupWnd)}}else{var a=this._buyBtnList.getChildIndex(e)+1;this.OnClickBuyTowerBtnCall(a)}},t.prototype.BuyTowerBtnListRenderCall=function(e,t){this.RefreshNowBuildBtnContent(e+1,t)},t.prototype.OpenGmWnd=function(){l.default.getInstance().OpenWindow("PopWnd","GMWnd",h.default)},t.prototype.ServerCall=function(){},t.prototype.StartGame=function(){},t.prototype.RefreshShareList=function(e){if(null!=e){for(var t=[],n=0;n<e.length;n++){for(var a=!1,o=0;o<this._recordNowRewardData.length;o++)if(this._recordNowRewardData[o].award_id==e[n].award_id){a=!0;break}0==a&&t.push(e[n])}for(n=0;n<t.length;n++)this._recordNowRewardData.push(t[n]);var i=this._recordNowRewardData.length;this._shareOtherRewardList.numItems=i,this._shareOtherRewardList.visible=i>0,this._shareOtherRewardList.ensureBoundsCorrect()}},t.prototype.ShareRewardListRenderCall=function(e,t){var n=t;n.InitData(this._recordNowRewardData,e,this._shareOtherRewardList),void 0==this._recordEffId[this._recordNowRewardData[e].award_id]&&e<3?(n.PlayEff(.2*e),this._recordEffId[this._recordNowRewardData[e].award_id]=!0):n.ShowMe()},t.prototype.OnGoldChangeCall=function(e){e>0&&this.GlodIconShake(),this.RefreGoldShowTxt();for(var t=0;t<this._buyBtnList.numItems;t++){this._buyBtnList.getChildAt(t).GoldChangeCall()}},t.prototype.TowerCountChangeCall=function(){for(var e=0;e<this._buyBtnList.numItems;e++){this._buyBtnList.getChildAt(e).TowerCountChangeCall()}},t.prototype.TowerSoltChangeCall=function(){for(var e=0;e<this._buyBtnList.numItems;e++){this._buyBtnList.getChildAt(e).SoltChangeCall()}},t.prototype.TowerLevelChangeCall=function(){for(var e=0;e<this._buyBtnList.numItems;e++){this._buyBtnList.getChildAt(e).TowerLevelChangeCall()}},t.prototype.OnGameOverCall=function(){l.default.getInstance().OpenWindow("PopWnd","DeadWnd",f.default,null,l.WindowLayer.PopupWnd)},t.prototype.RefreshNowBuildBtnContent=function(e,t){t.InitData(e)},t.prototype.RefreGoldShowTxt=function(){var e=i.default.getInstance().getNowGolds();this._playerGolds.text=i.default.getInstance().returnGlodString(e)},t.prototype.OpenNextLevelWnd=function(){this.RefreshNowLevelTag(),this._ConfigToControlBuildListCount();var e=i.default.getInstance().getNowBigLevel();this._shopBtn.visible=e>=7;var t=parseInt(o.default.getInstance().getTableDataOne("Words","63","Describe"));this._createCtr.visible=e>=t},t.prototype.RefreshNowLevelTag=function(){var e=i.default.getInstance().getNowBigLevel(),t=i.default.getInstance().getNowSmallLevel(),n=i.default.getInstance().getNowLevelId(),a=o.default.getInstance().getTableDataOne("Wave",n.toString(),"AllTurn");this._bigLevelTxt.text=e.toString(),this._smallLevelTxt.text=t.toString()+"/"+a},t.prototype.OnClickBuyTowerBtnCall=function(e){var t=i.default.getInstance().getNowMaxLevelTowerId(e),n=o.default.getInstance().getTableDataOne("Turret",t.toString(),"Unlock"),a=i.default.getInstance().getTowerBuildPrice(n);i.default.getInstance().towerBuildCountAdd(n),i.default.getInstance().glodChange(-a),r.default.dispatchEvent(s.EventEnum.AddSomeTower,n)},t.prototype.ClickShopCall=function(){l.default.getInstance().OpenWindow("PopWnd","ShopWnd",d.default,this,l.WindowLayer.PopupWnd)},t.prototype.ClickPauseBtnCall=function(){l.default.getInstance().OpenWindow("MainWnd","PauseWnd",u.default,null,l.WindowLayer.PopupWnd)},t.prototype.StartDropGlod=function(e){this.isOpenShopWnd||c.default.getInstance().goldFallingEff(e.param,cc.v2(this._glodFallPos.x,this._glodFallPos.y),e.param2)},t.prototype.StartDropMoreGlod=function(e){var t=i.default.getInstance().getNowGolds();_.default.getInstance().startCallServer(v.default,t+e.param2),this.isOpenShopWnd||c.default.getInstance().goldFallingEff(e.param,cc.v2(this._glodFallPos.x,this._glodFallPos.y),e.param2,cc.v2(10,15),cc.v2(-100,-100),cc.v2(100,100))},t.prototype.GlodIconShake=function(){var e=this;if(!this.isOpenShopWnd){this._recordGlodShakeCount++,this._recordGlodShakeCount=this._recordGlodShakeCount>20?20:this._recordGlodShakeCount;var t={min:1.2,max:1.4},n={min:.2,max:.4},a=this._recordGlodShakeCount/20,o=(1-a)*t.min+t.max*a,i=(1-a)*n.min+n.max*a;fgui.GTween.isTweening(this._glodFallPos)&&(fgui.GTween.kill(this._glodFallPos,!1),this._recordGlodShakeCount--),fgui.GTween.to(o,1,i).setTarget(this._glodFallPos).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._glodFallPos.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._recordGlodShakeCount=0,e._glodFallPos.setScale(1,1)},this)}},t}(a.default);n.default=w,cc._RF.pop()},{"../../Game/GameCtr/MonsterManager":"MonsterManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../Server/CheckIsLoadOver":"CheckIsLoadOver","../../Server/RefreshGoldServer":"RefreshGoldServer","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow","../Manager/WindowManager":"WindowManager","../Manager/WordEffManager":"WordEffManager","../PopWnd/DeadWnd":"DeadWnd","../PopWnd/GetFreeGoldWnd":"GetFreeGoldWnd","../PopWnd/PauseWnd":"PauseWnd","../PopWnd/ShopWnd":"ShopWnd","./GMWnd":"GMWnd"}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"27981SfE/pOEoJ4xJCzLmqb","Main"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../UI/Manager/WindowManager"),o=e("../UI/StartGame/LoginWnd"),i=e("../Manager/DelayTimeManager"),r=e("../Manager/ResourceLoadManager"),s=e("../Server/ServerManager"),l=e("../Server/OnErrorCallServer"),d=e("../SDK/SDKManager"),u=e("../Manager/EventEnum"),c=e("../Manager/GameDataManager"),h=e("../Game/GameCtr/GameControl"),f=e("../Game/GameCtr/MonsterManager"),g=e("../Game/GameCtr/BulletManager"),p=e("../Game/Bullet/NormalBullet"),_=e("../Game/GameCtr/TowerManager"),v=e("../Game/Monster/BlinkMonster"),I=e("../Game/Monster/CloakingMonster"),m=e("../Game/Monster/FissionMonster"),C=e("../Game/Monster/NormalMonster"),w=e("../Game/Bullet/RangeBullet"),y=e("../Game/Bullet/FrozenBullet"),S=e("../Game/Bullet/ClusterBullet"),A=e("../Game/GameCtr/MonsterLifeBarManager"),M=e("../Manager/EventManager"),T=e("../Server/RefreshUserDataServer"),B=e("../Server/HealthCheck"),D=e("../Game/Monster/SmallMonster"),E=e("../Server/RefreshGuideCountServer"),R=e("../Server/SendUserIsShareServer"),G=e("../Server/HangServer"),b=e("../Server/UpdateUserServer"),P=e("../Server/CheckAwardServer"),L=e("../Server/GetShareAwardServer"),k=e("../Server/UpdateBuffServer"),N=e("../Manager/AudioManager"),x=e("../Game/Bullet/RayBullet"),W=e("../Game/Bullet/CircularBullet"),F=e("../Server/RefreshGoldServer"),O=e("../Server/RefreshGoldAndTowerServer"),U=e("../Manager/ConfigMgr"),Q=e("../UI/Manager/WordEffManager"),j=e("../Game/Monster/GuardMonster"),q=e("../Game/Monster/BombMonster"),V=e("../Game/Monster/SmokeMonster"),J=e("../Game/Monster/ShieldMonster"),K=e("../Game/Bullet/RepelBullet"),H=e("../Server/ReConnetionServer"),z=e("../Server/GetLotteryCountServer"),X=e("../Server/UseLotteryCountServer"),Z=e("../Server/FriendsHelp/GetFriendsHelpDataServer"),Y=e("../Server/ResetUserDataServer"),$=e("../Server/FriendsHelp/UpdateFriendsHelpServer"),ee=e("../Server/FriendsHelp/CheckIsNewFriendsJoin"),te=e("../Server/CheckIsLoadOver"),ne=e("../Server/CountPlayerDeadServer"),ae=e("../Game/Bullet/PenetrateBullet"),oe=e("../Server/SendUserJoinStyleServer"),ie=e("../Game/Bullet/LaserBullet"),re=e("../Game/Bullet/VineBullet"),se=e("../Server/GetLoginAwardSever"),le=e("../Game/Monster/BeckonMonster"),de=e("../SDK/GlobalManager"),ue=cc._decorator,ce=ue.ccclass,he=(ue.property,60),fe=10,ge=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isTip=!1,t._checkTime=fe,t._getAwardTime=he,t._refreshGoldTime=20,t._recordFrameTime=0,t._countFrameNum=0,t._lastFrameCount=60,t._framePeakValue=15,t._lowestFrameValue=40,t._resumeStateTime=3,t._joinProtectTime=4,t._isNowInLowestState=!1,t._isPause=!0,t._CtrCount=0,t}return __extends(t,e),t.prototype.onLoad=function(){de.default.initWeixin()},t.prototype.OnCreate=function(){var e=cc.find("Canvas/BG"),t=new Image;t.crossOrigin="anonymous",t.src="data:image/jpeg;base64,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AgMCRGgM1AJRUCIAJGRE1CBCQgJCRGhAhIhIyaA0IAKwpERsjAkQCACRkiIVEgIQABABIjImSIjAhTCBmojRkQIhIhACNwgBoiIiIRI0QEaIhAgNCsmRFZJYEhEBIFESWJJRARUTIkQAAmRIiACIiADNaiIxWiKCohASISgrBuNEZrUaACEhEiIiNEJEAiRGTQrJkQI0oIJEREqQIEQgZEQMkAgIAREREQGRKoIKY0BiojRFHOkDQHSIKoREjJGiISIhIiERMkIkQksmSEhIiASIyIkZIiAhIjACREAgRABCRmgQIjURGKhGMVHSEjImK0QDGhIyRoiIhIhIyIiBGiARITIGiIiASEDAiQAaABEBMAaACECIgMUkMFZNEZE0UJioTJ1jBik0MYqISNREJkzXSEiEBIgATQmQEREiIDB0EgIiIgMiaIyBEIgRGTJoiIgECMmaTURiohIYaBMGTZuM1GSNxGKDQkJRVRkq3CAkRCAgRoTBGjQEREAGhASAhAjJGjRzA0RERABk0REQEQEYpNRGKDQkICAGTRoCMkbiCghIiIYDNdITAiJEQgQiAEaIiIQMmxMEIgREBGiAAEiAhAyaIyQkBEVZA3EFBCREBoDJohICIYAoNERCBAbiIiAjREREQgQiRERGTZARGREiAhIAISAiIjJogAgKkiAiGAKDREQgQDFUREQmQNERAJEAwiQBTCICREREICAkJkRIiMiREAkQERERERAQkBGKSIiIhMgaIiASIyBsCISICEQIjJoiIYQEArUAGhIjJoiIiIiEDRAIAIERCACRERkhICNAAgZpAiEiAhEDIGiMmhhCgBNRmoiISMCIjBUMQgQgZphNGSEiEjAiJEQkQERAQiZAQEQMUlCIAJCAUwUERqM1ERkSAhNQkZqACNERERGSIRGCghECIiIDUFICMQVkTUQkRCZNGRAKCNxmoBKIKyIiUVZIRAiIAI0REZNEAEIkIEAEaIyaIiIyRCJEJEZEiACNEAkJEZIjQxEQgRCBmoDQEQgRGSIRIhIgECACNEZNEREZIhEiIBIgARIiABEQEyJGTYEAkBCRERAQkJCUVBEQxmkCIiIiIAERATIkREQCRAAiREACIgJAAmSNERERk0RERERAaIgATJGiIiICNAQGiIDJHQgMiAGiIiIyaIiIiIiISABMkaIiIjJoiIiEyBoyaASICI0QAIkBkjYEAGjJoBIgIjQEZNEZESEiAyaMmgEiAiNEACJARCAmQNGTQCRARGiABEAAjQCBAQiQCREAgRGjAgRoCIgISIiIANEJkTQABGgECAhEBIiIBIyJoAAjREBAQiIERAJkgEjRk0Rk0REAGiMmgAiNGSASNGTRGAETQAJAaACETIEJGjJojJoiIANEZNABCJkgEjRk0Rk0RERk0AkZICE0ZIjREQAaACIiESMkBCaMkJCRABojJoyRCJGSAhIiI0REAGiMmjJEIkZICE0ZIjREQAaASACIjRGDBoSEjmaNEaMkaASMkREaIjJoiIjJoiIyRoBIAIjBs0Rk0RERk0REZI0AkAERGiIyaIiIyaMkRoyAGiEhIyImSEgIBIyJGgADRCRCRk0ZIhEiATJEaMmTB1EhIiMmjJEIkQCZIjRkANEJEJGTRkiIiNGQIhIhAiIiMEbETJoyaMmjIEQkQgRERAJEICBEaMmDYCRCBEREAkQgIERoyQEJEIEREQGzJERARCaIyQiZAQE0AkRkiIgIhNEZIRMkQCaASIyRHM6ARCaIyQiZIgE0AkRkiIgIhNEZIRMkBsANGSMiQmgAiEgIiNGRA0AGjJGRITQARCQERGjIgaAyZOgGRITQARCQERGjIgaADRkjIkJoAIhIBA0ZIiAiEQIiNGRMiRCJGTRkiICI0QERGjImRIhEjIEJEBEIgREaMiZEiESMmjJEQEQiBERoyJkQEiECATRkBIiAiISNGSIiI0ZIBNGQEiICIhIiADYEIEAmjICREBEQkREAkRoyQCaMgJEQEQkIkZIiNGQE0ZAiISIiAhESMkRGjICaMgREJEQGTQkaIyREaMgJoyBEQkREQCRojJERoyAmjIEQkRERoyRERCJGCIhNGSASIiI0ZIiIhEjBEQmjIGDqBERGjJEREIkYIiE0ZIBIiIjRkiIiESMEQkRk0REAkRGjJoyAkRERERGTREQCREaIjBCREQCREZNERAJAJoiMEJERERERk0AkAiBGjJowQkRGRETJEJGjJEBk6CZAQEiIyIiZIhI0RAZMnQTICAkRGRETJEJGiIDJk6CZAQEiIyIiZIhI0RAZMmzRkgI0JgDRCBCRkDQkBAJoyQEaEwBohEiADJoSAgE0ZICNCYA0QiRAZA0JAREaMkBGhMAaIRIgAyaIiASNGQISASEAE0YEiIiIiI0ZAhIiIQATRgSIiIiIRMgQkREIAJowJEREREaIyBCREQgAmiIyRoAASIiISASAiIDZEZI0AAJCBogIBICIgNkRkjQAAkIGiAgEgIiA2RGSNAACQgaICARIAIRMkaAwaI0RGSNERGSNEAEaIyRojJoyaIjJGiIjIGyACETJGiMmjJoiMkaIiMkaIAI0RkjRGTRk0RGREyRGjJERGDoJgSECNEQEBoyRGjJERoiIyRCBGiIgA0ZIjRkiI0REZIhAjREQAaMkRoyRERoiMCQgQkBEaMgJg2aAyQiJkjREACQAJoyAkRoDJCRoyRoiABIAE0ZASI0ZAhI0ZI0RAAkBEaMgJEaMgQiIAaMgJoyRg0IgZETQEQCJEZNGSI0ZAhIQMiJoCIBEiMmjJEaMgJEIGRE0BEAiRGTRkiNGQISEDIiaAhACASASIgIiERIiIjJoAIBICEiAiIREiIiMmgACEgEiICIhESIiIyaACASASIgIiESIgIBIBNEAEREaIiIiICAgEgE0RGSIiNEREREBAQCQCaIAIiI0REREQEBAJAJogAiIjQCRkBIgEiNGSIQIjRERk0REZIiAhI0ZIhAiNEZNGTRERkiIBIjRkBECI0Rk0ZNERGSIgEiNGSIQIjQARAJERERGiAyJoiMkaIAAQEiIiIjRAZE0RGSNEAAICRERERogMmhIjJGiAAEBIiIiI0QGRNGSIiESMkRGiIjJoyRojJGjJERCIAREaIiMmjJGiMkaMkREIgBEQiRGSIiNGSNGSIiEQAiI0REZIRMkAkaMkRGiIjJGjJGgAhEyQCRoyREaIiMkaMkaACETJAJGjJERoiIyRoyRoAIRMkAkaMkRGgEjJGiIAIBI0ZIjREQAaIiMkRogAgEjRkiNERABoiIyRGiAgASNGCACNiZASISIgIgESI0ZIjREQAaADQAQCRojJoBIjJoiIyQkBojJAJGiMmgEiMmiAgISA0RkgEhARIwBohECABISICASNEZNAJEZNEZI0ZIwbEhASMmjJEIkQCRkjRkjBshEBIyaMkRoiIBIyRoyRg2JCAkZNGSIRIgEjJGjJGDZCICRk0ZIiNERkCITREAmSIgE0QEQGiIyQEJoiMmjJEQCaICIDREZAiE0RAJkiIBNEBEBoiMkBCaIgEyREB0AjJoyBEJogARIyQGhASECMiAEQmiA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",t.onload=function(){var n=new cc.Texture2D;n.initWithElement(t),e.height=cc.winSize.height,e.width=cc.winSize.width,e.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(n)},t.onerror=function(e,t,n,a,o){console.log(e,o)},cc.macro.DOWNLOAD_MAX_CONCURRENT=6,this.node.zIndex=999,cc.game.addPersistRootNode(this.node),s.default.getInstance().registerServer(l.default),s.default.getInstance().registerServer(T.default),s.default.getInstance().registerServer(B.default),s.default.getInstance().registerServer(E.default),s.default.getInstance().registerServer(R.default),s.default.getInstance().registerServer(b.default),s.default.getInstance().registerServer(G.default),s.default.getInstance().registerServer(P.default),s.default.getInstance().registerServer(L.default),s.default.getInstance().registerServer(k.default),s.default.getInstance().registerServer(F.default),s.default.getInstance().registerServer(O.default),s.default.getInstance().registerServer(H.default),s.default.getInstance().registerServer(z.default),s.default.getInstance().registerServer(X.default),s.default.getInstance().registerServer(Z.default),s.default.getInstance().registerServer(Y.default),s.default.getInstance().registerServer($.default),s.default.getInstance().registerServer(ee.default),s.default.getInstance().registerServer(te.default),s.default.getInstance().registerServer(ne.default),s.default.getInstance().registerServer(oe.default),s.default.getInstance().registerServer(se.default),M.default.addEventListener(u.EventEnum.PauseGame,this.PauseGame,this),M.default.addEventListener(u.EventEnum.ResumeGame,this.ResumeGame,this),M.default.addEventListener(u.EventEnum.DataThird,this.SendUserIsShareServer,this),M.default.addEventListener(u.EventEnum.ShareDefualt,this.ShareDefCall,this),M.default.addEventListener(u.EventEnum.ShareToAnother,this.shareToAnother,this),d.default.getInstance().preLoadAdds(this._videoDefault.bind(this)),d.default.getInstance().bannerAD()},t.prototype._videoDefault=function(e){var t=this;if(0==this._isTip){this._isTip=!0;var n="";n=1005==e||1006==e||1007==e||1008==e?U.default.getInstance().getTableDataOne("Words","56","Describe"):U.default.getInstance().getTableDataOne("Words","30","Describe"),Q.default.getInstance().DefaultCenterWordTip(n,function(){t._isTip=!1})}},t.prototype.start=function(){this.OnCreate(),r.default.getInstance().preloadSomeFolderAllRes("AllTexture/",cc.SpriteFrame),r.default.getInstance().preloadSomeFolderAllRes("Mp3/",cc.AudioClip),r.default.getInstance().preloadSomeFolderAllRes("Dragon/Des/",dragonBones.DragonBonesAsset),r.default.getInstance().preloadSomeFolderAllRes("Dragon/TexDes/",dragonBones.DragonBonesAtlasAsset),r.default.getInstance().preloadSomeFolderAllRes("Dragon/Tex/",cc.SpriteFrame),r.default.getInstance().preloadSomeFolderAllRes("Prefab/",cc.Prefab),g.default.getInstance().registerBulletClass(0,S.default),g.default.getInstance().registerBulletClass(1,p.default),g.default.getInstance().registerBulletClass(2,w.default),g.default.getInstance().registerBulletClass(3,y.default),g.default.getInstance().registerBulletClass(4,x.default),g.default.getInstance().registerBulletClass(5,W.default),g.default.getInstance().registerBulletClass(6,K.default),g.default.getInstance().registerBulletClass(7,ae.default),g.default.getInstance().registerBulletClass(8,ie.default),g.default.getInstance().registerBulletClass(9,re.default),f.default.getInstance().registerMonsterClass(1,C.default),f.default.getInstance().registerMonsterClass(2,I.default),f.default.getInstance().registerMonsterClass(3,v.default),f.default.getInstance().registerMonsterClass(4,m.default),f.default.getInstance().registerMonsterClass(5,J.default),f.default.getInstance().registerMonsterClass(6,V.default),f.default.getInstance().registerMonsterClass(7,j.default),f.default.getInstance().registerMonsterClass(8,q.default),f.default.getInstance().registerMonsterClass(9,D.default),f.default.getInstance().registerMonsterClass(10,le.default);var e=d.default.getInstance().CheckWXVersion();c.default.getInstance().NowVersionIsNormal=e,a.default.getInstance().OpenWindow("LoginWnd","LoginWnd",o.default)},t.prototype.HealthCheck=function(){de.default.updateGameData()},t.prototype.GetAward=function(){s.default.getInstance().startCallServer(P.default),s.default.getInstance().startCallServer(ee.default)},t.prototype.RefreshGoldReward=function(){var e=c.default.getInstance().getNowGolds();s.default.getInstance().startCallServer(F.default,e)},t.prototype.SetNowFrameState=function(e){if(e!=this._isNowInLowestState&&e){var t=U.default.getInstance().getTableDataOne("Words","34","Describe");Q.default.getInstance().DefaultCenterWordTip(t)}N.default.getInstance().CloseAllEffAudio(e),this._isNowInLowestState=e},t.prototype._CountFrameFluctuate=function(e){this._isNowInLowestState&&(this._resumeStateTime-=e,this._resumeStateTime<0&&this.SetNowFrameState(!1)),this._recordFrameTime+=e,this._recordFrameTime>1&&(this._recordFrameTime=0,this._countFrameNum-this._lastFrameCount>this._framePeakValue||this._countFrameNum<this._lowestFrameValue?this._joinProtectTime-=e:this._joinProtectTime=2,this._joinProtectTime<0&&(this.SetNowFrameState(!0),this._resumeStateTime=3,this._joinProtectTime=2),this._lastFrameCount=this._countFrameNum,this._countFrameNum=0),this._countFrameNum++},t.prototype.update=function(e){this._isPause||(this._checkTime-=e,this._checkTime<0&&(this._checkTime=fe,this.HealthCheck()),this._getAwardTime-=e,this._getAwardTime<0&&(this._getAwardTime=he,this.GetAward()),this._refreshGoldTime-=e,this._refreshGoldTime<0&&(this._refreshGoldTime=20,this.RefreshGoldReward()),f.default.getInstance().update(e),_.default.getInstance().update(e),h.default.getInstance().update(e),A.default.getInstance().update(e),i.default.update(e),N.default.getInstance().Update(e))},t.prototype.onDestroy=function(){},t.prototype.ShareOnRight=function(){},t.prototype.OnErrorCall=function(e,t,n){},t.prototype.PauseGame=function(){this._isPause=!0,f.default.getInstance().pauseAllDragonAnimScale()},t.prototype.ResumeGame=function(){this._isPause=!1,f.default.getInstance().resumeAllDragonAnimScale()},t.prototype.SendUserIsShareServer=function(e){s.default.getInstance().startCallServer(R.default,e)},t.prototype.ShareDefCall=function(e){var t=c.default.getInstance().getShareSucNum(),n="";if(e)n=e;else{var a=c.default.getInstance().getJson();if(0==a.isopen)n=a.share_fail_tips[a.fail_tips_index[0]];else switch(t){case 0:n=a.share_fail_tips[a.fail_tips_index[0]];break;case 1:n=a.share_fail_tips[a.fail_tips_index[1]]}}Q.default.getInstance().DefaultCenterWordTip(n)},t.prototype.shareToAnother=function(e){c.default.getInstance().getShareCount()>0&&c.default.getInstance().reduceShareCount(),c.default.getInstance().reduceGetrewardTimes(),c.default.getInstance().addDifferentGroupsOfType(e);var t=c.default.getInstance().getJson(),n=c.default.getInstance().getGetrewardTimes(),a=c.default.getInstance().getDifferentGroupsOfType(e),o="";0==c.default.getInstance().getShareSucNum()?o=0==t.share_group?t.share_fail_tips[t.fail_tips_index[1]]:t.share_fail_tips[t.fail_tips_index[2]]:0==t.share_multi_group?o=t.share_fail_tips[t.fail_tips_index[1]]:n<=20?o=t.share_fail_tips[t.fail_tips_index[2]]:(a<2?c.default.getInstance().setIsGroups(!0):(c.default.getInstance().resetDifferentGroupsOfType(e),c.default.getInstance().setIsGroups(!1)),o=(o=t.share_fail_tips[t.fail_tips_index[3]])+a+"\u4e2a\u7fa4"),c.default.getInstance().setCurDefCallType(e),Q.default.getInstance().DefaultCenterWordTip(o)},t=__decorate([ce],t)}(cc.Component);n.default=ge,cc._RF.pop()},{"../Game/Bullet/CircularBullet":"CircularBullet","../Game/Bullet/ClusterBullet":"ClusterBullet","../Game/Bullet/FrozenBullet":"FrozenBullet","../Game/Bullet/LaserBullet":"LaserBullet","../Game/Bullet/NormalBullet":"NormalBullet","../Game/Bullet/PenetrateBullet":"PenetrateBullet","../Game/Bullet/RangeBullet":"RangeBullet","../Game/Bullet/RayBullet":"RayBullet","../Game/Bullet/RepelBullet":"RepelBullet","../Game/Bullet/VineBullet":"VineBullet","../Game/GameCtr/BulletManager":"BulletManager","../Game/GameCtr/GameControl":"GameControl","../Game/GameCtr/MonsterLifeBarManager":"MonsterLifeBarManager","../Game/GameCtr/MonsterManager":"MonsterManager","../Game/GameCtr/TowerManager":"TowerManager","../Game/Monster/BeckonMonster":"BeckonMonster","../Game/Monster/BlinkMonster":"BlinkMonster","../Game/Monster/BombMonster":"BombMonster","../Game/Monster/CloakingMonster":"CloakingMonster","../Game/Monster/FissionMonster":"FissionMonster","../Game/Monster/GuardMonster":"GuardMonster","../Game/Monster/NormalMonster":"NormalMonster","../Game/Monster/ShieldMonster":"ShieldMonster","../Game/Monster/SmallMonster":"SmallMonster","../Game/Monster/SmokeMonster":"SmokeMonster","../Manager/AudioManager":"AudioManager","../Manager/ConfigMgr":"ConfigMgr","../Manager/DelayTimeManager":"DelayTimeManager","../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager","../Manager/GameDataManager":"GameDataManager","../Manager/ResourceLoadManager":"ResourceLoadManager","../SDK/GlobalManager":"GlobalManager","../SDK/SDKManager":"SDKManager","../Server/CheckAwardServer":"CheckAwardServer","../Server/CheckIsLoadOver":"CheckIsLoadOver","../Server/CountPlayerDeadServer":"CountPlayerDeadServer","../Server/FriendsHelp/CheckIsNewFriendsJoin":"CheckIsNewFriendsJoin","../Server/FriendsHelp/GetFriendsHelpDataServer":"GetFriendsHelpDataServer","../Server/FriendsHelp/UpdateFriendsHelpServer":"UpdateFriendsHelpServer","../Server/GetLoginAwardSever":"GetLoginAwardSever","../Server/GetLotteryCountServer":"GetLotteryCountServer","../Server/GetShareAwardServer":"GetShareAwardServer","../Server/HangServer":"HangServer","../Server/HealthCheck":"HealthCheck","../Server/OnErrorCallServer":"OnErrorCallServer","../Server/ReConnetionServer":"ReConnetionServer","../Server/RefreshGoldAndTowerServer":"RefreshGoldAndTowerServer","../Server/RefreshGoldServer":"RefreshGoldServer","../Server/RefreshGuideCountServer":"RefreshGuideCountServer","../Server/RefreshUserDataServer":"RefreshUserDataServer","../Server/ResetUserDataServer":"ResetUserDataServer","../Server/SendUserIsShareServer":"SendUserIsShareServer","../Server/SendUserJoinStyleServer":"SendUserJoinStyleServer","../Server/ServerManager":"ServerManager","../Server/UpdateBuffServer":"UpdateBuffServer","../Server/UpdateUserServer":"UpdateUserServer","../Server/UseLotteryCountServer":"UseLotteryCountServer","../UI/Manager/WindowManager":"WindowManager","../UI/Manager/WordEffManager":"WordEffManager","../UI/StartGame/LoginWnd":"LoginWnd"}],MonsterComTipWnd:[function(e,t,n){"use strict";cc._RF.push(t,"7f441DseFhEZqsFKLY0R6H3","MonsterComTipWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/GameDataManager"),i=e("../Manager/WordEffManager"),r=e("../../Game/GameCtr/MonsterManager"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._view.width=fgui.GRoot.inst.width,this._bgImg=this._view.getChild("n4").asImage,this._showCom=this._view.getChild("n3").asCom,this._nowLevelTxt=this._showCom.getChild("n5").asTextField},t.prototype.OnOpen=function(){this.StartEff()},t.prototype.OnClose=function(){var e=o.default.getInstance().getNowLevelId(),t="\u7b2c"+o.default.getInstance().getNowSmallLevel()+"\u6ce2",n=(i.default.getInstance().DefaultGTextFieldStyle,cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/3));i.default.getInstance().wordTips(t,n,100,2,function(){r.default.getInstance().startLevel(e)})},t.prototype.StartEff=function(){var e=this,t=o.default.getInstance().getNowBigLevel();this._nowLevelTxt.text="\u7b2c"+t+"\u5173";var n=cc.v2(fgui.GRoot.inst.width+this._showCom.width/2,fgui.GRoot.inst.height/3);this._showCom.setPosition(n.x,107),this._view.setPosition(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/3);this._bgImg.height=0,this._bgImg.node.opacity=204,fgui.GTween.to(0,200,.3).setTarget(this._bgImg).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._bgImg.height=t.value.x},this).onComplete(function(){e._bgImg.height=200;var t=e._showCom.x,n=.5*fgui.GRoot.inst.width;fgui.GTween.to(t,n,1).setTarget(e._showCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._showCom.x=t.value.x},e).onComplete(function(){fgui.GTween.to(n,n-t,1).setTarget(e._showCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._showCom.x=t.value.x},e).onComplete(function(){fgui.GTween.to(200,0,.3).setTarget(e._bgImg).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._bgImg.height=t.value.x},e).onComplete(function(){e.CloseSelf()},e)},e).setDelay(.5)},e)},this)},t}(a.default);n.default=s,cc._RF.pop()},{"../../Game/GameCtr/MonsterManager":"MonsterManager","../../Manager/GameDataManager":"GameDataManager","../Base/BaseWindow":"BaseWindow","../Manager/WordEffManager":"WordEffManager"}],MonsterLifeBarManager:[function(e,t,n){"use strict";cc._RF.push(t,"0fb441r3PNJfJVuLSXfCbSr","MonsterLifeBarManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/ConfigMgr"),o=function(){function e(){this._recordLoadCom=null,this._recordAllLifeBar={},this._recordAllDontUseLifeBar=[]}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.setLoadNodeCom=function(e){null==this._recordLoadCom?this._recordLoadCom=e:console.log("\u7981\u6b62\u91cd\u590d\u6ce8\u518c\u6302\u8f7d\u8282\u70b9")},e.prototype.update=function(e){for(var t in this._recordAllLifeBar)if(null!=this._recordAllLifeBar[t])if(this._recordAllLifeBar[t].showTime-=e,this._recordAllLifeBar[t].showTime<0)this._pushLifeBarComPool(this._recordAllLifeBar[t].barCom),this._recordAllLifeBar[t]=null;else{var n=this._recordAllLifeBar[t]._monster.getBloodPos();this._recordAllLifeBar[t].barCom.setPosition(n.x,n.y)}},e.prototype.addToLifeBar=function(e){var t=e.getUuid(),n=e.getNowLife()/e.getMaxLife()*100,o=e.getNowGuardValue()/e.getMaxGuardValue()*100;if(e.getNowLife()<=0)null!=this._recordAllLifeBar[t]&&(this._recordAllLifeBar[t].showTime=0);else{if(this._recordAllLifeBar[t])this._recordAllLifeBar[t].showTime=2,this._recordAllLifeBar[t].lifeProgress.tweenValue(n,.2),this._recordAllLifeBar[t].guardProgress.tweenValue(o,.2);else{this._recordAllLifeBar[t]={},this._recordAllLifeBar[t].showTime=2,this._recordAllLifeBar[t].barCom=this._popLifeBarComPool(),this._recordAllLifeBar[t].lifeProgress=this._recordAllLifeBar[t].barCom.getChild("n0").asProgress,this._recordAllLifeBar[t]._monster=e,this._recordAllLifeBar[t].barCom.visible=!0,this._recordAllLifeBar[t].lifeProgress.value=n,this._recordAllLifeBar[t].montserLevel=this._recordAllLifeBar[t].barCom.getChild("n2").asTextField,this._recordAllLifeBar[t].guardProgress=this._recordAllLifeBar[t].barCom.getChild("n5").asProgress,this._recordAllLifeBar[t].guardProgress.value=o;var i=e.getConfigID(),r=a.default.getInstance().getTableDataOne("Monster",i.toString(),"Level");r="Lv"+r,this._recordAllLifeBar[t].montserLevel.text=r}this._recordAllLifeBar[t].guardProgress.visible=e.getNowGuardValue()>0}},e.prototype.closeAllLifeBar=function(){for(var e in this._recordAllLifeBar)null!=this._recordAllLifeBar[e]&&(this._recordAllLifeBar[e].showTime=0)},e.prototype._popLifeBarComPool=function(){if(this._recordAllDontUseLifeBar.length>0)return this._recordAllDontUseLifeBar.pop();var e=fgui.UIPackage.createObject("MainWnd","MonsterLifeBar").asCom;return this._recordLoadCom.addChildAt(e,0),e},e.prototype._pushLifeBarComPool=function(e){e.visible=!1,this._recordAllDontUseLifeBar.push(e)},e}();n.default=o,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr"}],MonsterManager:[function(e,t,n){"use strict";cc._RF.push(t,"34be5hz1elL6ot3oA+oYw0j","MonsterManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./GameControl"),o=e("../../Manager/ConfigMgr"),i=e("../../Manager/GameDataManager"),r=e("../../UI/Manager/WordEffManager"),s=e("../../Manager/EventManager"),l=e("../../Manager/EventEnum"),d=e("../../UI/Manager/WindowManager"),u=e("../../UI/PopWnd/SuccessWnd"),c=e("./MonsterLifeBarManager"),h=e("../../Manager/ResourceLoadManager"),f=e("../../UI/PopWnd/WarnWnd"),g=function(){function e(){this._recordMonsterClassToId={},this._recordNowCDTime={},this._recordAllCDTime={},this._recordMonsterPool=[],this._recordMonsterParentNode=null,this._recordNowAllMonster=[],this._recordNowCreateCount=0,this._recordLastRefreshTime=0,this._recordNowLevelAllMonsterCount=-1,this._recordNowDeadMonsterCount=-1,this._recordNeedCreateList=[],this._recordPathCreateTime=[0,0,0,0,0],this._recordAllCreateTime=0,this._reocrdNowCreateBuffTime=this.CREATE_BUFF_START_TIME,this._canCreateCount=0,this._recordUseBuffTime=0,this._buffCheckCount=0,this._updateCtr=!1,this._lastTime=3,this._recordCreateScale=1,this._recordEntrance=-1,this._recordPath=[!1,!1,!1,!1,!1],this.curPlantBoxCount=-1,this.plantBoxCount=-1,this.plantBoxCD=-1,this._MAX_BOMB_NUM=0,this._countMonsterToDead=0,this._isInFrozenState=!1,this.MAX_FROZEN_TIME=0,this._nowFrozenTime=0,this._levelDeadNowTime=3,this._levelDeadMaxTime=3,this._shakeNode=null,this._recordNormalPos=null,this._recordNowIsInDoubleGoldBuff=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e,this._instance.InitData()),this._instance},e.prototype.InitData=function(){},e.prototype.registerMonsterClass=function(e,t){null!=e&&null!=t?this._recordMonsterClassToId[e]?console.log("\u91cd\u590d\u8fdb\u884c\u6ce8\u518c\u602a\u517d\u7c7b\uff01"):this._recordMonsterClassToId[e]=t:console.log("\u4f20\u53c2\u9519\u8bef\uff01")},e.prototype._createNewMonsterNode=function(){var e=new cc.Node;if(e.addComponent(dragonBones.ArmatureDisplay),i.default.getInstance().getNowBigLevel()>=7){var t=h.default.getInstance().getRes("Prefab/effect_m1062"),n=cc.instantiate(t);n.active=!1,n.name="GuardNode",e.addChild(n,3)}return e},e.prototype.createMonster=function(e,t,n,r){if(null!=e){var s=o.default.getInstance().getTableDataOne("Monster",e.toString(),"Type");if(null!=this._recordMonsterClassToId[s]){var l=new this._recordMonsterClassToId[s],d=null;if(d=this._recordMonsterPool.length<1?this._createNewMonsterNode():this._recordMonsterPool.pop(),null!=this._recordMonsterParentNode&&0!=this._recordMonsterParentNode.isValid||(this._recordMonsterParentNode=cc.find("Canvas/BG/MonsterNode")),null!=d.parent&&d.removeFromParent(!1),null!=n?l.setTargetPath(n):l.setTargetPath(t),null==d.getChildByName("GuardNode")&&i.default.getInstance().getNowBigLevel()>6){var u=h.default.getInstance().getRes("Prefab/effect_m1062"),c=cc.instantiate(u);c.active=!1,c.name="GuardNode",d.addChild(c,3)}var f=d.getChildByName("GuardNode");return f&&(f.active=!1),this._recordMonsterParentNode.insertChild(d,0),l.initNode(d),l.initData(e,r),l.setUuid(a.default.getInstance().returnUUID()),l.setMonsterPath(t),this._recordNowAllMonster.push(l),this._recordNowCreateCount++,l}console.log("\u672a\u6ce8\u518c\u7684\u602a\u7269Id\uff01")}else console.log("\u4f20\u53c2\u9519\u8bef\uff01")},e.prototype.setChildMonsterZ=function(e){if(this._recordMonsterParentNode&&(this._recordLastRefreshTime+=e,this._recordLastRefreshTime>1)){if(null==this._recordMonsterParentNode.children)return;this._recordMonsterParentNode.children.sort(function(e,t){return null==e.FOOT_POS_Y||null==t.FOOT_POS_Y?-1:Number(t.FOOT_POS_Y()-e.FOOT_POS_Y())}),this._recordLastRefreshTime=0}},e.prototype.getMonsterParentNode=function(){return this._recordMonsterParentNode},e.prototype.getRecordMonsterPool=function(){return this._recordMonsterPool},e.prototype.getNowAllMonster=function(){return this._recordNowAllMonster},e.prototype.monsterDeadAndRefreshProgress=function(){this._recordNowDeadMonsterCount++,i.default.getInstance().setJindutiaoValue(this._recordNowDeadMonsterCount/this._recordNowLevelAllMonsterCount)},e.prototype.monsterSpiltToRefershPregress=function(e){this._recordNowLevelAllMonsterCount+=e,i.default.getInstance().setJindutiaoValue(this._recordNowDeadMonsterCount/this._recordNowLevelAllMonsterCount)},e.prototype.recycleClass=function(e){for(var t,n=this,a=0,c=this._recordNowAllMonster.length;a<c;a++)if(null!=this._recordNowAllMonster[a]&&this._recordNowAllMonster[a].getUuid()==e){t=a;break}if(this._recordNowCreateCount--,this._recordNowAllMonster[t]=null,this._recordNowCreateCount<=0&&(this.FinishFrozenState(),s.default.dispatchEvent(l.EventEnum.ResetFrozen)),this._recordNowCreateCount<=0&&this._recordNeedCreateList.length<=0){this.FinishFrozenState(),this._reocrdNowCreateBuffTime=this.CREATE_BUFF_START_TIME,this._buffCheckCount=0,this._canCreateCount=0;var h=i.default.getInstance().getNowSmallLevel(),g=i.default.getInstance().getNowLevelId();if(o.default.getInstance().getTableDataOne("Wave",g.toString(),"AllTurn")==h){var p=i.default.getInstance().getNowLevelId(),_=o.default.getInstance().getTableDataOne("Wave",p.toString(),"WaveMoney"),v=i.default.getInstance().addBigLevel(),I={};I.param=_,I.param2=v,d.default.getInstance().OpenWindow("PopWnd","SuccessWnd",u.default,I,d.WindowLayer.PopupWnd)}else{var m=i.default.getInstance().getNowLevelId(),C=o.default.getInstance().getTableDataOne("Wave",m.toString(),"AllTurn"),w=i.default.getInstance().getNowBigLevel(),y="\u7b2c"+(h+1)+"\u6ce2",S=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/3);r.default.getInstance().wordTips(y,S,100,2,function(){C==h+1&&w>=11&&d.default.getInstance().OpenWindow("PopWnd","WarnWnd",f.default,null,d.WindowLayer.PopupWnd);var e=i.default.getInstance().addSmallLevel();s.default.dispatchEvent(l.EventEnum.PlaySuccess),n.startLevel(e)})}}},e.prototype.recycleNode=function(e){null!=e?this._recordMonsterPool.push(e):cc.error("\u8282\u70b9\u4e0d\u5e94\u4e3a\u7a7a!")},e.prototype.clearNowAllMonster=function(){i.default.getInstance().setJindutiaoValue(0),this._updateCtr=!1;for(var e=[],t=0,n=this._recordNowAllMonster.length;t<n;t++)e.push(this._recordNowAllMonster[t]);this._recordNeedCreateList.length=0,this._recordNeedCreateList=[],this._recordNowAllMonster.length=0;for(t=0,n=e.length;t<n;t++)null!=e[t]&&(e[t].recycleDefault(),e[t].getNode().removeFromParent(!0),this._recordMonsterPool.push(e[t].getNode()));this._recordNowCreateCount=0,e=null},e.prototype.PrintDebug=function(){cc.error("\u5f53\u524d\u51b0\u51bb\u72b6\u6001\uff1a",this._isInFrozenState),cc.error("\u5f53\u524d\u6b7b\u4ea1\u65f6\u95f4\uff1a",this._levelDeadNowTime),cc.error("\u5f53\u524d\u51b0\u51bb\u65f6\u95f4\uff1a",this._nowFrozenTime),cc.error("\u5f53\u524d\u89e6\u6478\u6b21\u6570\uff1a",this._countMonsterToDead)},e.prototype.update=function(t){if(!this._isInFrozenState&&this._countMonsterToDead>0&&(this._levelDeadNowTime-=t),this.addPlantBox(t),this._recordNowIsInDoubleGoldBuff&&(this._recordUseBuffTime-=t,this._recordUseBuffTime<=0&&(this._recordNowIsInDoubleGoldBuff=!1)),this._isInFrozenState&&(this._nowFrozenTime-=t,this._nowFrozenTime<=0&&this.FinishFrozenState()),this._reocrdNowCreateBuffTime<0&&(this._buffCheckCount--,this._reocrdNowCreateBuffTime=this.CREATE_BUFF_TIME,this.createBuff()),this._canCreateCount>0&&this._buffCheckCount>0&&(this._reocrdNowCreateBuffTime-=t),this._levelDeadNowTime<=0&&(this._shakeNode.color=cc.Color.WHITE,1==fgui.GTween.isTweening(this._shakeNode)&&fgui.GTween.kill(this._shakeNode,!0),this._countMonsterToDead=0,this._levelDeadNowTime=this._levelDeadMaxTime,e.getInstance().clearNowAllMonster(),c.default.getInstance().closeAllLifeBar(),s.default.dispatchEvent(l.EventEnum.PlayDefeated),this.FinishFrozenState()),this.setChildMonsterZ(t),this._updateCtr&&!this._isInFrozenState)for(var n=0,a=this._recordPathCreateTime.length;n<a;n++)if(this._recordPathCreateTime[n]-=t,this._recordAllCreateTime-=t,0!=this._recordPath[n]&&this._recordPathCreateTime[n]<0){if(this._recordAllCreateTime>0){for(var o=0;o<5;o++)this._recordPathCreateTime[o]+=this._recordAllCreateTime;continue}if(this._recordAllCreateTime=Math.random()*this._recordAllCDTime.minTime+(this._recordAllCDTime.maxTime-this._recordAllCDTime.minTime),this._recordPathCreateTime[n]=Math.random()*this._recordNowCDTime.minTime+(this._recordNowCDTime.maxTime-this._recordNowCDTime.minTime),this.checkNowIsNeedCreate()){var i=this._returnRandMonsterId(n+1),r=this._returnNewPath(i,n+1);if(this.createMonster(i,r),r!=n+1){var d=Math.floor(r-1),u=Math.ceil(r-1);this._recordPathCreateTime[d]=Math.random()*this._recordNowCDTime.minTime+(this._recordNowCDTime.maxTime-this._recordNowCDTime.minTime),this._recordPathCreateTime[u]=Math.random()*this._recordNowCDTime.minTime+(this._recordNowCDTime.maxTime-this._recordNowCDTime.minTime)}}}},e.prototype.SetCreateTimeScale=function(e,t){if(void 0===t&&(t=!1),this._recordCreateScale!=e||t){this._recordCreateScale=e;var n=i.default.getInstance().getNowLevelId(),a=o.default.getInstance().getTableDataOne("Wave",n.toString(),"Rate").split(","),r=parseInt(a[1]);this._recordNowCDTime.maxTime=e*r;var s=parseInt(a[0]);this._recordNowCDTime.minTime=e*s;var l=o.default.getInstance().getTableDataOne("Wave",n.toString(),"AllRate").split(","),d=parseInt(l[1]),u=parseInt(l[0]);this._recordAllCDTime.minTime=e*u,this._recordAllCDTime.maxTime=e*d;var c=.5*(this._recordAllCDTime.minTime+this._recordAllCDTime.maxTime);this._recordAllCreateTime<c?this._recordAllCreateTime=0:this._recordAllCreateTime=c;for(var h=.5*(this._recordNowCDTime.minTime+this._recordNowCDTime.maxTime),f=0;f<5;f++)this._recordPathCreateTime[f]=this._recordPathCreateTime[f]<h?0:h}},e.prototype.returnCreatePath=function(){switch(this._recordEntrance){case 1:this._recordPath=[!1,!1,!0,!1,!1];break;case 2:this._recordPath=[!1,!0,!0,!1,!1];break;case 3:this._recordPath=[!1,!0,!0,!0,!1];break;case 4:this._recordPath=[!0,!0,!0,!0,!1];break;case 5:this._recordPath=[!0,!0,!0,!0,!0]}},e.prototype.getCurPlantBoxCount=function(){return this.curPlantBoxCount},e.prototype.setCurPlantBoxCount=function(e){this.curPlantBoxCount=e},e.prototype.addPlantBox=function(e){if(0!=this.plantBoxCount&&this.plantBoxCD>0&&(this.plantBoxCD-=e,this.plantBoxCD<=0)){var t=i.default.getInstance().getNowLevelId(),n=o.default.getInstance().getTableDataOne("Wave",t.toString(),"PlantBoxRate").split(",").map(Number);this.plantBoxCD=o.default.getInstance().getTableDataOne("Wave",t.toString(),"PlantBoxCD");var a=Math.random();this.plantBoxCount--,a<n[0]+n[1]&&(this.curPlantBoxCount++,s.default.dispatchEvent(l.EventEnum.CreatePlantBox))}},e.prototype.startLevel=function(e){null==this.CREATE_BUFF_TIME&&(this.CREATE_BUFF_TIME=parseInt(o.default.getInstance().getTableDataOne("Words","17","Describe")),this.CREATE_BUFF_START_TIME=parseInt(o.default.getInstance().getTableDataOne("Words","17","Describe")),this.BUFF_CHECK_COUNT=parseInt(o.default.getInstance().getTableDataOne("Words","18","Describe")));var t=i.default.getInstance().getNowLevelId();this.BUFF_CREATE_COUNT=o.default.getInstance().getTableDataOne("Wave",t.toString(),"BoxRate")>0?1:0,this._reocrdNowCreateBuffTime=this.CREATE_BUFF_START_TIME,this._buffCheckCount=this.BUFF_CHECK_COUNT,this._canCreateCount=this.BUFF_CREATE_COUNT,this.curPlantBoxCount=0,this.plantBoxCount=o.default.getInstance().getTableDataOne("Wave",t.toString(),"PlantBoxCount"),this.plantBoxCD=o.default.getInstance().getTableDataOne("Wave",t.toString(),"PlantBoxCD"),this._countMonsterToDead=0,this._levelDeadNowTime=this._levelDeadMaxTime,null!=this._shakeNode&&(this._recordNormalPos=cc.v2(this._shakeNode.x,this._shakeNode.y),this._shakeNode.color=cc.Color.WHITE,1==fgui.GTween.isTweening(this._shakeNode)&&fgui.GTween.kill(this._shakeNode,!0)),this._recordNowCreateCount=0,this._updateCtr=!1,this._recordPathCreateTime=[0,0,0,0,0],this._recordAllCreateTime=0,this.SetCreateTimeScale(this._recordCreateScale,!0),this._recordNowLevelAllMonsterCount=o.default.getInstance().getTableDataOne("Wave",e.toString(),"AllCount"),this._recordNowDeadMonsterCount=0,i.default.getInstance().setJindutiaoValue(0),this._isInFrozenState=!1,this._nowFrozenTime=0,s.default.dispatchEvent(l.EventEnum.RefreshLevelTag),this._recordEntrance=o.default.getInstance().getTableDataOne("Wave",e.toString(),"Entrance"),this.returnCreatePath(),this._recordNeedCreateList.length>0&&(cc.error("\u9700\u8981\u521b\u5efa\u7684\u602a\u517d\u672a\u521b\u5efa\u5b8c\u6bd5\u5373\u5f00\u59cb\u4e0b\u4e00\u4e2a\u521b\u5efa\uff01"),console.log(this._recordNeedCreateList),this._recordNeedCreateList.length=0),this._recordNeedCreateList=[];for(var n=o.default.getInstance().getTableDataOne("Wave",e.toString(),"MonsterID").split(","),a=o.default.getInstance().getTableDataOne("Wave",e.toString(),"MonsterCount").split(","),r=0,d=n.length;r<d;r++){var u={};u._monsterId=parseInt(n[r]),u._createCount=parseInt(a[r]),null==u._createCount&&(cc.error("--------------------\x3e>\u602a\u517d\u6570\u91cf\u79fb\u9664\uff0c\u68c0\u67e5\u914d\u7f6e\uff01"),u._createCount=1),8==o.default.getInstance().getTableDataOne("Monster",n[r],"Type")&&(0==this._MAX_BOMB_NUM&&(this._MAX_BOMB_NUM=o.default.getInstance().getTableDataOne("Words","59","Describe")),u._createCount>this._MAX_BOMB_NUM&&(cc.error("-------------------\x3e>\u5bfc\u5f39\u602a\u6570\u91cf\u5f02\u5e38\uff0c\u68c0\u67e5\u914d\u7f6e\uff01"+n[r]+":"+u._createCount),u._createCount=this._MAX_BOMB_NUM)),this._recordNeedCreateList.push(u)}this._updateCtr=!0},e.prototype.getNowPath=function(){},e.prototype._returnRandMonsterId=function(e){for(var t=0,n=this._recordNeedCreateList.length,a=0;a<n;a++)t+=this._recordNeedCreateList[a]._createCount;var o=Math.random()*t,i=0,r=0;for(a=0;a<n;a++)if(o<(i+=this._recordNeedCreateList[a]._createCount)){r=a;break}var s=this._recordNeedCreateList[r]._monsterId;return this._recordNeedCreateList[r]._createCount--,0==this._recordNeedCreateList[r]._createCount&&this._recordNeedCreateList.splice(r,1),s},e.prototype._returnNewPath=function(e,t){if(o.default.getInstance().getTableDataOne("Monster",e.toString(),"Big")>1){var n=Math.random()>.5?.5:-.5;return 5==t?t-.5:1==t?t+.5:t+n}return t},e.prototype.checkNowIsNeedCreate=function(){return 0!=this._recordNeedCreateList.length||(console.log("----------------\x3e>>\u5f53\u524d\u5173\u5361\u5b8c\u6bd5"),this._updateCtr=!1,!1)},e.prototype.returnPathX=function(e){return i.default.getInstance().getSomePathPosX(e)-cc.winSize.width/2},e.prototype.monterInDeadPos=function(){if(this._countMonsterToDead++,null==this._shakeNode&&(this._shakeNode=cc.find("Canvas/BG/BG3"),this._recordNormalPos=cc.v2(this._shakeNode.x,this._shakeNode.y)),!this._isInFrozenState){this._shakeNode.setPosition(this._recordNormalPos.x,this._recordNormalPos.y);var e=cc.color(198,122,122);0==fgui.GTween.isTweening(this._shakeNode)&&r.default.getInstance().ShakeObj(this._shakeNode,5,1,e)}},e.prototype.monsterDead=function(){this._countMonsterToDead--,this._countMonsterToDead<=0&&(this._levelDeadNowTime=this._levelDeadMaxTime,fgui.GTween.isTweening(this._shakeNode)&&(fgui.GTween.kill(this._shakeNode,!0),this._shakeNode.color=cc.Color.WHITE,this._shakeNode.setPosition(this._recordNormalPos)))},e.prototype.StartFrozenState=function(){this._isInFrozenState=!0,i.default.getInstance().useFrozenBuffCount(),0==this.MAX_FROZEN_TIME&&(this.MAX_FROZEN_TIME=parseFloat(o.default.getInstance().getTableDataOne("Words","57","Describe"))),this._nowFrozenTime=this.MAX_FROZEN_TIME,fgui.GTween.isTweening(this._shakeNode)&&(fgui.GTween.kill(this._shakeNode,!0),this._shakeNode.color=cc.Color.WHITE,this._shakeNode.setPosition(this._recordNormalPos));for(var e=this.getNowAllMonster(),t=e.length,n=0;n<t;n++)e[n]&&!e[n].nowMonsterIsDeading()&&e[n].startFrozen()},e.prototype.FinishFrozenState=function(){if(0!=this._isInFrozenState){if(this._countMonsterToDead>0&&!fgui.GTween.isTweening(this._shakeNode)){var e=cc.color(198,122,122);r.default.getInstance().ShakeObj(this._shakeNode,5,1,e)}for(var t=this.getNowAllMonster(),n=t.length,a=0;a<n;a++)t[a]&&!t[a].nowMonsterIsDeading()&&t[a].finishFrozen();this._isInFrozenState=!1,this._nowFrozenTime=this.MAX_FROZEN_TIME}},e.prototype.GetNowFrozenState=function(){return this._isInFrozenState},e.prototype.createBuff=function(){var e=Math.random(),t=i.default.getInstance().getNowLevelId();if(e>1-o.default.getInstance().getTableDataOne("Wave",t.toString(),"BoxRate")){this._canCreateCount--;var n=o.default.getInstance().getTableDataOne("Wave",t.toString(),"BuffBox").split(","),a=Math.floor(Math.random()*n.length);s.default.dispatchEvent(l.EventEnum.CreateBuff,parseInt(n[a]))}},e.prototype.startUseDoubleGoldBuff=function(){i.default.getInstance().useDoubleGoldBuffCount(),this._recordNowIsInDoubleGoldBuff=!0,null==this.BUFF_CONTINUE_TIME&&(this.BUFF_CONTINUE_TIME=parseFloat(o.default.getInstance().getTableDataOne("Words","19","Describe"))),this._recordUseBuffTime=this.BUFF_CONTINUE_TIME},e.prototype.returnNowIsInDoubleGoldBuff=function(){return this._recordNowIsInDoubleGoldBuff},e.prototype.pauseAllDragonAnimScale=function(){for(var e=this.getNowAllMonster(),t=e.length,n=0;n<t;n++){var a=e[n];a&&(a.getDragon().timeScale=0)}},e.prototype.resumeAllDragonAnimScale=function(){for(var e=this.getNowAllMonster(),t=e.length,n=0;n<t;n++){var a=e[n];a&&(a.getDragon().timeScale=a.getCurrentDragonAnimScale())}},e}();n.default=g,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager","../../UI/Manager/WindowManager":"WindowManager","../../UI/Manager/WordEffManager":"WordEffManager","../../UI/PopWnd/SuccessWnd":"SuccessWnd","../../UI/PopWnd/WarnWnd":"WarnWnd","./GameControl":"GameControl","./MonsterLifeBarManager":"MonsterLifeBarManager"}],MyAudio:[function(e,t,n){"use strict";cc._RF.push(t,"233d0DcYg5GiY+O3M1s7DqT","MyAudio"),Object.defineProperty(n,"__esModule",{value:!0});e("./WxAudio");var a=function(){function e(){}return e.Play=function(e,t,n,a){void 0===n&&(n=!1),void 0===a&&(a=null);var o=null;return o=cc.audioEngine.play(e,n,t),cc.audioEngine.setFinishCallback(o,a),o},e}();n.default=a,cc._RF.pop()},{"./WxAudio":"WxAudio"}],MyDownLoader:[function(e,t,n){"use strict";cc._RF.push(t,"c9d53feZj9DUrq4YVrXept0","MyDownLoader"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.Init=function(){var e=this;this.fileSys=this.Wx.getFileSystemManager?this.Wx.getFileSystemManager():null,this._downloadPath="https://coolant.miniant.cn/test/plantsVsZombies/static/test/res.zip",this._savePath=this.Wx.env.USER_DATA_PATH+"/MyFile",this.CheckFileIsHave(this._savePath,function(t){t||e.MakeDirSync(e._savePath,!0);var n=e._savePath+"/Version.txt";e.CheckFileIsHave(n,function(t){if(t){var a=e.fileSys.readFileSync(n,"utf8");console.warn(a),"2.4.2"!=a||e.DownloadZip(function(t,n){t?console.warn("--------------------\x3e>\u4e0b\u8f7d\u6587\u4ef6\u51fa\u9519\uff01",n):e.UnZipFile(n,e.Wx.env.USER_DATA_PATH,function(){})})}else e.DownloadZip(function(t,a){t?console.warn("--------------------\x3e>\u4e0b\u8f7d\u6587\u4ef6\u51fa\u9519\uff01",a):e.UnZipFile(a,e.Wx.env.USER_DATA_PATH,function(){e.fileSys.readdir({dirPath:a,success:function(e){console.log(e)},fail:function(e){console.log(e)}}),e.DeletZip(a),e.WriteFileSync(n,"2.4.2","utf8")})})})})},e.LoadGameConfig=function(){},e.CheckIsNeedDownLoadZip=function(){var e=this;this.DownloadZip(function(t,n){t?console.warn("--------------------\x3e>\u4e0b\u8f7d\u6587\u4ef6\u51fa\u9519\uff01",n):e.UnZipFile(n,e.Wx.env.USER_DATA_PATH)})},e.WriteFileSync=function(e,t,n){var a=this.CheckFileSys();if(a)return a;try{return this.fileSys.writeFileSync(e,t,n),null}catch(e){return console.warn(e.message),new Error(e.message)}},e.MakeDirSync=function(e,t){var n=this.CheckFileSys();if(n)return n;try{return this.fileSys.mkdirSync(e,t),null}catch(e){return console.warn(e.message),new Error(e.message)}},e.CheckFileSys=function(){return this.fileSys?null:(console.warn("can not get the file system!"),new Error("file system does not exist!"))},e.DownloadZip=function(e){var t=this;this.Wx.downloadFile({url:this._downloadPath,filePath:this._savePath+"/res.zip",success:function(n){console.log(n),200===n.statusCode?e&&e(null,n.tempFilePath||n.filePath):(n.filePath&&t.DeletZip(n.filePath),console.warn("Download file failed: "+t._downloadPath),console.warn(n.errMsg),e&&e(new Error(n.errMsg),null))},fail:function(t){console.warn(t),console.warn("Download file failed: "+this._downloadPath),e&&e(new Error(t.errMsg),null)}}).onProgressUpdate(function(e){console.log("\u4e0b\u8f7d\u8fdb\u5ea6",e.progress),console.log("\u5df2\u7ecf\u4e0b\u8f7d\u7684\u6570\u636e\u957f\u5ea6",e.totalBytesWritten),console.log("\u9884\u671f\u9700\u8981\u4e0b\u8f7d\u7684\u6570\u636e\u603b\u957f\u5ea6",e.totalBytesExpectedToWrite)})},e.UnZipFile=function(e,t,n){var a=this.CheckFileSys();if(a)return a;this.fileSys.unzip({zipFilePath:e,targetPath:t,success:function(){console.warn("------------------\x3e>\u89e3\u538b\u5b8c\u6210"),n&&n()},fail:function(e){console.warn(e)},complete:function(){console.warn("------------------\x3e>\u89e3\u538b\u7ed3\u675f")}})},e.DeletZip=function(e,t){var n=this.CheckFileSys();if(n)return n;this.fileSys.unlink({filePath:e,success:function(){cc.log("Removed local file "+e+" successfully!"),t&&t(null)},fail:function(e){console.warn(e.errMsg),t&&t(new Error(e.errMsg))}})},e.CheckFileIsHave=function(e,t){var n=this.CheckFileSys();if(n)return n;this.fileSys.access({path:e,success:t?function(){t(!0)}:void 0,fail:t?function(){t(!1)}:void 0})},e.fileSys=null,e.Wx=window.wx,e}();n.default=a,cc._RF.pop()},{}],MyLoader:[function(e,t,n){"use strict";cc._RF.push(t,"04280OO9zxF8pkjX7kzj7Zt","MyLoader"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Manager/ResourceLoadManager"),o=e("../SDK/SDKManager"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.loadExternal=function(){this.startsWith(this.url,"http://")||this.startsWith(this.url,"https://")?1==o.default.getInstance().getNowPlatform()?this.faceBookLoadPic(this.url,this.onMyLoaded.bind(this)):this.wxLoadPic(this.url,this.onMyLoaded.bind(this)):this.onLoadedRes()},t.prototype.startsWith=function(e,t,n){return!!e&&(!(e.length<t.length)&&(e=e.substring(0,t.length),n?e.toLowerCase()==t.toLowerCase():e==t))},t.prototype.onMyLoaded=function(e){this.url&&cc.isValid(this._node)&&null!=(e=t._recordChangeUrlToBlob[this.url])&&e instanceof cc.SpriteFrame&&this.onExternalLoadSuccess(e)},t.prototype.onLoadedRes=function(){if(this.url&&cc.isValid(this._node)){var e;(e=a.default.getInstance().getRes(this.url))&&(e instanceof cc.SpriteFrame?this.onExternalLoadSuccess(e):e instanceof cc.Texture2D&&this.onExternalLoadSuccess(new cc.SpriteFrame(e)))}},t.prototype.wxLoadPic=function(e,n){t._recordChangeUrlToBlob[e]?n(t._recordChangeUrlToBlob[e]):cc.loader.load({url:e,type:"png"},function(a,o){if(a)cc.error("\u52a0\u8f7d\u56fe\u7247\u51fa\u73b0\u5f02\u5e38\uff01");else{var i=new cc.SpriteFrame(o);t._recordChangeUrlToBlob[e]=i,n(t._recordChangeUrlToBlob[e])}})},t.prototype.faceBookLoadPic=function(e,n){t._recordChangeUrlToBlob[e]?n(t._recordChangeUrlToBlob[e]):fetch(e).then(function(e){return e.blob()}).then(function(a){var o=URL.createObjectURL(a),i=new Image;i.crossOrigin="anonymous",i.src=o,i.onload=function(){var a=new cc.Texture2D;a.initWithElement(i),a.handleLoadedTexture();var o=new cc.SpriteFrame(a);t._recordChangeUrlToBlob[e]=o,n(t._recordChangeUrlToBlob[e])}})},t._recordChangeUrlToBlob={},t}(fgui.GLoader);n.default=i,cc._RF.pop()},{"../Manager/ResourceLoadManager":"ResourceLoadManager","../SDK/SDKManager":"SDKManager"}],MyMath:[function(e,t,n){"use strict";cc._RF.push(t,"d5d9dnpHZFC1pTMjxDfMJSZ","MyMath"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this.eps=1e-8}return e.GetInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.CountTriCenterMass=function(e,t,n,a){var o=t.sub(e),i=n.sub(e),r=a.sub(e),s=o.dot(o),l=o.dot(i),d=i.dot(i),u=r.dot(o),c=r.dot(i),h=s*d-l*l,f=new cc.Vec3;return f.y=(d*u-l*c)/h,f.z=(s*c-l*u)/h,f.x=1-f.y-f.z,f},e.prototype.IsConvexQuad=function(e,t,n,a){var o=a.sub(t).cross(e.sub(t)),i=a.sub(t).cross(n.sub(t));if(o.dot(i)>=0)return!1;var r=n.sub(e).cross(a.sub(e)),s=n.sub(e).cross(t.sub(e));return r.dot(s)<0},e.prototype.Dcmp=function(e){return Math.abs(e)<this.eps?0:e>0?1:-1},e.prototype.SortPoint=function(e){return e.sort(function(e,t){return e.x!=t.x?e.x-t.x:e.y-t.y}),e},e.prototype.Cross=function(e,t,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},e.prototype.Andrew=function(e){for(var t=[],n=0,a=(e=this.SortPoint(e)).length,o=0;o<a;o++){for(;n>1&&this.Dcmp(this.Cross(t[n-2],t[n-1],e[o]))<=0;)t.pop(),n--;t.push(e[o]),n++}var i=n;for(o=a-2;o>=0;o--){for(;n>i&&this.Dcmp(this.Cross(t[n-2],t[n-1],e[o]))<=0;)t.pop(),n--;t.push(e[o]),n++}return a>1&&n--,t},e.prototype.CountPointToLineDis=function(e,t,n){if(0==this.Dcmp(t.x-n.x)&&0==this.Dcmp(t.y-n.y))return e.sub(t).mag();var a=n.sub(t),o=e.sub(t);return Math.abs(a.cross(o))},e.prototype.GetPointsRightPoint=function(e){for(var t,n=0;n<e.length;n++)void 0==t&&(t=e[0]),e[n].x>t.x?t=e[n]:0==this.Dcmp(e[n].x-t.x)&&e[n].y>t.y&&(t=e[n]);return t},e.prototype.GetPointsLeftPoint=function(e){for(var t,n=0;n<e.length;n++)void 0==t&&(t=e[0]),e[n].x<t.x?t=e[n]:0==this.Dcmp(e[n].x-t.x)&&e[n].y<t.y&&(t=e[n]);return t},e.prototype.QuickHull=function(e,t,n){void 0==t&&(t=this.GetPointsLeftPoint(e)),void 0==n&&(n=this.GetPointsRightPoint(e));for(var a=t,o=n,i=0,r=-1,s=[],l=0;l<e.length;l++)if(this.Cross(a,o,e[l])<0){var d=this.CountPointToLineDis(e[l],a,o);this.Dcmp(d-i)>0&&(i=d,r=l)}if(s.push(o),-1!=r){var u=e[r],c=[],h=[];for(l=0;l<e.length;l++)this.Cross(a,u,e[l])>0&&c.push(e[l]),this.Cross(o,u,e[l])>0&&h.push(e[l]);var f=this.QuickHull(c,a,u),g=this.QuickHull(h,o,u);g.length>2&&s.concat(g),s.push(u),f.length>2&&s.concat(f)}return s.push(a),s},e.prototype.ExtremePointsAlongDirection=function(e,t){for(var n=-1,a=-1,o=0;o<t.length;o++){var i=t[o].dot(e);i<n&&(n=i,o),i>a&&(a=i,o)}},e.prototype.UpdateAABB_M=function(e,t,n,a){for(var o=0;o<t.length;o++){a.min[o]=a.max[o]=n[o];for(var i=0;i<t[o].length;i++){var r=t[o][i]*e.min[i],s=t[o][i]*e.max[i];r<s?(a.min[o]+=r,a.max[o]+=s):(a.min[o]+=s,a.max[o]+=r)}}},e.prototype.UpadateAABB_R=function(e,t,n,a){for(var o=0;o<t.length;o++){a.centerPos[o]=n[o],a.radius[o]=0;for(var i=0;i<t[o].length;i++)a.centerPos[o]+=t[o][i]*e.centerPos[i],a.radius[o]+=t[o][i]*e.radius[i]}},e.prototype.TestSphereSphere=function(e,t){var n=e.centerPos.sub(t.centerPos),a=n.dot(n),o=e.radius+t.radius;return a<=o*o},e.prototype.MostSeparatedPointsOnAABB=function(e){for(var t=0,n=0,a=0,o=0,i=0,r=0,s=0;s<e.length;s++)e[s].x<e[t].x&&(t=s),e[s].x>e[n].x&&(n=s),e[s].y<e[a].y&&(a=s),e[s].y>e[o].y&&(o=s),e[s].z<e[i].z&&(i=s),e[s].z>e[r].z&&(r=s);var l=e[n].sub(e[t]).dot(e[n].sub(e[t])),d=e[o].sub(e[a]).dot(e[o].sub(e[a])),u=e[r].sub(e[i]).dot(e[r].sub(e[i])),c={};return d>l&&d>u?(c.min=a,c.max=o):u>l&&u>d?(c.min=i,c.max=r):(c.min=t,c.max=n),c},e.prototype.SphereFromDistantPoints=function(e){var t=this.MostSeparatedPointsOnAABB(e),n={};return n.centerPos=e[t.min].add(e[t.max]).scale(new cc.Vec3(.5,.5,.5)),n.radius=e[t.max].sub(n.centerPos).dot(e[t.max].sub(n.centerPos)),n.radius=Math.sqrt(n.radius),n},e.prototype.SphereOfSphereAndPoint=function(e,t){var n=e,a=t.sub(n.centerPos),o=a.dot(a);if(o>n.radius*n.radius){var i=Math.sqrt(o),r=.5*(n.radius+i),s=(r-n.radius)/i;n.radius=r,n.centerPos=n.centerPos.add(a.scale(new cc.Vec3(s,s,s)))}return n},e.prototype.RitterSphere=function(e,t){for(var n=this.SphereFromDistantPoints(t),a=0;a<t.length;a++)n=this.SphereOfSphereAndPoint(n,t[a]);return n},e.prototype.CountVariance=function(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];t/=e.length;var a=0;for(n=0;n<e.length;n++)a+=(e[n]-t)*(e[n]-t);return a/=e.length},e.prototype.CovarianceMatrix=function(e,t){for(var n=1/t.length,a=new cc.Vec3(0,0,0),o=0;o<t.length;o++)a=a.add(t[o]);a=a.scale(new cc.Vec3(n,n,n));var i=0,r=0,s=0,l=0,d=0,u=0;for(o=0;o<t.length;o++){var c=t[o].sub(a);i+=c.x*c.x,s+=c.y*c.y,d+=c.z*c.z,r+=c.x*c.y,u+=c.x*c.z,l+=c.y*c.z}var h=[[]];return h[0][0]=i*n,h[1][1]=s*n,h[2][2]=d*n,h[0][1]=h[1][0]=r*n,h[0][2]=h[2][0]=u*n,h[1][2]=h[2][1]=l*n,h},e.prototype.CountPointToPlaneDis=function(e,t){return(t.normalVec.dot(e)-t.d)/t.normalVec.dot(t.normalVec)},e.prototype.CountPointToPlanePoint=function(e,t){var n=this.CountPointToPlaneDis(e,t);return e.sub(t.normalVec.scale(new cc.Vec3(n,n,n)))},e.prototype.ValueLerp=function(e,t,n){return e+(t-e)*n},e.prototype.Bezier2=function(e,t,n,a){a=(a=a>1?1:a)<0?0:a;var o=e.mul(1-a).add(n.mul(a)),i=n.mul(1-a).add(t.mul(a));return o.mul(1-a).add(i.mul(a))},e.prototype.CountBezier2PPos=function(e,t,n){var a=cc.v2(e.x>t.x?e.x:t.x,e.y<t.y?e.y:t.y);return cc.v2(e.x<t.x?e.x:t.x,e.y>t.y?e.y:t.y).mul(1-n).add(a.mul(n))},e.prototype.CountBezier2PPos2=function(e,t,n){var a=cc.v2(e.x>t.x?e.x:t.x,e.y<t.y?e.y:t.y);return cc.v2(e.x<t.x?e.x:t.x,e.y>t.y?e.y:t.y).sub(a.mul(n)).mul(1/(1-n))},e.prototype.CountBezier2PPos3=function(e,t,n){return cc.v2(e.x<t.x?e.x:t.x,e.y>t.y?e.y:t.y).mul(n)},e.prototype.DrawCurve=function(e,t,n,a){var o=.5*Math.sqrt(e.sub(t).dot(e.sub(t))),i=e.mul(.5).add(t.mul(.5));return a<i.x?i.y-Math.sqrt(o*o-(a-i.x)*(a-i.x)):Math.sqrt(o*o-(a-i.x)*(a-i.x))+i.y},e.prototype.FastAbs=function(e){return(e^e>>31)-(e>>31)},e.prototype.Angle=function(e,t){var n=t.sub(e),a=cc.v2(0,1),o=n.dot(a)/Math.sqrt(a.dot(a)*n.dot(n)),i=Math.acos(o);return i*=180/Math.PI,n.cross(a)>0?i:360-i},e}();n.default=a,cc._RF.pop()},{}],NormalBullet:[function(e,t,n){"use strict";cc._RF.push(t,"203cfldpBdKBp6yivcK+ciZ","NormalBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._monsterId=-1,t.bullettype=a.BulletType.NormalBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.setMonsterId=function(e){this._monsterId=e},t.prototype.getMonsterId=function(){return this._monsterId},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;if(e.getUuid()==this._monsterId)return;this.defaultCollisionCall(e)}},t}(a.default);n.default=i,cc._RF.pop()},{"../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],NormalMonster:[function(e,t,n){"use strict";cc._RF.push(t,"41b26DDYgJEW5Ic4rvCTLH2","NormalMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Normal,t.skillCDTime=999,t}return __extends(t,e),t.prototype.initData=function(t){var n;e.prototype.initData.call(this,t),this.getIsBigMonster()?(n=cc.v2(200,340),this.setCollisionRang(cc.v2(220,120))):(n=cc.v2(60,140),this.setCollisionRang(cc.v2(80,80))),this.setCollisionRang2(n)},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],OnErrorCallServer:[function(e,t,n){"use strict";cc._RF.push(t,"82512dr3ShIf6Os5Nxs/bP7","OnErrorCallServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/fruit_vegetables/user/save_error",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.object_info=e.param3,this.ReqData.error_msg_1=e.param,this.ReqData.error_msg_2=e.param2},t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],OptimizeCreateManager:[function(e,t,n){"use strict";cc._RF.push(t,"859besu9qRIcLQfUhxkiuey","OptimizeCreateManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.CheckIsCanPlay=function(e,t){this._allCount++;var n=this.queneList[e];if(null==n)return this._playCount++,!0;if(n.length<2)return this._playCount++,!0;for(var a=n.length,o=0,i=0;i<a;i++){var r=n[i].sub(t);if(r.dot(r)<1600&&o++,o>1)return!1}return this._playCount++,!0},e.PushNewObj=function(e,t){null==this.queneList[e]&&(this.queneList[e]=[]),this.queneList[e].push(t)},e.PopOldObj=function(e){this.queneList[e]&&this.queneList[e].shift()},e.Update=function(e){if(this._recordNowTime+=e,this._recordNowTime>2)for(var t in this._recordNowTime=0,this.queneList)null!=this.queneList[t]&&this.queneList[t].length>0&&this.queneList[t].shift()},e.CheckNowList=function(){cc.log(this.queneList),cc.error(this._allCount,this._playCount,this._allCount-this._playCount)},e.queneList={},e._allCount=0,e._playCount=0,e._recordNowTime=0,e}();n.default=a,cc._RF.pop()},{}],ParticEmissionMgr:[function(e,t,n){"use strict";cc._RF.push(t,"253b4qjnyhHi7vJrKQjrkeq","ParticEmissionMgr"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this._showParticList=[],this._isStart=!1,this._waitEmissionCount=0,this._nowTimeStep=0}return e.Create=function(){var t=new e;return this._recordAllClass.push(t),t},e.prototype.SetEmissionShape=function(e){return this._sendShape=e,this},e.prototype.SetEmissionCountRange=function(e){return this._emissionCountRange=e,this},e.prototype.SetInitSpeedRange=function(e){return this._initalVelocityRange=e,this},e.prototype.SetASpeedRange=function(e){return this._aSpeed=e,this},e.prototype.SetLifeTimeRange=function(e){return this._lifeTimeRange=e,this},e.prototype.SetRunOverCall=function(e){return this._runOverCall=e,this},e.prototype.SetEmissionHZ=function(e){return this._emissionHZ=1/e,this},e.prototype.SetParticCreateStyle=function(e){return this._particCreateCall=e,this},e.prototype.SetParticChangePosCall=function(e){return this._particSetPos=e,this},e.prototype.StartEmission=function(){this._waitEmissionCount=this._emissionCountRange.x+Math.random()*(this._emissionCountRange.y-this._emissionCountRange.x),this._isStart=!0},e.prototype.ClearAllPartic=function(){this._isStart=!1,this._waitEmissionCount=0;for(var e=this._showParticList.length,t=0;t<e;t++)this._runOverCall(this._showParticList[t].obj);this._showParticList=[],this._showParticList.length=0},e.Update=function(e){var t=this._recordAllClass.length;if(!(t<=0))for(var n=0;n<t;n++)this._recordAllClass[n].Update(e)},e.prototype.Update=function(e){if(this._isStart){for(var t=[],n=this._showParticList.length,a=0;a<n;a++){this._showParticList[a].lifeTime-=e,this._showParticList[a].moveTime+=e;var o=this._showParticList[a].initSpeed*this._showParticList[a].moveTime+this._showParticList[a].aSpeed*this._showParticList[a].moveTime*this._showParticList[a].moveTime*.5,i=cc.v2(o+this._showParticList[a].nowPos.x,this._showParticList[a].nowPos.y+this._showParticList[a].yInitSpeed*this._showParticList[a].moveTime);this._particSetPos(this._showParticList[a].obj,i),(i.x>cc.winSize.width||i.x<0)&&(this._showParticList[a].lifeTime=0),this._showParticList[a].lifeTime<=0&&(this._runOverCall(this._showParticList[a].obj),t.push(a))}var r=t.length;for(a=0;a<r;a++)this._showParticList.slice(t[a]);if(this._waitEmissionCount<=0)this._isStart=!1;else if(this._nowTimeStep+=e,this._nowTimeStep>this._emissionHZ){this._nowTimeStep=0;var s={};s.obj=this._particCreateCall();var l=this._sendShape.randomPos;s.nowPos=cc.v2(l.x,l.y),s.initSpeed=this._initalVelocityRange.x+Math.random()*(this._initalVelocityRange.y-this._initalVelocityRange.x),s.yInitSpeed=Math.random()*s.initSpeed,s.initSpeed*=l.z,s.aSpeed=this._aSpeed.x+Math.random()*(this._aSpeed.y-this._aSpeed.x),s.aSpeed*=l.z,s.lifeTime=this._lifeTimeRange.x+Math.random()*(this._lifeTimeRange.y-this._lifeTimeRange.x),s.moveTime=0,this._particSetPos(s.obj,s.nowPos),this._showParticList.push(s),this._waitEmissionCount--}}},e._recordAllClass=[],e}();n.default=a;var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),Object.defineProperty(t.prototype,"randomPos",{get:function(){return Math.random()>.5?new cc.Vec3(this.leftUpPos.x+this.width,this.leftUpPos.y+this.height*Math.random(),-1):new cc.Vec3(this.leftUpPos.x,this.leftUpPos.y+this.height*Math.random(),1)},enumerable:!0,configurable:!0}),t.Create=function(){return new t},t.prototype.initData=function(e,t,n){return this.leftUpPos=e,this.width=t,this.height=n,this},t}(function(){function e(){}return e.Create=function(){return new e},Object.defineProperty(e.prototype,"randomPos",{get:function(){return new cc.Vec3(0,0,0)},enumerable:!0,configurable:!0}),e}());n.Rectangle=o,cc._RF.pop()},{}],PauseWnd:[function(e,t,n){"use strict";cc._RF.push(t,"4d2eenSZXNJerXdAiAiS/Ta","PauseWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventManager"),i=e("../../Manager/EventEnum"),r=e("../Manager/WindowManager"),s=e("../StartGame/StartWnd"),l=e("../../Game/GameCtr/MonsterManager"),d=e("../../Manager/AudioManager"),u=e("../../SDK/WeiXinAPPSDK"),c=e("../../SDK/SDKManager"),h=e("../../Game/GameCtr/MonsterLifeBarManager"),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordNowAuidoPlayState=!0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._continueBtn=this._view.getChild("n7").asButton,this._returnBtn=this._view.getChild("n11").asButton,this._audioCtr=this._view.getChild("n12").asButton,this._audioCtr.visible=!1,this._returnBtn.onClick(this.ReturnStartWnd,this),this._continueBtn.onClick(this.ClickCloseBtnCall,this)},t.prototype.OnOpen=function(){u.default.getInstance().ShowAgreeBtn=!1,this._recordNowAuidoPlayState?this._audioCtr.title="\u5173\u95ed\u58f0\u97f3":this._audioCtr.title="\u5f00\u542f\u58f0\u97f3",c.default.getInstance().showBannerAD(),o.default.dispatchEvent(i.EventEnum.PauseGame)},t.prototype.OnClose=function(){u.default.getInstance().ShowAgreeBtn=!0,c.default.getInstance().hideBannerAD()},t.prototype.ClickCloseBtnCall=function(){this.CloseSelf(),o.default.dispatchEvent(i.EventEnum.ResumeGame)},t.prototype.ReturnStartWnd=function(){d.default.getInstance().stopAllAudio(!1),h.default.getInstance().closeAllLifeBar(),l.default.getInstance().clearNowAllMonster(),o.default.dispatchEvent(i.EventEnum.ResetFrozen),this.CloseSelf(),r.default.getInstance().OpenWindow("StartGame","StartWnd",s.default,1,r.WindowLayer.PopupWnd)},t.prototype.CtrNowAllAudio=function(){this._recordNowAuidoPlayState?(this._recordNowAuidoPlayState=!1,this._audioCtr.title="\u5f00\u542f\u58f0\u97f3"):(this._recordNowAuidoPlayState=!0,this._audioCtr.title="\u5173\u95ed\u58f0\u97f3"),d.default.getInstance().mute(!this._recordNowAuidoPlayState)},t}(a.default);n.default=f,cc._RF.pop()},{"../../Game/GameCtr/MonsterLifeBarManager":"MonsterLifeBarManager","../../Game/GameCtr/MonsterManager":"MonsterManager","../../Manager/AudioManager":"AudioManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow","../Manager/WindowManager":"WindowManager","../StartGame/StartWnd":"StartWnd"}],PenetrateBullet:[function(e,t,n){"use strict";cc._RF.push(t,"81ae96yyQdPSa/zTTiKHoeX","PenetrateBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.PenetrateBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e)}},t}(a.default);n.default=i,cc._RF.pop()},{"../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],PoolManager:[function(e,t,n){"use strict";cc._RF.push(t,"891aajwA0dBuK+npz6qVU4E","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ConfigMgr"),o=function(){function e(){this.nodePool={},this.nodeNameArry={},this.registerResetCall={}}return e.getInstance=function(){return void 0==this._instance&&(this._instance=new e),this._instance},e.prototype.delegateLoadCall=function(e,t,n){if(e)cc.error("\u521d\u59cb\u5316Prefab\u8d44\u6e90\u9519\u8bef\uff01"+e);else{a.default.getInstance().getResetIdTableData("PoolConfig","Name","name_PoolConfig");for(var o=0;o<t.length;o++){var i=n[o].split("/"),r=i[i.length-1],s=a.default.getInstance().getTableDataOne("name_PoolConfig",r,"InitCount");0!=s&&(this.setStoragePool(r,t[o],s),this.nodeNameArry[r]=t[o])}this.delegateLoadOverCallFun&&this.delegateLoadOverCallFun(),console.log(this.nodePool)}},e.prototype.preloading=function(e){for(var t=this.nodeNameArry[e],n=a.default.getInstance().getTableDataOne("name_PoolConfig",e,"AddCount"),o=0;o<n;o++){var i=cc.instantiate(t);i.active=!1,this.nodePool[e].push(i)}},e.prototype.setStoragePool=function(e,t,n){void 0===n&&(n=5),this.nodePool[e]||(this.nodePool[e]=[]);for(var a=0;a<n;a++){var o=cc.instantiate(t);o.active=!1,this.nodePool[e].push(o)}},e.prototype.getStoragePool=function(e){if(this.nodePool[e]){var t=a.default.getInstance().getTableDataOne("name_PoolConfig",e,"MinCount");this.nodePool[e].length<t&&this.preloading(e);var n=this.nodePool[e].shift();return n.active=!0,n}console.log("\u8be5\u5bf9\u8c61\u6c60\u4e0d\u5b58\u5728,\u672a\u521d\u59cb\u5316\u8be5\u5bf9\u8c61\u6c60>>>>>>>>>",this.nodePool,e)},e.prototype.recyclePool=function(e){if(null!=e){e.active=!1;var t=e.name;this.registerResetCall[t]?this.registerResetCall[t](e):this.defaultResetPrefab(e),this.nodePool[t].push(e)}else cc.error("\u4f20\u5165\u4e86\u7a7a\u7684\u8282\u70b9\u4fe1\u606f\uff01",e)},e.prototype.defaultResetPrefab=function(e){e.setPosition(0,0),e.scale=1,e.opacity=255,e.color=cc.Color.WHITE,e.active=!1,e.zIndex=0,e.DPS=null,e.turret_id=null,e.pos_id=null,e.monster_id=null,e.turretData=null,e.big=null,e.monsterData=null;var t=e.getComponent(cc.Sprite);t&&(t.enabled=!0),e.removeFromParent(!1),e.stopAllActions()},e.prototype.registerResetFun=function(e,t){this.registerResetCall[e]?console.log("\u7981\u6b62\u91cd\u590d\u6ce8\u518c"):this.registerResetCall[e]=t},e}();n.default=o,cc._RF.pop()},{"./ConfigMgr":"ConfigMgr"}],QQSDK:[function(e,t,n){"use strict";cc._RF.push(t,"04df3LAvP1MkoyYhG/GomqU","QQSDK"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../Manager/EventManager"),i=e("../Manager/EventEnum");(function(e){e[e.UserInfo=0]="UserInfo",e[e.WritePhoto=1]="WritePhoto"})(a=n.AuthorizationType||(n.AuthorizationType={}));var r=function(){function e(){this.QQ=window.qq,this.showOldTime=0,this.showNewTime=0,this._recordRightStateHeight=-1,this._recordSysInfo=null,this._recordShareData=null,this._recordNeedFunList=[],this._needCallOnceFunList=[],this._defaultCallFunList=[],this._gameClubButton=null}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addFunToOnShow=function(e){this._recordNeedFunList.push(e)},e.prototype.callFunToOnShow=function(){console.log("-------------\x3e\u6062\u590d");for(var e=0;e<this._recordNeedFunList.length;e++)this._recordNeedFunList[e]()},e.prototype.InitSDK=function(){var e=this;this.QQ.onHide(function(){e.showOldTime=(new Date).getTime(),console.log("---------------hide",e.showOldTime)}),this.QQ.onShow(function(){e.callFunToOnShow(),e.showNewTime=(new Date).getTime(),console.log("---------------show",e.showNewTime);for(var t=0;t<e._needCallOnceFunList.length;t++)e.showNewTime-e.showOldTime>2500?e._needCallOnceFunList[t]():e._defaultCallFunList[t]();e._defaultCallFunList=[],e._needCallOnceFunList=[]}),this.OnListenerAudioStop(this.callFunToOnShow.bind(this))},e.prototype.AddShareCallFun=function(e){null!=e?this._needCallOnceFunList.push(e):console.log("\u5206\u4eab\u56de\u8c03\u51fd\u6570\u4e3a\u7a7a\uff01")},e.prototype.GetWx=function(){return this.QQ},e.prototype.share=function(e,t){this.QQ.shareAppMessage({title:e,imageUrl:t})},e.prototype.openRightShare=function(e,t,n){var a=this;this.QQ.showShareMenu({withShareTicket:!0,success:function(r){o.default.dispatchEvent(i.EventEnum.ShareOnRight),a.QQ.onShareAppMessage(function(){return{title:e,imageUrl:t,query:n}})}})},e.prototype.getShareLoadData=function(e){if(null==this._recordShareData){var t;t=this.QQ.getLaunchOptionsSync().query,this._recordShareData=t}return e?this._recordShareData[e]:this._recordShareData},e.prototype.shareHaveCall=function(e,t,n,a,o){this._defaultCallFunList=[],this._needCallOnceFunList=[],this.AddShareCallFun(n),this._defaultCallFunList.push(a),this.QQ.shareAppMessage({title:e,imageUrl:t,query:o})},e.prototype.sendMessage=function(e){var t;this.QQ.getSystemInfo({success:function(e){t=e.model}}),"onRank"==e.msg&&"iPhone X"==t&&(e.data.phone="iPhone X"),this.QQ.postMessage(e)},e.prototype.authorization=function(e,t,n){var r=this,s={param2:!0},l=void 0;this.QQ.getSetting({success:function(e){console.log("\u5f53\u524d\u83b7\u53d6\u6388\u6743\u6570\u636e\u4e3a:",e),l=e},fail:function(e){console.log("\u672a\u5b8c\u6210\u4efb\u4f55\u6388\u6743!")},complete:function(){switch(e){case a.UserInfo:if(l&&l.authSetting["scope.userInfo"])t&&t(),console.log("\u7528\u6237\u4fe1\u606f\u6388\u6743\u6210\u529f"),r.getUserInfo(function(e){e.param=!0,e.param2=!1,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,e)});else{var d=r.QQ.createUserInfoButton({type:"text",text:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f",withCredentials:!0,style:{left:0,top:0,width:2*cc.view.getCanvasSize().width,height:2*cc.view.getCanvasSize().height,textAlign:"center",fontSize:1,borderRadius:1}});d.onTap(function(e){console.log(e,"getUserInfo:ok"==e.errMsg),"getUserInfo:ok"==e.errMsg?(t&&t(),r._userData=e.userInfo,r._iv=e.iv,r._encryptedData=e.encryptedData,s.param=!0,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,s),d.destroy()):(n&&n(),s.param=!1,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,s),d.destroy(),console.log("\u7528\u6237\u62d2\u7edd\u6388\u6743"))})}break;case a.WritePhoto:l&&l.authSetting["scope.writePhotosAlbum"]?(t&&t(),console.log("\u76f8\u518c\u5df2\u7ecf\u6388\u6743\u6210\u529f")):r.QQ.authorize({scope:"scope.writePhotosAlbum",success:function(){t&&t(),console.log("\u6388\u6743\u76f8\u518c\u6210\u529f")},fail:function(){n&&n(),console.log("\u6388\u6743\u76f8\u518c\u5931\u8d25\uff0c\u7528\u6237\u62d2\u7edd")}});break;default:console.log("\u903b\u8f91\u9519\u8bef,\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")}}})},e.prototype.getUserInfo=function(e){var t=this;if(this._userData)return e&&e(this._userData),this._userData;var n={};return this.QQ.getUserInfo({withCredentials:!0,success:function(a){t._iv=a.iv,t._encryptedData=a.encryptedData,n=a.userInfo,t._userData=n,e&&e(n)},fail:function(e){console.log("\u83b7\u53d6\u7528\u6237\u6570\u636e\u5931\u8d25")}}),this._userData},e.prototype.getPlayerName=function(){return this._userData=this.getUserInfo(),this._userData&&this._userData.nickName?this._userData.nickName:(console.log("\u672a\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91"),"error")},e.prototype.getPlayerIcon=function(){return this._userData=this.getUserInfo(),this._userData&&this._userData.avatarUrl?this._userData.avatarUrl:(console.log("\u672a\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91"),"https://coolant.miniant.cn/plantsVsZombies/static/defualt_headimg.jpg")},e.prototype.getIv=function(){return this._iv},e.prototype.getEncryptedData=function(){return this._encryptedData},e.prototype.getStorage=function(e,t){try{var n=this.QQ.getStorageSync(e);return n||t}catch(n){return console.log("\u83b7\u53d6\u5b58\u50a8\u503c\u9519\u8bef!",e),t}},e.prototype.setStorage=function(e,t){try{this.QQ.setStorageSync(e,t)}catch(e){console.log("\u65e0\u6cd5\u56de\u5b58\u73a9\u5bb6\u6570\u636e!",e)}},e.prototype.setCloudStorage=function(e){this.QQ.setUserCloudStorage({KVDataList:e,success:function(e){console.log("\u8bbe\u7f6e\u5f00\u653e\u57df\u6210\u529f")},fail:function(e){console.log("\u8bbe\u7f6e\u5f00\u653e\u57df\u5931\u8d25",e)}})},e.prototype.createImage=function(e,t){var n=this.QQ.createImage();n.src=t,n.onload=function(){var t=new cc.Texture2D;t.initWithElement(n),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t),e.enabled=!0}},e.prototype.getCode=function(e){var t="error";return this.QQ.login({success:function(n){n.code?(t=n.code,e&&e(t)):console.log("\u767b\u5f55\u5931\u8d25\uff01"+n.errMsg)}}),t},e.prototype.reqDolwnload=function(e){var t=this;console.log("\u5f00\u59cb\u8c03\u7528\u5fae\u4fe1\u4e0b\u8f7d"),this.QQ.downloadFile({url:e,filePath:this.getLocalFilePath(),success:function(n){200===n.statusCode?(t.saveVideoToLoaclPhoto(n.tempFilePath),console.log("\u4e0b\u8f7d\u6210\u529f")):console.log("\u4e0b\u8f7d\u9519\u8bef",n.statusCode,e)},fail:function(){console.log("\u4e0b\u8f7d\u5931\u8d25")}})},e.prototype.getLocalFilePath=function(){return console.log(this.QQ.env.USER_DATA_PATH),this.QQ.env.USER_DATA_PATH},e.prototype.saveVideoToLoaclPhoto=function(e){this.QQ.saveVideoToPhotosAlbum({filePath:e,success:function(e){console.log("\u4fdd\u5b58\u6210\u529f")},fail:function(){console.log("\u4fdd\u5b58\u5931\u8d25")}})},e.prototype.openCustomer=function(){this.QQ.openCustomerServiceConversation({})},e.prototype.preVideoAd=function(e){var t=this,n=this.QQ.createRewardedVideoAd({adUnitId:"adunit-65d13e9f77aae28a"});this._videoAd=n,n.onError(function(n){e(),t._defalutCall&&t._defalutCall()}),n.onClose(function(e){e&&e.isEnded||void 0===e?t._rawradCall&&t._rawradCall():t._defalutCall&&t._defalutCall(),t.callFunToOnShow()})},e.prototype.showVideoAd=function(e,t){var n=this;this._rawradCall=e,this._defalutCall=t,this._videoAd.load().then(function(){n._videoAd.show()})},e.prototype.bannerAD=function(){var e=this,t=this.QQ.getSystemInfoSync();this._bannerAd=this.QQ.createBannerAd({adUnitId:"adunit-e36747a517b8c757",style:{left:(t.windowWidth-300)/2,top:t.windowHeight-80,width:300}}),this._bannerAd.onResize(function(n){e._bannerAd.style.top=t.windowHeight-e._bannerAd.style.realHeight+.1}),this._bannerAd.onError(function(e){console.log(e)})},e.prototype.showBannerAD=function(){this._bannerAd.show()},e.prototype.hideBannerAD=function(){this._bannerAd.destroy(),this.bannerAD()},e.prototype.getRightStateBtnHeight=function(){if(-1==this._recordRightStateHeight){var e=this.QQ.getSystemInfoSync();this._recordSysInfo=e,this._recordRightStateHeight=e.statusBarHeight}return 44==this._recordRightStateHeight?88:this._recordRightStateHeight},e.prototype.httpReq=function(e,t,n,a,o){this.QQ.request({url:e,data:t,header:{"content-type":"application/json"},method:n,success:a,fail:o})},e.prototype.setKeepScreenLight=function(){this.QQ.setKeepScreenOn({keepScreenOn:!0})},e.prototype.openDebug=function(){this.QQ.setEnableDebug({enableDebug:!0})},e.prototype.checkIsNewVersion=function(){if("function"==typeof this.QQ.getUpdateManager){var e=this.QQ.getUpdateManager();e.onCheckForUpdate(function(e){console.log("\u5f53\u524d\u66f4\u65b0\u7248\u672c\u72b6\u6001\uff1a",e.hasUpdate)}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\uff01")})}},e.prototype.OnError=function(e){var t=this;null==this._recordSysInfo&&(this._recordSysInfo=this.QQ.getSystemInfoSync()),this.QQ.onError(function(n,a){var o="-brand:"+t._recordSysInfo.brand+"-model"+t._recordSysInfo.model+"-version:"+t._recordSysInfo.version+"-system:"+t._recordSysInfo.system+"-platform:"+t._recordSysInfo.platform;e(n,a,o)})},e.prototype.OnListenerAudioStop=function(e){this.QQ.onAudioInterruptionEnd(function(){e&&e()})},e.prototype.jumpGame=function(){this.navigateToMiniProgram()},e.prototype.CreateGameClubButton=function(e,t){if(null==this._gameClubButton){this.navigateToMiniProgram();var n=this.QQ.getSystemInfoSync(),a=cc.winSize;t=2==n.pixelRatio?t/2-32:n.windowHeight-(a.height-t)+16,this._gameClubButton=this.QQ.createGameClubButton({type:"image",image:e,icon:"green",style:{left:n.windowWidth/2-32,top:t,width:64,height:65.5}})}},e.prototype.ShowGameClubButton=function(){this._gameClubButton?this._gameClubButton.show():console.log("\u672a\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae")},e.prototype.HideGameClubButton=function(){this._gameClubButton?this._gameClubButton.hide():console.log("\u672a\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae")},e.prototype.GameClubButtonCallback=function(e){this._gameClubButton.onTap(e)},e.prototype.navigateToMiniProgram=function(){this.QQ.navigateToMiniProgram({appId:"wxe3267db76dcb990b",path:"",extraData:{foo:"bar"},envVersion:"release",success:function(e){}})},e.prototype.PhoneShake=function(e){void 0===e&&(e=!1),e?this.QQ.vibrateLong({fail:function(e){console.log(e)},complete:function(){console.log("Shake Phone")}}):this.QQ.vibrateShort({fail:function(e){console.log(e)},complete:function(){console.log("Shake Phone")}})},e}();n.default=r,cc._RF.pop()},{"../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager"}],QTTGameSDK:[function(e,t,n){"use strict";cc._RF.push(t,"39e4fd7T9tEJr1t0eOyvqZ5","QTTGameSDK"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this.qttGame=window.qttGame,this.openId="qqt",this.appId="a3K4hEQbwCxs",this.appName="\u690d\u7269\u5854\u9632\u6218\u50f5\u5c38",this.platform="qtt",this.ticket="dadsdsadsadasdsa",this.nickname="ABC",this.avatar="https://coolant.miniant.cn/plantsVsZombies/default.jpg"}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.SetOpenId=function(e){this.openId=e},e.prototype.SetNickname=function(e){this.nickname=e},e.prototype.SetAvatar=function(e){this.avatar=e},e.prototype.GetOpenId=function(){return this.openId},e.prototype.GetNickname=function(){return this.nickname},e.prototype.GetAvatar=function(){return this.avatar},e.prototype.GetAppId=function(){return this.appId},e.prototype.GetTicket=function(){return this.ticket},e.prototype.GetPlatform=function(){return this.platform},e.prototype.GetUserInfo=function(e){var t={};return t.avatarUrl=this.avatar,t.nickName=this.nickname,e&&e(t),t},e.prototype.ShowBanner=function(){this.qttGame?this.qttGame.showBanner():console.log("\u8da3\u5934\u6761SDK\u672a\u5f15\u7528\u5230")},e.prototype.HideBanner=function(){this.qttGame?this.qttGame.hideBanner():console.log("\u8da3\u5934\u6761SDK\u672a\u5f15\u7528\u5230")},e.prototype.ShowVedio=function(e,t){var n=Math.floor(3*Math.random()+1),a={};a.gametype=n,a.rewardtype=1,a.data={},a.data.title="\u5237\u65b0\u9053\u5177",this.qttGame.showVideo(function(n){1==n?e&&e():t&&t()},a)},e.prototype.GetAppidAndTicket=function(){var e=location.search&&(location.search.substring(1)||"");console.info("query:",e);var t=e.split("&");console.info("queryArr:",t);for(var n={},a=0;a<t.length;++a){var o=t[a];n[o.split("=")[0]]=o.split("=")[1]}n&&n.app_name&&(this.appName=decodeURIComponent(n.app_name)),n&&n.appid&&(this.appId=n.appid),n&&n.platform&&(this.platform=n.platform),n&&n.ticket&&(this.ticket=n.ticket)},e}();n.default=a,cc._RF.pop()},{}],QTTGameServer:[function(e,t,n){"use strict";cc._RF.push(t,"bb1fakUHhJBtKkbEwFvY1jL","QTTGameServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../UI/PopWnd/ConnectionDefWnd"),r=e("../UI/Manager/WindowManager"),s=e("../SDK/SDKManager"),l=e("./LoginServer"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/get_wx_openid",this.ReqType="POST",this.ReqData.type=s.default.getInstance().getNowPlatform()},t.prototype.SuccessCall=function(e){e={openid:"openid",nickname:" ",avatar:" "},console.log("//GetOpenIDServer.SuccessCall",e),o.default.getInstance().startCallServer(l.default,e.openid)},t.prototype.DefCall=function(){o.default.getInstance()._isInReConnection||(o.default.getInstance()._isInReConnection=!0,r.default.getInstance().OpenWindow("PublishPackage","ServerDefWnd",i.default,1,r.WindowLayer.PopupWnd))},t}(a.default);n.default=d,cc._RF.pop()},{"../SDK/SDKManager":"SDKManager","../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/ConnectionDefWnd":"ConnectionDefWnd","./BaseServer":"BaseServer","./LoginServer":"LoginServer","./ServerManager":"ServerManager"}],QuadTree:[function(e,t,n){"use strict";var a;cc._RF.push(t,"24802Z+WqhJx59ZtrduTUTa","QuadTree"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.Left_Up=0]="Left_Up",e[e.Left_Down=1]="Left_Down",e[e.Right_Up=2]="Right_Up",e[e.Right_Down=3]="Right_Down",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.AllDir=8]="AllDir"}(a||(a={}));var o=function(){function e(){this._allObjs=[],this._allQuadrant=[],this._depth=0,this._bounds={}}return e.prototype.Init=function(e,t){this._bounds=e,this._depth=t,this._centerPos=cc.v2(e.xRang.y-e.xRang.x>>1,e.yRang.y-e.yRang.x>>1)},e.prototype.GetObjQuadrant=function(e){var t=e.yRang.x>=this._centerPos.y,n=e.yRang.y<=this._centerPos.y,o=e.xRang.y<=this._centerPos.x,i=e.xRang.x>=this._centerPos.x;return t||n||o||i?t||n||!o?t||n||!i?!n||o||i?!t||o||i?t&&o?a.Left_Up:t&&i?a.Right_Up:n&&o?a.Left_Down:n&&i?a.Right_Down:void cc.error("\u672a\u77e5\u7684\u8c61\u9650\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01",e,t,n,o,i):a.Up:a.Down:a.Right:a.Left:a.AllDir},e.prototype.QuadrantSplit=function(){var t=new e,n={};n.xRang=cc.v2(this._bounds.xRang.x,this._centerPos.x),n.yRang=cc.v2(this._bounds.yRang.x,this._centerPos.y),t.Init(n,this._depth+1),this._allQuadrant.push(t);var a=new e,o={};o.xRang=cc.v2(this._bounds.xRang.x,this._centerPos.x),o.yRang=cc.v2(this._centerPos.y,this._bounds.yRang.y),a.Init(o,this._depth+1),this._allQuadrant.push(a);var i=new e,r={};r.xRang=cc.v2(this._centerPos.x,this._bounds.xRang.y),r.yRang=cc.v2(this._bounds.yRang.x,this._centerPos.y),i.Init(r,this._depth+1),this._allQuadrant.push(i);var s=new e,l={};l.xRang=cc.v2(this._centerPos.x,this._bounds.xRang.y),l.yRang=cc.v2(this._centerPos.y,this._bounds.yRang.y),s.Init(l,this._depth+1),this._allQuadrant.push(s)},e.prototype.InsertTree=function(e){if(this._allQuadrant.length>0&&(o=this.GetObjQuadrant(e._rect))<4)return void this._allQuadrant[o].InsertTree(e);if(this._allObjs.push(e),0==this._allQuadrant.length&&this._allObjs.length>10&&this._depth<3){this.QuadrantSplit();for(var t=this._allObjs.length,n=[],a=0;a<t;a++){var o;(o=this.GetObjQuadrant(this._allObjs[a]._rect))<4&&(n.push(a),this._allQuadrant[o].InsertTree(this._allObjs[a]))}var i=n.length;for(a=0;a<i;a++)this._allObjs.splice(n.pop(),1)}},e.prototype.CheckCanCollisionList=function(e){var t=[];if(this._allQuadrant.length>0){var n=this.GetObjQuadrant(e._rect);if(n<4)t=t.concat(this._allQuadrant[n].CheckCanCollisionList(e));else if(n<6){var a=[];(s={}).xRang=cc.v2(e._rect.xRang.x,e._rect.xRang.y),s.yRang=cc.v2(this._centerPos.y,e._rect.yRang.y),(l={}).xRang=cc.v2(e._rect.xRang.x,e._rect.xRang.y),l.yRang=cc.v2(e._rect.yRang.x,this._centerPos.y),a.push(s),a.push(l);for(var o=0;o<2;o++){var i=this.GetObjQuadrant(a[o]);(c={})._rect=a[o],c._obj=e,t=t.concat(this._allQuadrant[i].CheckCanCollisionList(c))}}else if(n<8){a=[];(s={}).xRang=cc.v2(this._centerPos.x,e._rect.xRang.y),s.yRang=cc.v2(e._rect.yRang.x,e._rect.yRang.y),(l={}).xRang=cc.v2(e._rect.xRang.x,this._centerPos.x),l.yRang=cc.v2(e._rect.yRang.x,e._rect.yRang.y),a.push(s),a.push(l);for(o=0;o<2;o++){var r=this.GetObjQuadrant(a[o]);(c={})._rect=a[o],c._obj=e,t=t.concat(this._allQuadrant[r].CheckCanCollisionList(c))}}else{var s,l;a=[];(s={}).xRang=cc.v2(e._rect.xRang.x,this._centerPos.x),s.yRang=cc.v2(this._centerPos.y,e._rect.yRang.y),(l={}).xRang=cc.v2(e._rect.xRang.x,this._centerPos.x),l.yRang=cc.v2(e._rect.yRang.x,this._centerPos.y);var d={};d.xRang=cc.v2(this._centerPos.x,e._rect.xRang.y),d.yRang=cc.v2(this._centerPos.y,e._rect.yRang.y);var u={};u.xRang=cc.v2(this._centerPos.x,e._rect.xRang.y),u.yRang=cc.v2(e._rect.yRang.x,this._centerPos.y),a.push(s),a.push(l),a.push(d),a.push(u);for(o=0;o<4;o++){var c,h=this.GetObjQuadrant(a[o]);(c={})._rect=a[o],c._obj=e,t=t.concat(this._allQuadrant[h].CheckCanCollisionList(c))}}}return t=t.concat(this._allObjs)},e.prototype.CheckNowBoundIsInNowQuadrant=function(e){return e.xRang.x>this._bounds.xRang.x&&e.xRang.y<this._bounds.xRang.y&&e.yRang.x>this._bounds.yRang.x&&e.yRang.y<this._bounds.yRang.y},e.prototype.CheckNowBoundIsCrossBorder=function(e){return e.xRang.x<0||e.yRang.x<0||(e.xRang.y>cc.winSize.height||e.yRang.y>cc.winSize.height)},e.prototype.RefreshQuadTree=function(e){for(var t=e||this,n=this._allObjs.length,a=[],o=0;o<n;o++){var i=this._allObjs[o];if(null!=i)if(i._obj.isKill)a.push(o);else{i._rect=i._obj.refreshRect();var r=this.GetObjQuadrant(i._rect);this.CheckNowBoundIsCrossBorder(i._rect)?a.push(o):this.CheckNowBoundIsInNowQuadrant(i._rect)?this._allQuadrant.length>0&&r<4&&(a.push(o),this._allQuadrant[r].InsertTree(i)):this!=t&&(a.push(o),t.InsertTree(i))}else a.push(o)}var s=a.length;for(o=0;o<s;o++)this._allObjs.splice(a.pop(),1);var l=this._allQuadrant.length;for(o=0;o<l;o++)this._allQuadrant[o].RefreshQuadTree(t)},e}();n.QuadTree=o,cc._RF.pop()},{}],RangeBullet:[function(e,t,n){"use strict";cc._RF.push(t,"e475dsdJ/ZHmbFqunsz6pxi","RangeBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=e("../GameCtr/BulletManager"),r=e("../../Manager/EffectOrAnimationManager"),s=e("../../Manager/DelayTimeManager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.RangeBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.createAperture=function(e,t,n){var a=r.default.getInstance().createAperture(e,t,n);s.default.AddDelayOnce(.2,function(){r.default.getInstance().recycleApertre(a)},this)},t.prototype.useRangeSkill=function(){var e=this,t=this.getData().Split.split(",").map(Number),n=t[2],a=t[1],o=t[0],l=this.getNowPath(),d=this.getWordPos(),u=this;s.default.AddDelayOnce(.3,function(){for(var t=function(t){var o=a*(2*Math.random()-1),c=a*(2*Math.random()-1),h=cc.v2(o,c);h=cc.v2(d.x+o,d.y+c);var f=.2*t;if(0!=f)s.default.AddDelayOnce(f,function(){var t=i.default.getInstance().createBullet(e.getNowLayer(),u.getThisBulletTowerId(),n,h,l);t.getNode().getComponent(cc.Sprite).spriteFrame=null;var a=t.getData().Effect_Hit;r.default.getInstance().playAnimation(a,h)},u);else{var g=i.default.getInstance().createBullet(e.getNowLayer(),u.getThisBulletTowerId(),n,h,l);g.getNode().getComponent(cc.Sprite).spriteFrame=null;var p=g.getData().Effect_Hit;r.default.getInstance().playAnimation(p,h)}},c=0;c<o;c++)t(c)},u)},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.useRangeSkill.bind(this))}},t}(a.default);n.default=l,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../GameCtr/BulletManager":"BulletManager","../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],RayBullet:[function(e,t,n){"use strict";cc._RF.push(t,"ad0cfOk/7tA64vQsDdwk2NJ","RayBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../GameCtr/BulletManager"),i=e("../Monster/BaseMonster"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.RayBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.createChildBullet=function(e){var t=this.getWordPos(),n=this.getData(),a=n.TowRay.split(",").map(Number),i=n.R_Fire.split(",").map(Number);if(t=cc.v2(t.x,t.y),1==i.length)if(1==a[1]){var r=o.default.getInstance().createBullet(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),this.getNowPath(),90),s=o.default.getInstance().createBullet(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),this.getNowPath(),270);r.setMonsterId(e.getUuid()),s.setMonsterId(e.getUuid())}else for(var l=o.default.getInstance().createMeanwhileBullet(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),a[1],a[0],90),d=o.default.getInstance().createMeanwhileBullet(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),a[1],a[0],270),u=l.length,c=0;c<u;c++)l[c].setMonsterId(e.getUuid()),d[c].setMonsterId(e.getUuid());else 1==a[1]?(o.default.getInstance().createMultiBullet2(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),i[0],i[1],this.getNowPath(),90,e.getUuid()),o.default.getInstance().createMultiBullet2(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),i[0],i[1],this.getNowPath(),270,e.getUuid())):(o.default.getInstance().createMultiMeanwhileBullet2(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),i[0],i[1],a[1],a[0],90,e.getUuid()),o.default.getInstance().createMultiMeanwhileBullet2(this.getNowLayer(),this.getThisBulletTowerId(),a[2],t,this.getNowPath(),i[0],i[1],a[1],a[0],270,e.getUuid()))},t.prototype.onCollision=function(e){if(e instanceof i.default){if(e.monsterType==i.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.createChildBullet.bind(this,e))}},t}(a.default);n.default=r,cc._RF.pop()},{"../GameCtr/BulletManager":"BulletManager","../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],ReConnetionServer:[function(e,t,n){"use strict";cc._RF.push(t,"a8979QgsCtIuImCXum6J2Sh","ReConnetionServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/EventManager"),r=e("../Manager/EventEnum"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/reconnect",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(e){i.default.dispatchEvent(r.EventEnum.ConnectResult,!0)},t.prototype.DefCall=function(){i.default.dispatchEvent(r.EventEnum.ConnectResult,!1)},t}(a.default);n.default=s,cc._RF.pop()},{"../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],RedDotManager:[function(e,t,n){"use strict";cc._RF.push(t,"c31beOfBbFAK4VLIs51c4zg","RedDotManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.AddRedDotListener=function(e,t){var n=e.split("/"),a=n[0];if(n.reverse(),null==this._recordAllRedDot[a]){var i=new o;i.initData(n,null,t),this._recordAllRedDot[a]=i}else this._recordAllRedDot[a].initData(n,null,t)},e.DeletKeyForRecord=function(e){null!=this._recordAllRedDot[e]?this._recordAllRedDot[e]=null:cc.error("\u4e0d\u5b58\u5728\u7684Key\u503c:",e)},e.RemoveRedDotListener=function(e){var t=e.split("/"),n=t[0];null!=this._recordAllRedDot[n]?this._recordAllRedDot[n].removeSelf(t,null):cc.error("\u672a\u6ce8\u518c\u7684\u7ea2\u70b9\u8def\u5f84\uff01",e)},e.RefreshRedDotState=function(e,t){var n=e.split("/"),a=n[0],o=this._recordAllRedDot[a];if(null==o)cc.error("\u672a\u6ce8\u518c\u7684\u7ea2\u70b9\u8def\u5f84\uff01",e);else{n.reverse(),n.pop();var i=o.getLeafChild(n);i&&i.changeState(t)}},e._recordAllRedDot={},e}();n.default=a;var o=function(){function e(){this._childs={},this._nowState=!1}return e.prototype.initData=function(t,n,a){if(this._key=t.pop(),t.length>0){var o=t[t.length-1];if(null==this._childs[o]){var i=new e;this._childs[o]=i,i.initData(t,this,a)}else this._childs[o].initData(t,this,a)}else this._obj=a||null;return this._parent=n,this._key},e.prototype.removeSelf=function(e,t){if(null==t){var n=e.slice();n.reverse(),n.pop(),t=this.getLeafChild(n)}if(e.length>0){var o=e.pop();if(null!=t._parent){t._parent._childs[o]=null,delete t._parent._childs[o];var i=!1;for(var r in t._parent._childs){i=!0;break}if(i)return;t._parent.removeSelf(e,t._parent),t=null}else a.DeletKeyForRecord(t._key),t=null}},e.prototype.changeState=function(e){this._nowState=e,this.refreshRedDotState()},e.prototype.refreshRedDotState=function(){this._obj&&(this._obj.visible=this._nowState);var e=!1;if(null!=this._parent){var t=this._parent._childs;for(var n in t)if(t[n]._nowState){e=!0;break}this._parent.changeState(e)}},e.prototype.getLeafChild=function(e){var t=this;if(e.length>0){var n=e.pop(),a=this._childs[n];return null==a?(cc.error("\u8def\u5f84\u70b9\u5f02\u5e38\uff01"),null):t=a.getLeafChild(e)}return t},e}();cc._RF.pop()},{}],RefreshGoldAndTowerServer:[function(e,t,n){"use strict";cc._RF.push(t,"6ce2aXrWrRA/IETqSgt3eUa","RefreshGoldAndTowerServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/update_tower_gold",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID();var e=i.default.getInstance().getNowGolds();this.ReqData.gold=Math.round(e),this.ReqData.tower_build_number=i.default.getInstance().getTowerBuildCountData(),this.ReqData.top_tower=i.default.getInstance().getNowMaxLevelTowerData(),this.ReqData.tower_bag=i.default.getInstance().getTowerData(),this.ReqData.tower_blood=i.default.getInstance().GetAllTowerBlood()},t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],RefreshGoldServer:[function(e,t,n){"use strict";cc._RF.push(t,"c63destc4FKMa+JtNyZ04LT","RefreshGoldServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/update_gold",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),null==e&&(e=i.default.getInstance().getNowGolds()),this.ReqData.gold=Math.round(e)},t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],RefreshGuideCountServer:[function(e,t,n){"use strict";cc._RF.push(t,"6bdebsqyetGVrCL7FRW64ID","RefreshGuideCountServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=e("../UI/Manager/WindowManager"),s=e("../UI/PopWnd/ConnectionDefWnd"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/record_novice_guide",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID();var e=i.default.getInstance().returnGuideState(),t=Math.floor(e),n=e-t;n>.3&&n<.5&&(n=4),n>.7&&n<.9&&(n=8),this.ReqData.novice_guide_id=n<<4|t},t.prototype.SuccessCall=function(){console.log("//RefreshGuideCountServer.SuccessCall",this.ReqData),i.default.getInstance().setNowGuideStateForServer(this.ReqData.novice_guide_id)},t.prototype.DefCall=function(){o.default.getInstance()._isInReConnection||i.default.getInstance().GetIsInGuide()||(o.default.getInstance()._isInReConnection=!0,r.default.getInstance().OpenWindow("PublishPackage","ServerDefWnd",s.default,5,r.WindowLayer.PopupWnd))},t}(a.default);n.default=l,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/ConnectionDefWnd":"ConnectionDefWnd","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],RefreshUserDataServer:[function(e,t,n){"use strict";cc._RF.push(t,"bfd7dKn2ylOA6ny67tS9/6j","RefreshUserDataServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/update_client_data",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID();var t=i.default.getInstance().getNowGolds();this.ReqData.gold=Math.round(t),this.ReqData.tower_bag=i.default.getInstance().getTowerData(),this.ReqData.now_level=i.default.getInstance().getNowBigLevel(),this.ReqData.little_level=i.default.getInstance().getNowSmallLevel(),this.ReqData.tower_build_number=i.default.getInstance().getTowerBuildCountData(),this.ReqData.top_tower=i.default.getInstance().getNowMaxLevelTowerData(),this.ReqData.tower_blood=i.default.getInstance().GetAllTowerBlood(),null!=e&&(this.ReqData.is_pass=e)},t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],RepelBullet:[function(e,t,n){"use strict";cc._RF.push(t,"967a7uxCNBOaIDdrPgNDaWo","RepelBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=e("../../Manager/DelayTimeManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.RepelBullet,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n)},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.useSkill=function(e){var t=e,n=-this.getData().Push,a=t.getData().Speed;if(0!=t.retuenNowPathAndTargetPath()&&t.State!=o.MonsterState.Frozen){var r=cc.winSize;t.getWordPos().y>=.9*r.height||(t.changeMoveSpeed(n),i.default.AddDelayOnce(.02,function(){t.changeMoveSpeed(a)},this))}},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.useSkill.bind(this,e))}},t}(a.default);n.default=r,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],ResetUserDataServer:[function(e,t,n){"use strict";cc._RF.push(t,"0b422tixbNLkKV34euYvMvz","ResetUserDataServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=e("../UI/StartGame/StartWnd"),s=e("../UI/Manager/WindowManager"),l=e("../SDK/SDKManager"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.SuccessCall=function(e){e={user_id:0,nickname:"",head_img:"",gold:1e3,now_level:1,little_level:1,top_level:1,tower_bag:[-1,-1,-1,-1,-1,-2,-2,0,-2,-2,-2,-2,0,-2,-2],tower_build_number:{},top_tower:{1:10101,2:10301,3:10201},version:0,record_bag:{double_gold_number:1,firing_rate_number:1,frozen_number:1,is_get_attention_award:0,login_info:{cumulative_login_number:0,get_login_awards_level:[],last_sign_in_date:""}},pass_novice_guide_id:0,lottery_number:0,share_success_number:0,is_get_sign_award:0},console.log("//ResetUserDataServer.SuccessCall",e),i.default.getInstance().setGold(e.gold,this),i.default.getInstance().setLevel(0==e.now_level?1:e.now_level,this),i.default.getInstance().setLittleLevel(0==e.little_level?1:e.little_level,this),i.default.getInstance().serverSetTowerData(e.tower_bag,this),i.default.getInstance().setTowerBuildCountData(e.tower_build_number,this),i.default.getInstance().setLibaryTowerTopArr(e.top_tower,this),i.default.getInstance().setLibaryMaxLevel(e.top_level,this),i.default.getInstance().setNowIsNeedDontShow(e.version),i.default.getInstance().setNowGuideStateForServer(e.pass_novice_guide_id),i.default.getInstance().setNowLotteryCount(e.lottery_number,this),i.default.getInstance().initSetBuffCount(e.record_bag.double_gold_number,e.record_bag.firing_rate_number,e.record_bag.frozen_number,this),i.default.getInstance().setShareSucNum(e.share_success_number,this),i.default.getInstance().setLevelBigAndSmall(e.now_level,1),i.default.getInstance().setNowTowerData(e.tower_bag),i.default.getInstance().resetFrendsData(),i.default.getInstance().InitNowAllTowerBlood([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),i.default.getInstance().SetIsGetSignAward(e.is_get_sign_award),i.default.getInstance().SetLoginAwardsLevel(e.record_bag.login_info.get_login_awards_level),s.default.getInstance().CloseAllWindow(),s.default.getInstance().OpenWindow("StartGame","StartWnd",r.default);var t={msg:"reset"};l.default.getInstance().postMessage(t)},t.prototype.DefCall=function(){},t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/user_reset",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t}(a.default);n.default=d,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../SDK/SDKManager":"SDKManager","../UI/Manager/WindowManager":"WindowManager","../UI/StartGame/StartWnd":"StartWnd","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],ResourceLoadManager:[function(e,t,n){"use strict";cc._RF.push(t,"bcf2dnLOB5LEaAkYcKLc2Pa","ResourceLoadManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ConfigMgr"),o=e("../UI/Manager/WindowManager"),i=e("../UI/StartGame/StartWnd"),r=e("../UI/StartGame/LoginWnd"),s=(e("./PoolManager"),e("../UI/StartGame/LoginDefWnd")),l=e("./GameDataManager"),d=e("../UI/PopWnd/LoadRes2Wnd"),u=["AllTexture/allTexture2","Config/Luckyturntable","Config/Monster2","Config/Wave2","Dragon/Des/bon_1021","Dragon/Des/bon_1031","Dragon/Des/bon_1041","Dragon/Des/bon_1051","Dragon/Des/bon_1052","Dragon/Des/bon_1061","Dragon/Des/bon_1071","Dragon/Des/bon_1081","Dragon/Des/bon_1091","Dragon/Tex/mon_1021","Dragon/Tex/mon_1031","Dragon/Tex/mon_1041","Dragon/Tex/mon_1051","Dragon/Tex/mon_1052","Dragon/Tex/mon_1061","Dragon/Tex/mon_1071","Dragon/Tex/mon_1081","Dragon/Tex/mon_1091","Dragon/TexDes/mon_1021","Dragon/TexDes/mon_1031","Dragon/TexDes/mon_1041","Dragon/TexDes/mon_1051","Dragon/TexDes/mon_1052","Dragon/TexDes/mon_1061","Dragon/TexDes/mon_1071","Dragon/TexDes/mon_1081","Dragon/TexDes/mon_1091","Mp3/damage_2004","Mp3/damage_2005","Mp3/damage_2006","Mp3/damage_2007","Mp3/damage_2008","Mp3/damage_2009","Mp3/damage_2010","Mp3/damage_2011","Mp3/damage_2012","Mp3/damage_2013","Mp3/death_2","Mp3/fire1014","Mp3/fire1015","Mp3/fire1016","Mp3/fire1017","Mp3/fire1018","Mp3/fire1019","Mp3/fire1020","Mp3/fire1021","Mp3/missile_Bomb","Mp3/missile_fly","Mp3/missile_send","Mp3/stepOn","Mp3/warning","Prefab/blink","Prefab/buff_ice","Prefab/effect_701","Prefab/effect_702","Prefab/effect_801","Prefab/effect_901","Prefab/effect_902","Prefab/effect_1001","Prefab/effect_1101","Prefab/effect_1201","Prefab/effect_1301","Prefab/effect_1302","Prefab/effect_1401","Prefab/effect_1402","Prefab/effect_1403","Prefab/effect_1404","Prefab/effect_1501","Prefab/effect_1601","Prefab/effect_1701","Prefab/effect_1801","Prefab/effect_m1062","Prefab/effect_m1092","Prefab/effect_m1092_2","Prefab/roket","Prefab/smoke","Prefab/effect_1901","Prefab/effect_2001"],c=function(){function e(){this._loadTipStr=["\u50f5\u5c38\u5e26\u5986\u8fdb\u5165\u540e\u573a\u7b49\u5f85:","\u7bf1\u7b06\u6296\u52a8\u68c0\u6d4b:","\u5404\u79cd\u690d\u7269\u6d12\u6c34\u6da6\u8272:","\u5f39\u836f\u6570\u91cf\u6e05\u70b9:","\u5404\u97f3\u6548\u5587\u53ed\u8bd5\u97f3:","\u706f\u5149\u7279\u6548\u51c6\u5907:","\u573a\u5730\u5b9e\u666f\u88c5\u626e:","\u8352\u829c\u571f\u5730\u5f00\u57a6:","\u7a7a\u6295\u8d44\u6e90\u51c6\u5907:","\u50f5\u5c38\u5e26\u5986\u8fdb\u5165\u540e\u573a\u7b49\u5f85:","\u7bf1\u7b06\u6296\u52a8\u68c0\u6d4b:","\u5404\u79cd\u690d\u7269\u6d12\u6c34\u6da6\u8272:","\u5f39\u836f\u6570\u91cf\u6e05\u70b9:","\u5404\u97f3\u6548\u5587\u53ed\u8bd5\u97f3:","\u706f\u5149\u7279\u6548\u51c6\u5907:","\u573a\u5730\u5b9e\u666f\u88c5\u626e:","\u8352\u829c\u571f\u5730\u5f00\u57a6:","\u7a7a\u6295\u8d44\u6e90\u51c6\u5907:"],this._isLoad=!1,this._loadProgress2=null,this._isOpenLoadWnd=!1,this._isNeedLoad2Res=!1,this._loadList=[],this._record2AllResCnt=0,this._record2ResCnt=0,this._loadAllCount=8,this._loadNowCount=0,this._recordNeedLoadRes=[],this._recordAllCustomRes={}}return e.getInstance=function(){return void 0==this._instance&&(this._instance=new e),this._instance},e.prototype.loadAllResource=function(e){e&&(this._recordProgress=e,this._recordProgress.value=0,this._recordProgress.text=""),this._recordProgress.getChild("txt").text=this._loadTipStr[0]+Math.round(0/this._loadAllCount*100)+"%",this.countLoadLength(0,this._loadAllCount),this.test()},e.prototype.test=function(){this._loadTipStr.sort(function(e,t){return Math.random()>.5?1:-1}),this._loadConfig(),this._loadFguiData(),this.loadScenceRes()},Object.defineProperty(e.prototype,"loadProgress",{set:function(e){this._loadProgress2=e},enumerable:!0,configurable:!0}),e.prototype.checkIsNeedLoad=function(){return!this._isLoad&&(this._isLoad=!0,!!this._isNeedLoad2Res&&(this.loadSurplusRes(),!0))},e.prototype.checkResIsLoadOver=function(){return 0==this._isNeedLoad2Res||(!!this._isOpenLoadWnd||(this._isOpenLoadWnd=!0,cc.macro.DOWNLOAD_MAX_CONCURRENT=6,o.default.getInstance().OpenWindow("LoginWnd","LoadResWnd",d.default,null,o.WindowLayer.PopupWnd),!1))},e.prototype.loadSurplusRes=function(){cc.macro.DOWNLOAD_MAX_CONCURRENT=1;var e={resUrl:"Config/"};e.type=cc.JsonAsset,e.descript="\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90:",this._loadList=u,this._record2AllResCnt=u.length,this._startLoadSurplusRes()},e.prototype._startLoadSurplusRes=function(){var e=this,t=Math.floor(100*this._record2ResCnt/this._record2AllResCnt);this._loadProgress2&&(this._loadProgress2.visible=!0,this._loadProgress2.value=t,this._loadProgress2.getChild("txt").text="\u6b63\u5728\u52a0\u8f7d\u5269\u4f59\u8d44\u6e90\uff1a"+Math.round(this._record2ResCnt/this._record2AllResCnt*100)+"%");var n=this._loadList.pop();if(null==n)return this._isNeedLoad2Res=!1,void(this._isOpenLoadWnd&&o.default.getInstance().CloseNameWindow("LoadResWnd",d.default));this._record2ResCnt++,fgui.GTween.to(0,1,.2).onComplete(function(){var t;2==n.split("Config/").length?t=cc.JsonAsset:2==n.split("AllTexture/").length?t=cc.SpriteAtlas:2==n.split("Mp3/").length?t=cc.AudioClip:2==n.split("Dragon/Des/").length?t=dragonBones.DragonBonesAsset:2==n.split("Dragon/TexDes/").length?t=dragonBones.DragonBonesAtlasAsset:2==n.split("Dragon/Tex/").length?t=cc.SpriteFrame:2==n.split("Prefab/").length&&(t=cc.Prefab),t==cc.SpriteAtlas?cc.loader.loadResDir("AllTexture/",function(t,a,o){if(t)return cc.error("----------\x3e\u8d44\u6e90\u52a0\u8f7d\u5f02\u5e38\uff1a"+n,t),e._loadList.push(n),void e._startLoadSurplusRes();e._loadCustomResOverCall(t,a,o,e._startLoadSurplusRes.bind(e))}):cc.loader.loadRes(n,t,function(o,i){if(o)return cc.error("----------\x3e\u8d44\u6e90\u52a0\u8f7d\u5f02\u5e38\uff1a"+n,o),e._loadList.push(n),void e._startLoadSurplusRes();t==cc.JsonAsset?a.default.getInstance().delegateLoadCall2(o,[i],[n],e._startLoadSurplusRes.bind(e)):e._loadCustomResOverCall(o,[i],[n],e._startLoadSurplusRes.bind(e))})},this)},e.prototype.loadScenceRes=function(){var e=this,t=this._recordNeedLoadRes.length;if(l.default.getInstance().getNowBigLevel()>6){this._loadAllCount=15;for(var n=function(t){var n=a._recordNeedLoadRes[t],o=n.resUrl;cc.loader.loadResDir(o,function(t,a,o){t?e.OnErrToAddCall(function(){e._ResetLoadSome(n)}):e._loadCustomResOverCall(t,a,o,e.loadOverCall.bind(e))})},a=this,o=0;o<t;o++)n(o)}else this._isNeedLoad2Res=!0,this._loadAllCount=8;var i=function(t){var n={};n.descript=r._recordNeedLoadRes[t].descript,n.type=r._recordNeedLoadRes[t].type,n.resUrl="First"+r._recordNeedLoadRes[t].resUrl,cc.loader.loadResDir(n.resUrl,function(t,a,o){t?e.OnErrToAddCall(function(){e._ResetLoadSome(n)}):e._loadCustomResOverCall(t,a,o,e.loadOverCall.bind(e))})},r=this;for(o=0;o<t;o++)i(o)},e.prototype._ResetLoadSome=function(e){var t=this;cc.loader.loadResDir(e.resUrl,function(n,a,o){n&&t.OnErrToAddCall(function(){t._ResetLoadSome(e)}),t._loadCustomResOverCall(n,a,o,t.loadOverCall.bind(t))})},e.prototype.OnErrToAddCall=function(e){var t=o.default.getInstance().GetWindow("LoginDefWnd",s.default,!0);null!=t?t.AddCallFun(e):o.default.getInstance().OpenWindow("LoginWnd","LoginDefWnd",s.default,e,o.WindowLayer.PopupWnd)},e.prototype.loadOverCall=function(){this._loadNowCount++,this._recordProgress.getChild("txt").text=this._loadTipStr[this._loadNowCount]+Math.round(this._loadNowCount/this._loadAllCount*100)+"%",this.countLoadLength(this._loadNowCount,this._loadAllCount),this._loadNowCount>=this._loadAllCount&&(this._recordProgress.getChild("txt").text="\u6b63\u5728\u751f\u6210\u573a\u666f\uff0c\u8bf7\u7a0d\u7b49...",this._loadPrefabData())},e.prototype.preloadSomeFolderAllRes=function(e,t,n){void 0===n&&(n="\u6b63\u5728\u52a0\u8f7d\u8d44\u6e90:");for(var a=0;a<this._recordNeedLoadRes.length;a++)if(this._recordNeedLoadRes[a].resUrl==e)return void cc.error("\u7981\u6b62\u591a\u6b21\u52a0\u8f7d\u76f8\u540c\u6587\u4ef6\u5939\uff01",e);var o={};o.descript=n,o.resUrl=e,o.type=t,this._recordNeedLoadRes.push(o)},e.prototype.getRes=function(e){var t=e.split("/"),n=t.pop(),a=e.slice(0,e.length-n.length);if("AllTexture"==t[0])if("Turret"==t[2]){var o=parseInt(n.split("tur_")[1]);a=o-100*Math.floor(o/100)>8?"AllTexture/allTexture2/Turret/":"AllTexture/allTexture1/Turret/"}else{a=l.default.getInstance().getNowBigLevel()>6?"AllTexture/allTexture2/Bullet/":"AllTexture/allTexture1/Bullet/"}return void 0==this._recordAllCustomRes[a]?(cc.error(this._recordAllCustomRes),console.log("\u8be5\u8d44\u6e90\u8def\u5f84\u4e0d\u5b58\u5728!",a),null):void 0==this._recordAllCustomRes[a][n]?(cc.error(this._recordAllCustomRes,a,n),console.log("\u8be5\u8d44\u6e90\u4e0d\u5b58\u5728!",e),null):this._recordAllCustomRes[a][n]},e.prototype._loadCustomResOverCall=function(e,t,n,a){if(e)cc.error("\u521d\u59cb\u5316\u81ea\u5b9a\u4e49\u8d44\u6e90\u9519\u8bef\uff01"+e);else{for(var o=0;o<t.length;o++){for(var i=n[o].split("-"),r=null,s=0;s<i.length;s++)if(null==r){var l=i[s].split("First");r=2==l.length?l[1]:i[s]}else r=r+"/"+i[s];var d=r.split("/"),u=d[d.length-1],c=r.slice(0,r.length-u.length);void 0==this._recordAllCustomRes[c]&&(this._recordAllCustomRes[c]={}),this._recordAllCustomRes[c][u]=t[o]}a&&a()}},e.prototype.countLoadLength=function(e,t){var n=Math.floor(100*e/t);this._recordProgress&&(this._recordProgress.value=n)},e.prototype._loadConfig=function(){var e=this;a.default.getInstance().delegateLoadOverCall=this.loadOverCall.bind(this),l.default.getInstance().getNowBigLevel()>6&&cc.loader.loadResDir("Config/",function(t,n,o){t?e.OnErrToAddCall(function(){e._loadFirstConfig()}):a.default.getInstance().delegateLoadCall(t,n,o)}),cc.loader.loadResDir("FirstConfig/",function(t,n,o){t?e.OnErrToAddCall(function(){e._loadSecondConfig()}):(cc.log("JSON \u52a0\u8f7d\u5b8c\u6bd5"),a.default.getInstance().delegateLoadCall(t,n,o))})},e.prototype._loadFirstConfig=function(){var e=this,t=l.default.getInstance().getNowBigLevel();cc.loader.loadResDir("FirstConfig/",function(n,o,i){n?e.OnErrToAddCall(function(){e._loadConfig()}):a.default.getInstance().delegateLoadCall(n,o,i,t<=10)})},e.prototype._loadSecondConfig=function(){var e=this;cc.loader.loadResDir("Config/",function(t,n,o){t?e.OnErrToAddCall(function(){e._loadConfig()}):a.default.getInstance().delegateLoadCall(t,n,o)})},e.prototype._loadFguiData=function(){var e=this;o.default.getInstance().delegateLoadOverCall=this.loadOverCall.bind(this),cc.loader.loadResDir("FairyGui/",function(t,n,a){t?e.OnErrToAddCall(function(){e._loadFguiData()}):(cc.log("fgui \u52a0\u8f7d\u5b8c\u6bd5"),o.default.getInstance().delegateLoadCall(t,n,a))})},e.prototype._loadPrefabData=function(){this._loadScene()},e.prototype._loadScene=function(){var e=this;cc.director.preloadScene("gameScene",null,function(t,n){t?console.log("\u52a0\u8f7d\u573a\u666f\u51fa\u73b0\u95ee\u9898!",t):cc.director.loadScene("gameScene",e._SceneLoadOver.bind(e))})},e.prototype._SceneLoadOver=function(){o.default.getInstance().CloseNameWindow("LoginWnd",r.default),o.default.getInstance().OpenWindow("StartGame","StartWnd",i.default,0,o.WindowLayer.PopupWnd)},e}();n.default=c,cc._RF.pop()},{"../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/LoadRes2Wnd":"LoadRes2Wnd","../UI/StartGame/LoginDefWnd":"LoginDefWnd","../UI/StartGame/LoginWnd":"LoginWnd","../UI/StartGame/StartWnd":"StartWnd","./ConfigMgr":"ConfigMgr","./GameDataManager":"GameDataManager","./PoolManager":"PoolManager"}],RewardOf7DaysWnd:[function(e,t,n){"use strict";cc._RF.push(t,"1fa3dtQ/PlBnLWPQtIurRHw","RewardOf7DaysWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventEnum"),i=e("../../Manager/EventManager"),r=e("../../Manager/GameDataManager"),s=e("../../Manager/ConfigMgr"),l=e("../../Server/ServerManager"),d=e("../../Server/GetLoginAwardSever"),u=e("../../Manager/RedDotManager"),c=e("../../SDK/WeiXinAPPSDK"),h=e("../../SDK/Global"),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._items=this._view.getChild("n4").asList,this._closeBtn=this._view.getChild("n2").asButton,this._qiandaoBtn=this._view.getChild("n8").asButton,this._closeBgBtn=this._view.getChild("n22").asLoader,this._closeBtn.onClick(this.CloseSelf,this),this._closeBgBtn.onClick(this.CloseSelf,this),this._qiandaoBtn.onClick(this.BtnOnclick,this)},t.prototype.OnOpen=function(){c.default.getInstance().ShowAgreeBtn=!1,i.default.dispatchEvent(o.EventEnum.PauseGame),this.ShowTime()},t.prototype.OnClose=function(){c.default.getInstance().ShowAgreeBtn=!0,i.default.dispatchEvent(o.EventEnum.ResumeGame)},t.prototype.ShowTime=function(){var e=r.default.getInstance().GetLoginAwardsLevel();0==r.default.getInstance().GetIsGetSignAward()?(this._view.getChild("n7").asImage.visible=!0,this._view.getChild("n8").asButton.visible=!0,this._view.getChild("n10").asImage.visible=!1):(this._view.getChild("n7").asImage.visible=!1,this._view.getChild("n8").asButton.visible=!1,this._view.getChild("n10").asImage.visible=!0);for(var t=e.length,n=r.default.getInstance().getNowBigLevel(),a=0;a<7;a++){var o=this._items.getChildAt(a).asCom;if(o.getChild("n3").asTextField.text="\u7b2c"+(a+1)+"\u5929",a<6){var i=a+1;if(a<t){var l=s.default.getInstance().getTableDataOne("Sevenday",e[a].toString(),"Award"+i);o.touchable=!1,o.getChild("n6").asTextField.text=r.default.getInstance().returnGlodString(l),o.getChild("n12").asImage.visible=!0,o.getChild("n13").asImage.visible=!0}else{l=s.default.getInstance().getTableDataOne("Sevenday",n.toString(),"Award"+i);o.getChild("n6").asTextField.text=r.default.getInstance().returnGlodString(l),o.getChild("n12").asImage.visible=!1,o.getChild("n13").asImage.visible=!1}}if(a<2)o.getChild("n0").asLoader.url="ui://PopWnd/chen",o.getChild("n5").asLoader.url="ui://MainWnd/jb";else if(a<4)o.getChild("n0").asLoader.url="ui://PopWnd/lv",o.getChild("n5").asLoader.url="ui://PopWnd/ui_zp_icon2";else if(a<6)o.getChild("n0").asLoader.url="ui://PopWnd/hong",o.getChild("n5").asLoader.url="ui://PopWnd/ui_zp_icon3";else if(6==a){7==t&&(o.getChild("n12").asImage.visible=!0,o.getChild("n13").asImage.visible=!0),o.getChild("n0").asLoader.url="ui://PopWnd/lan";var d=s.default.getInstance().getTableDataOne("Sevenday",n.toString(),"Award7").split(",").map(Number);o.getChild("n6").asTextField.text="X"+d[0],o.getChild("n9").asTextField.text="X"+d[1],o.getChild("n11").asTextField.text="X"+d[2]}}},t.prototype.BtnOnclick=function(){var e=r.default.getInstance().GetLoginAwardsLevel(),t=e.length,n=r.default.getInstance().getNowBigLevel();if(t<6){var a=t+1,c=s.default.getInstance().getTableDataOne("Sevenday",n.toString(),"Award"+a),f=[];f.push(c),r.default.getInstance().glodChange(c),this._openRewardWnd(a,f)}else{c=s.default.getInstance().getTableDataOne("Sevenday",n.toString(),"Award7").split(",").map(Number);r.default.getInstance().addDoubleGoldCount2(c[0]),r.default.getInstance().addTowerUpSpeedCount2(c[1]),r.default.getInstance().addFrozenBuffCount2(c[2]),this._openRewardWnd(t+1,c)}var g=this._items.getChildAt(t).asCom;g.getChild("n12").asImage.visible=!0,g.getChild("n13").asImage.visible=!0,this._view.getChild("n7").asImage.visible=!1,this._view.getChild("n8").asButton.visible=!1,this._view.getChild("n10").asImage.visible=!0,e.push(n),r.default.getInstance().SetIsGetSignAward(1),h.default.gameData.lastSignTimestamp=Date.now(),r.default.getInstance().SetLoginAwardsLevel(e),l.default.getInstance().startCallServer(d.default),7==e.length&&i.default.dispatchEvent(o.EventEnum.HideQiandao),u.default.RefreshRedDotState("LeftList/SignBtn",!1)},t.prototype._openRewardWnd=function(e,t){var n=this,a=this._view.getChild("n17").asGroup,o=this._view.getChild("n15").asLoader,i=this._view.getChild("n18").asLoader,s=this._view.getChild("n20").asLoader,l=this._view.getChild("txt1").asTextField,d=this._view.getChild("txt2").asTextField,u=this._view.getChild("txt3").asTextField;o.visible=!1,s.visible=!1,l.visible=!1,u.visible=!1,e<=2?(i.url="ui://MainWnd/jb",d.text=r.default.getInstance().returnGlodString(t[0])):e<=4?(i.url="ui://PopWnd/ui_zp_icon2",d.text=r.default.getInstance().returnGlodString(t[0])):e<=6?(i.url="ui://PopWnd/ui_zp_icon3",d.text=r.default.getInstance().returnGlodString(t[0])):(o.visible=!0,s.visible=!0,l.visible=!0,u.visible=!0,o.url="ui://PopWnd/ui_zp_icon0",l.text="X"+t[0],i.url="ui://PopWnd/ui_zp_icon6",d.text="X"+t[1],s.url="ui://PopWnd/ui_zp_icon4",u.text="X"+t[2]),a.visible=!0,a.alpha=.5;fgui.GTween.to(0,.8,.5).setTarget(a).onUpdate(function(e){a.alpha=e.value.x},this).onComplete(function(){fgui.GTween.to(.8,0,.5).setTarget(a).onUpdate(function(e){a.alpha=e.value.x},n).onComplete(function(){a.visible=!1},n).setDelay(2)},this)},t}(a.default);n.default=f,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/RedDotManager":"RedDotManager","../../SDK/Global":"Global","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/GetLoginAwardSever":"GetLoginAwardSever","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow"}],SDKManager:[function(e,t,n){"use strict";cc._RF.push(t,"4ccd7tdIMVPdLzPgtB4jIyV","SDKManager"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("./FaceBookSDK"),i=e("../Manager/EventEnum"),r=e("../Manager/EventManager"),s=e("./WeiXinWBSDK"),l=e("./WeiXinAPPSDK"),d=e("../Manager/GameDataManager"),u=e("../UI/Manager/Tools"),c=e("../Server/ServerManager"),h=e("./QQSDK"),f=e("../Lib/QTTGameSDK"),g=window.wx,p=window.swan;(function(e){e[e.WB=0]="WB",e[e.FaceBook=1]="FaceBook",e[e.WeiXin=2]="WeiXin",e[e.WeiXinWB=3]="WeiXinWB",e[e.QQ=4]="QQ",e[e.Android=5]="Android",e[e.QTTWB=6]="QTTWB",e[e.BD=7]="BD"})(a=n.Platform||(n.Platform={}));var _=function(){function e(){this._recordPlatform=g?a.WeiXin:a.WB}return e.getInstance=function(){if(null==this._instance)switch(this._instance=new e,this._instance._recordPlatform){case a.WB:console.log("<<----------------------\u7f51\u9875\u5e73\u53f0SDK----------------------------\x3e>");break;case a.FaceBook:console.log("<<----------------------FaceBookSDK----------------------------\x3e>");break;case a.WeiXin:console.log("<<----------------------\u5fae\u4fe1\u5e73\u53f0SDK----------------------------\x3e>");break;case a.WeiXinWB:console.log("<<----------------------\u5fae\u4fe1\u7f51\u9875SDK----------------------------\x3e>");break;case a.QQ:console.log("<<----------------------QQ\u5c0f\u7a0b\u5e8fSDK----------------------------\x3e>");break;case a.QTTWB:console.log("<<----------------------QTTWBSDK----------------------------\x3e>"),f.default.getInstance().GetAppidAndTicket();break;default:console.log("<<----------------------\u672a\u77e5\u5e73\u53f0SDK----------------------------\x3e>")}return this._instance},e.prototype.initSomeType=function(e,t,n){switch(this.openRightShare(e,t,n),console.log("//this.authorizationUserInfo()"),this.setKeepScreenLight(),this.checkVersion(),this._recordPlatform){case a.WB:break;case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u521d\u59cb\u5316");break;case a.WeiXin:l.default.getInstance().InitSDK();break;case a.QQ:h.default.getInstance().InitSDK();break;case a.WeiXinWB:console.log("\u6b64\u5e73\u53f0\u65e0\u521d\u59cb\u5316");break;case a.QTTWB:}},e.prototype.openDebug=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u8c03\u8bd5");break;case a.WeiXin:l.default.getInstance().openDebug();break;case a.QQ:h.default.getInstance().openDebug();break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u8c03\u8bd5")}},e.prototype.getNowPlatform=function(){return this._recordPlatform},e.prototype.getPlayerName=function(){switch(this._recordPlatform){case a.WB:return"PlayerName";case a.FaceBook:return o.default.getInstance().getPlayerName();case a.WeiXin:return l.default.getInstance().getPlayerName();case a.WeiXinWB:return s.default.getInstance().getPlayerName();case a.QQ:return h.default.getInstance().getPlayerName();case a.QTTWB:return f.default.getInstance().GetNickname()}},e.prototype.getPlayerIcon=function(){switch(this._recordPlatform){case a.WB:return"https://coolant.miniant.cn/plantsVsZombies/default.jpg";case a.FaceBook:return o.default.getInstance().getPlayerIcon();case a.WeiXin:return l.default.getInstance().getPlayerIcon();case a.QQ:return h.default.getInstance().getPlayerIcon();case a.WeiXinWB:return s.default.getInstance().getPlayerIcon();case a.QTTWB:return f.default.getInstance().GetAvatar()}},e.prototype.getPlayerID=function(){switch(this._recordPlatform){case a.WB:return"IfWater";case a.FaceBook:return o.default.getInstance().getPlayerID();case a.WeiXin:case a.QQ:return"IfWater";case a.WeiXinWB:return s.default.getInstance().getPlayerID();case a.QTTWB:return f.default.getInstance().GetAppId()}},e.prototype.getUserInfo=function(e){var t={avatarUrl:"https://coolant.miniant.cn/plantsVsZombies/default.jpg",nickName:"\u82e5\u6c34"};switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u8fd4\u56de\u9ed8\u8ba4\u7528\u6237\u4fe1\u606f"),e&&e(t);break;case a.WeiXin:l.default.getInstance().getUserInfo(e);break;case a.QQ:h.default.getInstance().getUserInfo(e);break;case a.WeiXinWB:console.log("\u8fd4\u56de\u9ed8\u8ba4\u7528\u6237\u4fe1\u606f"),e&&e(t);break;case a.QTTWB:f.default.getInstance().GetUserInfo(e)}},e.prototype.shareCall=function(e,t,n,i,r,s){switch(this._recordPlatform){case a.WB:n.call(r),console.log("\u6b64\u5e73\u53f0\u4e0d\u80fd\u5206\u4eab\u54df!");break;case a.FaceBook:o.default.getInstance().share(t,e,n,r,s),console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u5931\u8d25\u56de\u8c03");break;case a.WeiXin:if(s&&(4==s.shareType||5==s.shareType||6==s.shareType||12==s.shareType||1==s.shareType||11==s.shareType))return n&&n.call(r),void(i&&!n&&i.call(r));var d=null;if(null!=s)for(var u in s)null!=d?d+="&":d="",d+=u+"="+s[u];null==i&&(i=function(){}),l.default.getInstance().shareHaveCall(e,t,n.bind(r),i.bind(r),d);break;case a.QQ:d=null;if(null!=s)for(var u in s)null!=d?d+="&":d="",d+=u+"="+s[u];null==i&&(i=function(){}),h.default.getInstance().shareHaveCall(e,t,n.bind(r),i.bind(r),d);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u4e0d\u80fd\u5206\u4eab\u54df!")}},e.prototype.sendMessageToFrends=function(e,t,n){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u4e0d\u80fd\u7ed9\u597d\u53cb\u53d1\u9001\u6d88\u606f\u54df!");break;case a.FaceBook:o.default.getInstance().sendMessageToFriends(e,t,n);break;case a.WeiXin:case a.QQ:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u4e0d\u80fd\u7ed9\u597d\u53cb\u53d1\u9001\u6d88\u606f\u54df!")}},e.prototype.getShareLoadData=function(){var e=0;switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u83b7\u53d6\u5206\u4eab\u65f6\u9644\u5e26\u7684\u6570\u636e");break;case a.FaceBook:e=o.default.getInstance().getShareLoadData();break;case a.WeiXin:e=l.default.getInstance().getShareLoadData();break;case a.QQ:e=h.default.getInstance().getShareLoadData();break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u83b7\u53d6\u5206\u4eab\u65f6\u9644\u5e26\u7684\u6570\u636e")}return e},e.prototype.setShareData=function(e){this._recordShareData=e},e.prototype.getShareData=function(){return this._recordShareData},e.prototype.bannerAD=function(){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u5e7f\u544a");break;case a.FaceBook:break;case a.WeiXin:l.default.getInstance().bannerAD();break;case a.QQ:h.default.getInstance().bannerAD();break;case a.QTTWB:}},e.prototype.showBannerAD=function(){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u5e7f\u544a");break;case a.FaceBook:break;case a.WeiXin:l.default.getInstance().showBannerAD();break;case a.QQ:h.default.getInstance().showBannerAD();break;case a.QTTWB:f.default.getInstance().ShowBanner()}},e.prototype.hideBannerAD=function(){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u5e7f\u544a");break;case a.FaceBook:break;case a.WeiXin:l.default.getInstance().hideBannerAD();break;case a.QQ:h.default.getInstance().hideBannerAD();break;case a.QTTWB:f.default.getInstance().HideBanner()}},e.prototype.preLoadAdds=function(e){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u5e7f\u544a");break;case a.FaceBook:o.default.getInstance().loadSyne(0);break;case a.WeiXin:l.default.getInstance().preVideoAd(e);break;case a.QQ:h.default.getInstance().preVideoAd(e);break;case a.QTTWB:}},e.prototype.loadAdds=function(e,t,n){switch(this._recordPlatform){case a.WB:e(),console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u5e7f\u544a");break;case a.FaceBook:o.default.getInstance().showSync(e,t,n);break;case a.WeiXin:l.default.getInstance().showVideoAd(e,t);break;case a.QQ:h.default.getInstance().showVideoAd(e,t);break;case a.QTTWB:f.default.getInstance().ShowVedio(e,t)}},e.prototype.createInterstitialAd=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u63d2\u5c4f\u5e7f\u544a");break;case a.WeiXin:l.default.getInstance().showInterstitialAd();break;case a.QQ:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u52a0\u8f7d\u63d2\u5c4f\u5e7f\u544a")}},e.prototype.openCustomer=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u5ba2\u670d\u6309\u94ae");break;case a.WeiXin:l.default.getInstance().openCustomer();break;case a.QQ:h.default.getInstance().openCustomer();break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u5ba2\u670d\u6309\u94ae")}},e.prototype.createGameClubButton=function(e,t){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae");break;case a.WeiXin:l.default.getInstance().CreateGameClubButton(e,t);break;case a.QQ:h.default.getInstance().CreateGameClubButton(e,t);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae")}},e.prototype.ShowGameClubButton=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae");break;case a.WeiXin:l.default.getInstance().ShowGameClubButton();break;case a.QQ:h.default.getInstance().ShowGameClubButton();break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae")}},e.prototype.HideGameClubButton=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae");break;case a.WeiXin:l.default.getInstance().HideGameClubButton();break;case a.QQ:h.default.getInstance().HideGameClubButton();break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae")}},e.prototype.jumpOtherGame=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8df3\u8f6c\u6e38\u620f");break;case a.WeiXin:l.default.getInstance().jumpGame();break;case a.QQ:h.default.getInstance().jumpGame();break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8df3\u8f6c\u6e38\u620f")}},e.prototype.openRightShare=function(e,t,n){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u53f3\u4e0a\u89d2\u5206\u4eab");break;case a.WeiXin:var o=null;if(null!=n)for(var i in n)null!=o?o+="&":o="",o+=i+"="+n[i];l.default.getInstance().openRightShare(e,t,o);break;case a.QQ:o=null;if(null!=n)for(var i in n)null!=o?o+="&":o="",o+=i+"="+n[i];h.default.getInstance().openRightShare(e,t,o);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u53f3\u4e0a\u89d2\u5206\u4eab")}},e.prototype.authorizationUserInfo=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:e={param:!0,param2:!1};r.default.dispatchEvent(i.EventEnum.AgreeAuthorization,e),console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u6388\u6743\u83b7\u5f97\u7528\u6237\u4fe1\u606f\uff0c\u9ed8\u8ba4\u6388\u6743\u6210\u529f");break;case a.WeiXin:l.default.getInstance().authorization(0);break;case a.QQ:h.default.getInstance().authorization(0);break;case a.QTTWB:var e={param:!0,param2:!1};r.default.dispatchEvent(i.EventEnum.AgreeAuthorization,e),console.log("\u8da3\u5934\u6761\u6388\u6743\u6210\u529f")}},e.prototype.getCode=function(e){var t=(1e4*Math.random()).toFixed(0);switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u83b7\u53d6\u5fae\u4fe1code\uff01\uff0c\u8fd4\u56de\u503c\u968f\u673a"),e&&e(t);break;case a.FaceBook:t=o.default.getInstance().getPlayerID(),e&&e(t);break;case a.WeiXin:t=l.default.getInstance().getCode(e);break;case a.QQ:t=h.default.getInstance().getCode(e);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u83b7\u53d6\u5fae\u4fe1code\uff01\uff0c\u8fd4\u56de\u503c\u968f\u673a"),e&&e(t)}return t},e.prototype.reqDolwnload=function(e){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u517c\u5bb9\u4ee3\u7801");break;case a.WeiXin:l.default.getInstance().reqDolwnload(e);break;case a.QQ:h.default.getInstance().reqDolwnload(e);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u517c\u5bb9\u4ee3\u7801")}},e.prototype.reqSaveVideoToPhoto=function(e,t){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u6388\u6743\u83b7\u5f97\u7528\u6237\u4fe1\u606f\uff0c\u9ed8\u8ba4\u6388\u6743\u6210\u529f");break;case a.WeiXin:l.default.getInstance().authorization(1,e,t);break;case a.QQ:h.default.getInstance().authorization(1,e,t);break;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u6388\u6743\u83b7\u5f97\u7528\u6237\u4fe1\u606f\uff0c\u9ed8\u8ba4\u6388\u6743\u6210\u529f")}},e.prototype.saveVideoToLoaclPhoto=function(){},e.prototype.reqSubscribeBot=function(){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8c03\u7528\u8be5\u51fd\u6570\uff01");break;case a.FaceBook:o.default.getInstance().reqSubscribeBot();break;case a.WeiXin:case a.QQ:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8c03\u7528\u8be5\u51fd\u6570\uff01")}},e.prototype.logEvent=function(e){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8c03\u7528\u8be5\u51fd\u6570\uff01");break;case a.FaceBook:o.default.getInstance().logEvent(e);break;case a.WeiXin:case a.QQ:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u65e0\u6cd5\u8c03\u7528\u8be5\u51fd\u6570\uff01")}},e.prototype.getLiuHaiPingSafeTopPos=function(){var e=0;switch(this._recordPlatform){case a.WB:if(p&&p.getSystemInfoSync&&p.getSystemInfoSync()&&p.getSystemInfoSync().statusBarHeight>0){var t=p.getSystemInfoSync().statusBarHeight;e=null==(e=44==t?88:t)?44:e}console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u83b7\u53d6\u5218\u6d77\u5c4f\u5b89\u5168\u4f4d\u7f6e\u4ee3\u7801\u3002\u9ed8\u8ba4\u8fd4\u56de\uff1a0");break;case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u83b7\u53d6\u5218\u6d77\u5c4f\u5b89\u5168\u4f4d\u7f6e\u4ee3\u7801\u3002\u9ed8\u8ba4\u8fd4\u56de\uff1a0");break;case a.WeiXin:e=l.default.getInstance().getRightStateBtnHeight(),console.log("\u5f53\u524d\u83b7\u53d6\u7684\u4f4d\u7f6e\u9ad8\u5ea6\u4e3a:",e);break;case a.QQ:e=h.default.getInstance().getRightStateBtnHeight(),console.log("\u5f53\u524d\u83b7\u53d6\u7684\u4f4d\u7f6e\u9ad8\u5ea6\u4e3a:",e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u83b7\u53d6\u5218\u6d77\u5c4f\u5b89\u5168\u4f4d\u7f6e\u4ee3\u7801\u3002\u9ed8\u8ba4\u8fd4\u56de\uff1a0")}return e},e.prototype.setKeepScreenLight=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u5c4f\u5e55\u5e38\u4eae\u4ee3\u7801");break;case a.WeiXin:l.default.getInstance().setKeepScreenLight();break;case a.QQ:h.default.getInstance().setKeepScreenLight();break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u5c4f\u5e55\u5e38\u4eae\u4ee3\u7801")}},e.prototype.refreshScore=function(e){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6392\u884c\u699c");break;case a.FaceBook:o.default.getInstance().setScore(e);break;case a.WeiXin:case a.QQ:this.postMessage(e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6392\u884c\u699c")}},e.prototype.getEntries=function(e,t){switch(this._recordPlatform){case a.WB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6392\u884c\u699c");break;case a.FaceBook:o.default.getInstance().getEntries(e,t);break;case a.WeiXin:case a.QQ:this.postMessage(e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6392\u884c\u699c")}},e.prototype.postMessage=function(e){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u53d1\u9001\u6d88\u606f\u5230\u5f00\u653e\u57df\u4ee3\u7801");break;case a.WeiXin:l.default.getInstance().sendMessage(e);break;case a.QQ:h.default.getInstance().sendMessage(e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u53d1\u9001\u6d88\u606f\u5230\u5f00\u653e\u57df\u4ee3\u7801")}},e.prototype.checkVersion=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u68c0\u67e5\u66f4\u65b0");break;case a.WeiXin:l.default.getInstance().checkIsNewVersion();break;case a.QQ:h.default.getInstance().checkIsNewVersion();break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u68c0\u67e5\u66f4\u65b0")}},e.prototype.OnListenerAudioStop=function(e){switch(this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u8be5\u5e73\u53f0\u4e0d\u5b58\u5728\u97f3\u9891\u4e2d\u65ad\uff01");break;case a.WeiXin:l.default.getInstance().OnListenerAudioStop(e);break;case a.QQ:h.default.getInstance().OnListenerAudioStop(e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u8be5\u5e73\u53f0\u4e0d\u5b58\u5728\u97f3\u9891\u4e2d\u65ad\uff01")}},e.prototype.ShareOrAds=function(e,t,n,a,o,s){var l=this;null==s&&((s={}).userId=c.default.getInstance().getUUID(),s.shareType=parseInt(e));var h=d.default.getInstance().getShareOrAds(),f=function(){(t=t.bind(o))(),1==h&&d.default.getInstance().setCurWatchVedioTimes(e)},g=function(){(t=t.bind(o))(),d.default.getInstance().addShareCount(),d.default.getInstance().addGetrewardTimes(),0==h&&d.default.getInstance().setCurWatchVedioTimes2(e)},p=d.default.getInstance().returnRandomJsonData(),_={},v=function(){d.default.getInstance().setIsShareOrIsAds(!1),null==a?l.loadAdds(f.bind(o),a,parseInt(e)-1):l.loadAdds(f.bind(o),a.bind(o),parseInt(e)-1),_.param=2,_.param2=parseInt(e)},I=function(){d.default.getInstance().setIsShareOrIsAds(!0);var t=l.getNowPlatform(),a=p.titleTxt,i=null;if(1==t){var r=p.sptUrl,c=d.default.getInstance().returnShareBase64Img(r);if(null==c){u.default.GetBase64(r,function(e){d.default.getInstance().setShareBase64Img(r,e),l.shareCall(a,e,g,n,o,s)})}else l.shareCall(a,c,g,n,o,s)}else i=p.sptUrl,l.shareCall(a,i,g,n,o,s);_.param=1,_.param2=parseInt(e)};if(0==d.default.getInstance().NowVersionIsNormal){r.default.dispatchEvent(i.EventEnum.ShareDefualt,"\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u8be5\u529f\u80fd\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528"),null!=a&&a.call(o)}else{var m=[];if(m=1==h?p.share[e]:p.share2[e],p&&0==m[0])v();else if(0==m[1]&&0==m[2])I();else 1==d.default.getInstance().returnAdsOrShare(e)?v():I()}_.param3=d.default.getInstance().getNowLevelId(),r.default.dispatchEvent(i.EventEnum.DataThird,_)},e.prototype.PhoneShake=function(e){switch(void 0===e&&(e=!1),this._recordPlatform){case a.WB:case a.FaceBook:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6296\u52a8");break;case a.WeiXin:l.default.getInstance().PhoneShake(e);break;case a.QQ:h.default.getInstance().PhoneShake(e);break;case a.WeiXinWB:case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u6682\u65f6\u672a\u7f16\u5199\u6296\u52a8")}},e.prototype.CheckWXVersion=function(){switch(this._recordPlatform){case a.WB:case a.FaceBook:return console.log("\u6b64\u5e73\u53f0\u4e0d\u652f\u6301\u5fae\u4fe1SDK\u7248\u672c"),!0;case a.WeiXin:return l.default.getInstance().CheckWXVersion();case a.QQ:case a.WeiXinWB:return console.log("\u6b64\u5e73\u53f0\u4e0d\u652f\u6301\u5fae\u4fe1SDK\u7248\u672c"),!0;case a.QTTWB:console.log("\u6b64\u5e73\u53f0\u4e0d\u652f\u6301\u5fae\u4fe1SDK\u7248\u672c")}},e}();n.default=_,cc._RF.pop()},{"../Lib/QTTGameSDK":"QTTGameSDK","../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager","../Manager/GameDataManager":"GameDataManager","../Server/ServerManager":"ServerManager","../UI/Manager/Tools":"Tools","./FaceBookSDK":"FaceBookSDK","./QQSDK":"QQSDK","./WeiXinAPPSDK":"WeiXinAPPSDK","./WeiXinWBSDK":"WeiXinWBSDK"}],SendUserIsShareServer:[function(e,t,n){"use strict";cc._RF.push(t,"0c74043ottP+qafXTHam0Ym","SendUserIsShareServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){},t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/add_user_behavior_record",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.behavior_type=e.param,this.ReqData.way_type=e.param2,this.ReqData.level_id=e.param3},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],SendUserJoinStyleServer:[function(e,t,n){"use strict";cc._RF.push(t,"1063dNC/2pNM4ekvv/eZuNh","SendUserJoinStyleServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/user_source",this.ReqType="POST";var e={};this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.scene_number=null==e.scene?-1:e.scene,this.ReqData.app_id=null!=e.referrerInfo?null==e.referrerInfo.appId?"-1":e.referrerInfo.appId:"-1"},t.prototype.SuccessCall=function(){},t.prototype.DefCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],ServerManager:[function(e,t,n){"use strict";cc._RF.push(t,"0dc73hEsuZChbe/FV1p6vRd","ServerManager"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../UI/Manager/WindowManager"),i=e("../SDK/SDKManager"),r=e("../Manager/GameDataManager"),s=e("../SDK/GlobalManager");(function(e){e[e.Communicate=0]="Communicate",e[e.UpLoadFile=1]="UpLoadFile"})(a||(a={}));var l=function(){function e(){this._isPrint=!1,this.isInLoacl=!1,this._isTest=!0,this._localServerHeadUrl="https://coolant.miniant.cn",this._servereHeadUrl="https://coolant.miniant.cn",this._testHeadUrl="https://coolant.miniant.cn",this._FBHeadUrl="https://coolant.miniant.cn",this._serverSuccessCode=0,this._recordAllRegisterServer=[],this._ReqUUID=-1,this._isInReConnection=!1,this._hasBackGroundReconnect=!1,this._recordHttpReqPool=[]}return e.getInstance=function(){return void 0==this._instance&&(this._instance=new e),this._instance},e.prototype.getUUID=function(){return this._ReqUUID},e.prototype.setUUID=function(e){-1==this._ReqUUID?this._ReqUUID=e:console.log("%c \u4e0d\u53ef\u91cd\u590d\u8bbe\u7f6e\u552f\u4e00\u8bf7\u6c42ID!"+e,"color:#FF0000")},e.prototype.getNowReconnectState=function(){return this._hasBackGroundReconnect},e.prototype.setNowReconnectState=function(){this._hasBackGroundReconnect=!0},e.prototype._checkIsInRecord=function(e){for(var t=0;t<this._recordAllRegisterServer.length;t++)if(this._recordAllRegisterServer[t]instanceof e)return!0;return!1},e.prototype._returnInRecord=function(e){for(var t=0;t<this._recordAllRegisterServer.length;t++)if(this._recordAllRegisterServer[t]instanceof e)return this._recordAllRegisterServer[t];return null},e.prototype.returnServer=function(e){return this._returnInRecord(e)},e.prototype.ConnectDefCall=function(e){void 0===e&&(e=0),this._isInReConnection||r.default.getInstance().GetIsInGuide()||(this._isInReConnection=!0,o.default.getInstance().OpenReConnectionWnd(e))},e.prototype.registerServer=function(e){if(!this._checkIsInRecord(e)){var t=new e;return null==t.DefCall&&(t.DefCall=this.ConnectDefCall.bind(this)),this._recordAllRegisterServer.push(t),t}console.log("%c \u7981\u6b62\u91cd\u590d\u6ce8\u518c\uff01"+e,"color:#FF0000")},e.prototype.startCallServer=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=a.Communicate);var o=this._returnInRecord(e);null!=o?(o.InitData(t),n==a.Communicate?this.sendMessageToServer(o):n==a.UpLoadFile?this.UpLoadTexture(o):cc.error("\u672a\u77e5\u5c5e\u6027!!")):console.log("%c \u672a\u6ce8\u518c\u7684\u670d\u52a1"+e,"color:#FF0000")},e.prototype.sendMessageToServer=function(e){this._isPrint&&console.log("\u5f00\u59cb\u8bf7\u6c42\u6570\u636e\uff01",e.ReqData,e.ReqUrl);var t=JSON.stringify(e.ReqData);2==i.default.getInstance().getNowPlatform()?this.WXHttpReq(t,e):this.WBHttpReq(t,e)},e.prototype.WBHttpReq=function(e,t){var n=this;console.log("//WBHttpReq",t.ReqUrl);var a=function(){setTimeout(function(){s.default.isLogined?(n._hasBackGroundReconnect=!1,t.SuccessCall(void 0)):(console.log("//WBHttpReq delay"),a())},20)};a()},e.prototype.WXHttpReq=function(e,t){var n=this;console.log("//WXHttpReq",t.ReqUrl);var a=function(){setTimeout(function(){s.default.isLogined?(n._hasBackGroundReconnect=!1,t.SuccessCall(void 0)):(console.log("//WXHttpReq delay"),a())},20)};a()},e.prototype.DefaultSuccessReq=function(e,t,n){var a=t.data;a?(this._isPrint&&console.log("\u6536\u5230\u6570\u636e:",a),a.code!=this._serverSuccessCode?(console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef->\u9519\u8bef\u7801\uff1a"+a.code+"\n\u8bf7\u6c42\u5730\u5740\uff1a"+e.ReqUrl,"color:#FF0000"),e.DefCall()):(this._hasBackGroundReconnect=!1,e.SuccessCall(a.data))):(console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef->\u65e0\u8fd4\u56de\u6570\u636e"+a+"\n\u8bf7\u6c42\u5730\u5740\uff1a"+e.ReqUrl,"color:#FF0000"),e.DefCall())},e.prototype.UpLoadTexture=function(e){var t=this;this._isPrint&&console.log("\u5f00\u59cb\u8bf7\u6c42\u6570\u636e\uff01",e.ReqData);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==n.readyState)if(n.status>=200&&n.status<400){var a=n.responseText;if(a){var o=JSON.parse(a);t._isPrint&&console.log("\u6536\u5230\u6570\u636e:",o),o.code!=t._serverSuccessCode?(console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef"+o,"color:#FF0000"),e.DefCall()):e.SuccessCall(o.data)}else console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef"+a,"color:#FF0000"),e.DefCall()}else console.log("\u8bf7\u6c42\u5931\u8d25!!"),e.DefCall()};var a=(this.isInLoacl?this._localServerHeadUrl:this._servereHeadUrl)+e.ReqUrl;n.open(e.ReqType,a,!0),n.upload.onprogress=e.UpLoadCall,n.send(e.ReqData)},e.prototype.returnCurXMR=function(){var e="";if(this.isInLoacl)e=this._localServerHeadUrl;else if(this._isTest)e=this._testHeadUrl;else{e=1==i.default.getInstance().getNowPlatform()?this._FBHeadUrl:this._servereHeadUrl}return e},e}();n.default=l,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../SDK/GlobalManager":"GlobalManager","../SDK/SDKManager":"SDKManager","../UI/Manager/WindowManager":"WindowManager"}],ShareJoinPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"a8e87j9xL9GjIuytDJXzU5n","ShareJoinPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/EventManager"),o=e("../../Manager/EventEnum"),i=e("../../Server/ServerManager"),r=e("../../Server/GetShareAwardServer"),s=e("../../Manager/DelayTimeManager"),l=function(e){function t(){var t=e.call(this)||this;return t._recordIsCanClick=!1,t._recordArrData=[],t._recordNowIdx=-1,t}return __extends(t,e),t.prototype.onConstruct=function(){this._playerName=this.getChild("n4").asTextField,this._title=this.getChild("n9").asTextField,this._allGroup=this.getChild("n6").asGroup,this._rewardImg=this.getChild("n8").asLoader,this.onClick(this.ClickItemCall,this)},t.prototype.InitData=function(e,t,n){this._recordArrData=e,this._recordNowIdx=t;var a=e[t];if(this.visible=!0,"system_award"!=a.nickname)this._playerName.text=a.nickname,this._title.text=a.award_msg;else{var o=a.award_msg.split("+");this._title.text=o[0],this._playerName.text=null==o[1]?"\u8bb0\u5f97\u9886\u53d6\u54e6~":o[1]}switch(this._recordNowRewardType=a.award_type,this._recordNowRewardType){case 1:this._rewardImg.url="ui://MainWnd/jb";break;case 2:this._rewardImg.url="ui://PopWnd/ui_zp_icon0";break;case 3:this._rewardImg.url="ui://PopWnd/ui_zp_icon6";break;case 4:this._rewardImg.url="ui://PopWnd/ui_zp_icon4";break;default:console.log("\u672a\u77e5\u7684\u5956\u52b1\u7c7b\u578b\uff01")}this._recordList=n,this._recordAwardCount=a.award_gold,this._recordMessageId=a.award_id,this._rewardImg.visible=!0},t.prototype.ClickItemCall=function(){if(this._recordIsCanClick){var e;if(i.default.getInstance().startCallServer(r.default,this._recordMessageId),this._recordPos=cc.v2(this._recordList.x+this.x+this._rewardImg.x,this._recordList.y+this.y+this._rewardImg.y),1==this._recordNowRewardType)(e={}).param=this._recordPos,e.param2=this._recordAwardCount,a.default.dispatchEvent(o.EventEnum.OtherJoinAward,e);else(e={}).param=this._recordNowRewardType,e.param2=this._recordAwardCount,e.param3=this._recordPos,a.default.dispatchEvent(o.EventEnum.ServerToBuff,e);this.ClickUse()}},t.prototype.PlayEff=function(e){var t=this;fgui.GTween.isTweening(this._allGroup)&&fgui.GTween.kill(this._allGroup,!0),this._recordIsCanClick=!1;var n=this._allGroup.width;this._allGroup.x=n,fgui.GTween.to(0,n,.5).setTarget(this._allGroup).setEase(fgui.EaseType.Linear).onUpdate(function(e){t._allGroup.x=n-e.value.x},this).onComplete(function(){t._recordIsCanClick=!0,t._allGroup.x=0,t._recordPos=cc.v2(t._recordList.x+t.x+t._rewardImg.x,t._recordList.y+t.y+t._rewardImg.y)},this).setDelay(e)},t.prototype.ShowMe=function(){this._allGroup.x=0,this._recordIsCanClick=!0,this._recordPos=cc.v2(this._recordList.x+this.x+this._rewardImg.x,this._recordList.y+this.y+this._rewardImg.y)},t.prototype.ClickUse=function(){var e=this;if(this._recordIsCanClick){fgui.GTween.isTweening(this._allGroup)&&fgui.GTween.kill(this._allGroup),this._rewardImg.visible=!1,this._recordIsCanClick=!1;var t=this._allGroup.width;this._allGroup.x=0,fgui.GTween.to(0,t,.5).setTarget(this._allGroup).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._allGroup.x=0+t.value.x},this).onComplete(function(){s.default.AddDelayOnce(.2,function(){e._recordArrData.splice(e._recordNowIdx,1),e._recordList.numItems=e._recordArrData.length,e._recordList.ensureBoundsCorrect()},e)},this)}},t}(fgui.GComponent);n.default=l,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Server/GetShareAwardServer":"GetShareAwardServer","../../Server/ServerManager":"ServerManager"}],ShieldMonster:[function(e,t,n){"use strict";cc._RF.push(t,"01a03IWfZtDqq0UubC8y5v7","ShieldMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../../UI/Manager/MyMath"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Shield,t.skillCDTime=99,t._hurtCollisionRang=cc.v2(80,80),t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t),this.setCollisionRang(cc.v2(320,80)),this.setCollisionRang2(cc.v2(60,160))},t.prototype.onCollision=function(e){if(e instanceof o.default){var t,n,a=0,r=e.getNode().getAnchorPoint();if(t=i.default.GetInstance().FastAbs(this.getWordPos().y-e.getWordPos().y),n=i.default.GetInstance().FastAbs(this.getWordPos().x-e.getWordPos().x),a=this.getWordPos().y>e.getWordPos().y?i.default.GetInstance().FastAbs((this._hurtCollisionRang.y>>1)+e.getCollisionRang().y*(1-r.y)):i.default.GetInstance().FastAbs((this._hurtCollisionRang.y>>1)+e.getCollisionRang().y*r.y),n<=i.default.GetInstance().FastAbs((this._hurtCollisionRang.x>>1)+(e.getCollisionRang().x>>1))&&t<=a){var s=e.getDamage();this.normalCollisionState(s)}}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){},t}(a.default);n.default=r,cc._RF.pop()},{"../../UI/Manager/MyMath":"MyMath","../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],ShopListPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"35461uEEXpPCa684gzat1MY","ShopListPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/GameDataManager"),o=e("../../Manager/ConfigMgr"),i=e("../../Manager/EventManager"),r=e("../../Manager/EventEnum"),s=function(e){function t(){return e.call(this)||this}return __extends(t,e),t.prototype.onConstruct=function(){this._idx=this.getChild("n21").asTextField,this._towerIcon=this.getChild("n22").asLoader,this._towerName=this.getChild("n27").asTextField,this._towerAttack=this.getChild("n29").asTextField,this._towerDes=this.getChild("n28").asTextField,this._buildBtn=this.getChild("n23").asButton,this._buildBtn.onClick(this.ClickBuildTowerCall,this),this._canBuildGroup=this._buildBtn.getChild("n27").asGroup,this._buildNeedMoney=this._buildBtn.getChild("n25").asTextField,this._cantBuildGroup=this._buildBtn.getChild("n29").asGroup,this._unlockNeedTowerIcon=this._buildBtn.getChild("n28").asLoader},t.prototype.refreshData=function(e){this._recordNowTowerId=e,this._idx.text=(e-100*Math.floor(.01*e)).toString();var t=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Picture");this._towerIcon.url="AllTexture/allTexture/Turret/"+t,this._towerName.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Name"),this._towerAttack.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Attack"),this._towerDes.text=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Describe");var n=o.default.getInstance().getTableDataOne("Turret",e.toString(),"Type"),i=a.default.getInstance().getNowMaxLevelTowerId(n),r=o.default.getInstance().getTableDataOne("Turret",i.toString(),"Unlock"),s=a.default.getInstance().getTowerBuildPrice(e);this._recordNeedMoney=s;var l=a.default.getInstance().getNowGolds();if(this.grayed=e>r,this._towerIcon.color=cc.color(255,255,255),e<=r){this._buildBtn.visible=!0;var d=a.default.getInstance().getNowIsCanBuild();this._buildBtn.enabled=s<=l&&d,this._buildNeedMoney.text=a.default.getInstance().returnGlodString(s)}else{e<=i?this._towerIcon.color=cc.color(255,255,255):(this._towerIcon.color=cc.color(0,0,0),this._towerName.text="\uff1f\uff1f\uff1f",this._towerAttack.text="\uff1f",this._towerDes.text="\uff1f\uff1f\uff1f");var u=a.default.getInstance().getTowerUnLockNeedLevel(e);if(-1==u)this._buildBtn.visible=!1;else{this._buildBtn.visible=!0,this._buildBtn.touchable=!1;var c=o.default.getInstance().getTableDataOne("Turret",u.toString(),"Picture");this._unlockNeedTowerIcon.url="AllTexture/allTexture/Turret/"+c,this._unlockNeedTowerIcon.color=cc.color(0,0,0)}}this._setTxtColor(e>r),this._canBuildGroup.visible=e<=r,this._cantBuildGroup.visible=e>r},t.prototype._setTxtColor=function(e){e?(this._towerName.color=cc.color(46,46,46),this._towerAttack.color=cc.color(46,46,46),this._towerDes.color=cc.color(61,61,61)):(this._towerName.color=cc.color(255,249,196),this._towerAttack.color=cc.color(247,41,41),this._towerDes.color=cc.color(72,56,43))},t.prototype.ClickBuildTowerCall=function(){var e=this._recordNowTowerId;a.default.getInstance().towerBuildCountAdd(e),a.default.getInstance().glodChange(-this._recordNeedMoney),i.default.dispatchEvent(r.EventEnum.AddSomeTower,e)},t}(fgui.GButton);n.default=s,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager"}],ShopWnd:[function(e,t,n){"use strict";cc._RF.push(t,"cb7d0tGoBhAYq+NytQh3nbj","ShopWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/ConfigMgr"),i=e("../../Manager/GameDataManager"),r=e("../../Manager/EventManager"),s=e("../../Manager/EventEnum"),l=e("../Manager/WordEffManager"),d=e("../../SDK/SDKManager"),u=e("../Manager/SwitchLanguage"),c=e("../../SDK/WeiXinAPPSDK"),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordAllListBtn=[],t._recordNowClickType=1,t._recordListScrollIdx=[0,0,0],t._recordGlodShakeCount=0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){var e=this;switch(this._view=this.GetView(),this._closeBtn=this._view.getChild("n15").asButton,this._list=this._view.getChild("n34").asList,this._bgCloseBtn=this._view.getChild("n3").asLoader,this._notShowTip=this._view.getChild("n37").asGroup,this._listBtn1=this._view.getChild("n20").asButton,this._listBtn1.onClick(function(){e.ClickListTitleBtnCall(1)},this),this._listBtn1.getChild("n21").asLoader.url="ui://PopWnd/ui_shangdian_dangong",this._recordAllListBtn.push(this._listBtn1),this._listBtn2=this._view.getChild("n25").asButton,this._listBtn2.onClick(function(){e.ClickListTitleBtnCall(2)},this),this._listBtn2.getChild("n21").asLoader.url="ui://PopWnd/ui_shangdian_fuzu",this._recordAllListBtn.push(this._listBtn2),this._listBtn3=this._view.getChild("n26").asButton,this._listBtn3.onClick(function(){e.ClickListTitleBtnCall(3)},this),this._listBtn3.getChild("n21").asLoader.url="ui://PopWnd/ui_shangdian_qungong",this._recordAllListBtn.push(this._listBtn3),this._leftTurnPageBtn=this._view.getChild("n33").asButton,this._leftTurnPageBtn.onClick(this._leftTurnCall,this),this._rightTurnPageBtn=this._view.getChild("n32").asButton,this._rightTurnPageBtn.onClick(this._rightTurnCall,this),this._closeBtn.onClick(this.CloseSelf,this),this._list.itemRenderer=this.RefreshListCall.bind(this),this._playerGolds=this._view.getChild("n11").asTextField,this._glodFallPos=this._view.getChild("n10").asImage,this._goldGroup=this._view.getChild("n12").asGroup,this._goldGroup.y=d.default.getInstance().getLiuHaiPingSafeTopPos(),this._list.setVirtual(),this._titleSpt=this._view.getChild("n16").asLoader,u.default.GetInstance().ReturnNowLanuage()){case 0:this._titleSpt.url="ui://PopWnd/shop";break;case 1:this._titleSpt.url="ui://PopWnd/ui_shangdian_logo"}},t.prototype.OnOpen=function(e){c.default.getInstance().ShowAgreeBtn=!1,r.default.dispatchEvent(s.EventEnum.PauseGame),this._recordWnd=e,this._recordWnd.isOpenShopWnd=!0,this.RefreGoldShowTxt(),this._recordNowClickType=this._recordNowClickType<=0?1:this._recordNowClickType,this.ClickListTitleBtnCall(this._recordNowClickType,!0),r.default.addEventListener(s.EventEnum.GoldChange,this.OnGoldChangeCall,this),r.default.addEventListener(s.EventEnum.TowerCountChange,this.OnTowerChangeCall,this),r.default.addEventListener(s.EventEnum.TowerLevelChange,this.OnTowerChangeCall,this),r.default.addEventListener(s.EventEnum.TowerSoltChange,this.OnTowerChangeCall,this),r.default.addEventListener(s.EventEnum.DropGold,this.StartDropGlod,this)},t.prototype.OnClose=function(){r.default.dispatchEvent(s.EventEnum.ResumeGame),c.default.getInstance().ShowAgreeBtn=!0,this._refreshNowListScrollIdx(),this._recordWnd.isOpenShopWnd=!1,this._list.numItems=0,r.default.removeEventListener(s.EventEnum.GoldChange,this.OnGoldChangeCall,this),r.default.removeEventListener(s.EventEnum.TowerCountChange,this.OnTowerChangeCall,this),r.default.removeEventListener(s.EventEnum.TowerLevelChange,this.OnTowerChangeCall,this),r.default.removeEventListener(s.EventEnum.TowerSoltChange,this.OnTowerChangeCall,this),r.default.removeEventListener(s.EventEnum.DropGold,this.StartDropGlod,this)},t.prototype._refreshNowListScrollIdx=function(){this._recordListScrollIdx[this._recordNowClickType-1]=this._list.getFirstChildInView()},t.prototype.ClickListTitleBtnCall=function(e,t){if(void 0===t&&(t=!1),e!=this._recordNowClickType||t){t||this._refreshNowListScrollIdx();for(var n=0;n<3;n++)n!=e-1&&(this._recordAllListBtn[n].getChild("n20").visible=!1,this._recordAllListBtn[n].getChild("n21").visible=!1,this._recordAllListBtn[n].getChild("title").visible=!0);this._recordNowClickType=e,this._view.addChild(this._recordAllListBtn[e-1]),this._recordAllListBtn[e-1].getChild("n20").visible=!0,this._recordAllListBtn[e-1].getChild("n21").visible=!0,this._recordAllListBtn[e-1].getChild("title").visible=!1,this._leftTurnPageBtn.enabled=1!=this._recordNowClickType,this._rightTurnPageBtn.enabled=3!=this._recordNowClickType,this._resetPageData(e)}},t.prototype._resetPageData=function(e){this._recordTowerData=i.default.getInstance().getSomeTypeTowers(e);var t=i.default.getInstance().getNowLevelId(),n=o.default.getInstance().getTableDataOne("Wave",t.toString(),"Guide");if(this._list.numItems=0!=n&&n<e?0:this._recordTowerData.length,this._notShowTip.visible=0==this._list.numItems,0==this._notShowTip.visible){var a=this._recordListScrollIdx[this._recordNowClickType-1];a=a<=0?0:a,this._list.scrollToView(a)}},t.prototype._leftTurnCall=function(){this.ClickListTitleBtnCall(this._recordNowClickType-1)},t.prototype._rightTurnCall=function(){this.ClickListTitleBtnCall(this._recordNowClickType+1)},t.prototype.RefreshListCall=function(e,t){t.refreshData(this._recordTowerData[e])},t.prototype.StartDropGlod=function(e){l.default.getInstance().goldFallingEff(e.param,cc.v2(this._glodFallPos.x,this._glodFallPos.y),e.param2)},t.prototype.RefreGoldShowTxt=function(){var e=i.default.getInstance().getNowGolds();this._playerGolds.text=i.default.getInstance().returnGlodString(e)},t.prototype.OnGoldChangeCall=function(e){e>0&&this.GlodIconShake(),this.RefreGoldShowTxt(),this._list.refreshVirtualList()},t.prototype.OnTowerChangeCall=function(){this._list.refreshVirtualList()},t.prototype.GlodIconShake=function(){var e=this;this._recordGlodShakeCount++,this._recordGlodShakeCount=this._recordGlodShakeCount>20?20:this._recordGlodShakeCount;var t={min:1.2,max:1.4},n={min:.2,max:.4},a=this._recordGlodShakeCount/20,o=(1-a)*t.min+t.max*a,i=(1-a)*n.min+n.max*a;fgui.GTween.isTweening(this._glodFallPos)&&(fgui.GTween.kill(this._glodFallPos,!1),this._recordGlodShakeCount--),fgui.GTween.to(o,1,i).setTarget(this._glodFallPos).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._glodFallPos.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._recordGlodShakeCount=0,e._glodFallPos.setScale(1,1)},this)},t}(a.default);n.default=h,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../Base/BaseWindow":"BaseWindow","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/WordEffManager":"WordEffManager"}],SmallMonster:[function(e,t,n){"use strict";cc._RF.push(t,"3f1eaIl6RZApb03HxzLBvR6","SmallMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Normal,t.skillCDTime=999,t}return __extends(t,e),t.prototype.initData=function(t){var n;e.prototype.initData.call(this,t),this.getIsBigMonster()?(n=cc.v2(200,340),this.setCollisionRang(cc.v2(220,60))):(n=cc.v2(60,60),this.setCollisionRang(cc.v2(60,40))),this.setCollisionRang2(n)},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],SmokeMonster:[function(e,t,n){"use strict";cc._RF.push(t,"b3ccdpXHytHlqEGFBGHXO8h","SmokeMonster"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseMonster"),o=e("../Bullet/BaseBullet"),i=e("../../Manager/EffectOrAnimationManager"),r=e("../../Manager/DelayTimeManager"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.monsterType=a.MonsterAllType.Smoke,t.skillCDTime=0,t.smokeParent=null,t}return __extends(t,e),t.prototype.initData=function(t){e.prototype.initData.call(this,t);var n=this.getData().Smog;this.skillCDTime=n,this.refreshSkillTime();var a=cc.v2(80,80);this.setCollisionRang(a),this.setCollisionRang2(cc.v2(60,160))},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.bullettype==o.BulletType.NormalBullet)if(e.getMonsterId()==this.getUuid())return;var t=e.getDamage();this.normalCollisionState(t)}else console.log(e)},t.prototype.playSkillEff=function(){},t.prototype.playSkillVoice=function(){},t.prototype.useSkill=function(){var e=this;this._isUseSkill=!0;var t=this.getWordPos();t.y+=105,i.default.getInstance().playAnimation("smoke",t),r.default.AddDelayOnce(this.skillCDTime,function(){e._isUseSkill=!1},this)},t}(a.default);n.default=s,cc._RF.pop()},{"../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/EffectOrAnimationManager":"EffectOrAnimationManager","../Bullet/BaseBullet":"BaseBullet","./BaseMonster":"BaseMonster"}],StartWnd:[function(e,t,n){"use strict";cc._RF.push(t,"5efdf9KgOtPlauQxm+1ZOav","StartWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../Manager/WindowManager"),i=e("../MainUI/MainWnd"),r=e("../../Manager/GameDataManager"),s=e("../../Server/ServerManager"),l=e("../../Manager/EventManager"),d=e("../../Manager/EventEnum"),u=e("../../SDK/SDKManager"),c=e("../../Manager/AudioManager"),h=e("../MainUI/GameWnd"),f=e("./HangWnd"),g=e("../../Server/UpdateUserServer"),p=e("../../Server/SendUserIsShareServer"),_=e("../Manager/SwitchLanguage"),v=e("../../Game/GameCtr/MonsterManager"),I=e("../../Manager/ConfigMgr"),m=e("../Manager/WordEffManager"),C=e("../../Manager/ResourceLoadManager"),w=e("../../Server/CheckIsLoadOver"),y=e("./FocusWnd"),S=window.swan,A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._recordIsNeedResumeGame=!1,t._isAgree=!1,t._isFirst=!0,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){if(s.default.getInstance().startCallServer(w.default,1),this._view=this.GetView(),this._startGameBtn=this._view.getChild("n2").asButton,this._hangBtn=this._view.getChild("n3").asButton,this._resetBtn=this._view.getChild("n4").asButton,this._logoImage=this._view.getChild("n6").asLoader,this._levelBG=this._view.getChild("n16").asImage,this._level=this._view.getChild("n17").asTextField,this._kefu=this._view.getChild("n22").asButton,this._blackBg=this._view.getChild("n28").asLoader,this._resetView=this._view.getChild("n36").asGroup,this._qdBtn=this._view.getChild("n35").asButton,this._qxBtn=this._view.getChild("n34").asButton,this._userIdTxt=this._view.getChild("n42").asTextField,this._userIcon=this._view.getChild("n44").asCom,this.wxMoreGameBtn=this._view.getChild("n48").asButton,this.focusBtn=this._view.getChild("n52").asButton,this.focusBtn.visible=!1,this.focusBtnEff=this.focusBtn.getTransition("t0"),this._startGameBtn.onClick(this.StartBtnCall,this),this._hangBtn.onClick(this.ClickHangBtnCall,this),this.focusBtn.onClick(this.ClickFocusBtnCall,this),this._trans=this._view.getTransition("startWnd"),c.default.getInstance().InitAudioMgr(),S&&S.onShow(function(){c.default.getInstance().resumeNeedLoopAudio()}),S&&S.onAudioInterruptionEnd&&S.onAudioInterruptionEnd(function(){c.default.getInstance().resumeNeedLoopAudio()}),this._hangBtn.visible=!1,this._view.getChild("n45").visible=!1,this._view.getChild("n41").visible=!1,this._view.getChild("n50").visible=!1,this._resetBtn.visible=!1,this._kefu.visible=!1,console.log("//StartWnd.OnCreate"),S){var e=S.getSystemInfoSync(),t=S.createRecommendationButton({type:"list",style:{left:e.screenWidth-70,top:.2*e.screenHeight}});t.onLoad(function(){t.show()}),t.load();var n=new cc.Node("recordBtnBox");n.y=750*(.6*e.screenHeight-50)/e.screenWidth,n.x=70,cc.director.getScene().getChildByName("MainNode").addChild(n);var a=new cc.Node("start"),o=new cc.Node("stop ");n.addChild(a),n.addChild(o);var i=["https://coolant.miniant.cn/plantsVsZombies/bd_1.0.0/play.png","https://coolant.miniant.cn/plantsVsZombies/bd_1.0.0/stop.png"];cc.loader.load(i,function(e,t){if(!e){var n=a.addComponent(cc.Sprite),r=o.addComponent(cc.Sprite);n.spriteFrame=new cc.SpriteFrame(cc.loader.getRes(i[0])),r.spriteFrame=new cc.SpriteFrame(cc.loader.getRes(i[1])),a.active=!0,o.active=!1;var s=S.getVideoRecorderManager();s.onStart(function(e){console.log(">>>> start record:",e),a.active=!1,o.active=!0}),s.onStop(function(e){console.log(">>>> stop record:",e),S.shareVideo({videoPath:e.videoPath,success:function(){console.log("\u5f55\u5c4f\u5206\u4eab\u6210\u529f")},fail:function(e){console.log("\u5f55\u5c4f\u5206\u4eab\u5931\u8d25",e)},complete:function(){c.default.getInstance().resumeNeedLoopAudio(),console.log("\u5f55\u5c4f\u5206\u4eab\u5b8c\u6210")}}),a.active=!0,o.active=!1});a.on(cc.Node.EventType.TOUCH_END,function(){s.start({duration:60})},a);o.on(cc.Node.EventType.TOUCH_END,function(){s.stop()},o)}})}},t.prototype.OnOpen=function(e){if(void 0===e&&(e=0),c.default.getInstance().playAudio("Mp3/damage_1001",!0,0),this._resetView.visible=!1,this._blackBg.visible=!1,this._trans.play(function(){}),0==_.default.GetInstance().ReturnNowLanuage())this._levelBG.visible=!1,this._level.visible=!1;else{var t=r.default.getInstance().getNowBigLevel();this._level.text="\u5f53\u524d\u5173\u5361: \u7b2c"+t+"\u5173"}this._recordIsNeedResumeGame=1==e,this._startGameBtn.title=1==e?I.default.getInstance().getTableDataOne("Words","26","Describe"):I.default.getInstance().getTableDataOne("Words","25","Describe"),l.default.addEventListener(d.EventEnum.AgreeAuthorization,this.playerIsAgreeInfo,this),l.default.addEventListener(d.EventEnum.ShareOnRight,this.ShareOnRight,this),this.NewPlayerAutoPlayGame(),u.default.getInstance().getNowPlatform()==u.Platform.QTTWB&&(this._view.getChild("n41").visible=!1,this._view.getChild("n50").visible=!1,this._kefu.visible=!1)},t.prototype.ClickFocusBtnCall=function(){o.default.getInstance().OpenWindow("StartGame","FocusOnWnd",y.default,null,o.WindowLayer.PopupWnd)},t.prototype.ShareOnRight=function(){var e={param:1,param2:8};e.param3=r.default.getInstance().getNowLevelId(),s.default.getInstance().startCallServer(p.default,e)},t.prototype.OnClose=function(){this._startGameBtn.visible=!0,this._resetBtn.visible=!1,l.default.dispatchEvent(d.EventEnum.ResumeGame),l.default.dispatchEvent(d.EventEnum.RefreshAgreeBtnPos),this._trans.stop(),l.default.removeEventListener(d.EventEnum.ShareOnRight,this.ShareOnRight,this),l.default.removeEventListener(d.EventEnum.AgreeAuthorization,this.playerIsAgreeInfo,this),C.default.getInstance().checkIsNeedLoad()},t.prototype._refreshUserInfo=function(){this._userIdTxt.text="ID:"+s.default.getInstance().getUUID(),this._userIcon.getChild("n13").asLoader.url=u.default.getInstance().getPlayerIcon()},t.prototype.ClickHangBtnCall=function(){0!=r.default.getInstance().NowVersionIsNormal?o.default.getInstance().OpenWindow("StartGame","HangWnd",f.default,null,o.WindowLayer.PopupWnd):m.default.getInstance().DefaultCenterWordTip("\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u8be5\u529f\u80fd\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528")},t.prototype.playerIsAgreeInfo=function(e){e.param&&(u.default.getInstance().getUserInfo(function(e){s.default.getInstance().startCallServer(g.default,e)}),this._refreshUserInfo(),e.param2&&this.ClickHangBtnCall())},t.prototype.NewPlayerAutoPlayGame=function(){this._isFirst&&(this._isFirst=!1,1==r.default.getInstance().getNowBigLevel()&&this.StartBtnCall())},t.prototype.StartBtnCall=function(){if(this.CloseSelf(),this._recordIsNeedResumeGame){var e=r.default.getInstance().gameDefToChangeLevel();c.default.getInstance().resumeNeedLoopAudio(),v.default.getInstance().startLevel(e),l.default.dispatchEvent(d.EventEnum.RefreshLevelTag)}else o.default.getInstance().OpenWindow("MainWnd","MainWnd",i.default),o.default.getInstance().OpenWindow("MainWnd","GameWnd",h.default)},t.prototype.openCustomer=function(){0!=r.default.getInstance().NowVersionIsNormal?u.default.getInstance().openCustomer():m.default.getInstance().DefaultCenterWordTip("\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u8be5\u529f\u80fd\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528")},t}(a.default);n.default=A,cc._RF.pop()},{"../../Game/GameCtr/MonsterManager":"MonsterManager","../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager","../../SDK/SDKManager":"SDKManager","../../Server/CheckIsLoadOver":"CheckIsLoadOver","../../Server/SendUserIsShareServer":"SendUserIsShareServer","../../Server/ServerManager":"ServerManager","../../Server/UpdateUserServer":"UpdateUserServer","../Base/BaseWindow":"BaseWindow","../MainUI/GameWnd":"GameWnd","../MainUI/MainWnd":"MainWnd","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/WindowManager":"WindowManager","../Manager/WordEffManager":"WordEffManager","./FocusWnd":"FocusWnd","./HangWnd":"HangWnd"}],SubQutoutiaoCoinServer:[function(e,t,n){"use strict";cc._RF.push(t,"7d2f3Q3NrxITqGQlV3etKOA","SubQutoutiaoCoinServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../UI/Manager/WindowManager"),r=e("../UI/PopWnd/BuyQTTCoinWnd"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/sub_qutoutiao_coin",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID()},t.prototype.SuccessCall=function(e){e={code:0,message:""},console.log("//SubQutoutiaoCoinServer.SuccessCall",e),i.default.getInstance().GetWindow("BuyQTTCoinWnd",r.default).RefreshUI(0==e.code,e.message)},t.prototype.DefCall=function(){i.default.getInstance().GetWindow("BuyQTTCoinWnd",r.default).RefreshUI(!1,"\u7f51\u7edc\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")},t}(a.default);n.default=s,cc._RF.pop()},{"../UI/Manager/WindowManager":"WindowManager","../UI/PopWnd/BuyQTTCoinWnd":"BuyQTTCoinWnd","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],SuccessWnd:[function(e,t,n){"use strict";cc._RF.push(t,"1fc5cgC3idFgpoZzFxO5Lci","SuccessWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/EventManager"),i=e("../../Manager/EventEnum"),r=e("../../Manager/GameDataManager"),s=e("../Manager/WordEffManager"),l=e("../Manager/WindowManager"),d=e("./MonsterComTipWnd"),u=e("../../Manager/AudioManager"),c=e("../../SDK/SDKManager"),h=e("../../Server/ServerManager"),f=e("../../Manager/ConfigMgr"),g=e("../Manager/SwitchLanguage"),p=e("../../SDK/WeiXinAPPSDK"),_=e("../../Manager/ResourceLoadManager"),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isCanClick=!1,t._recordNewLevelId=-1,t._recordGoldCount=-1,t._isVideo=!1,t}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){switch(this._view=this.GetView(),this._showCom=this._view.getChild("n0").asCom,this._clickBtn=this._view.getChild("n6").asButton,this._nextLevelBtn=this._view.getChild("n8").asLoader,this._effectList=this._view.getChild("n10").asList,this._recordTipTxt=this._view.getChild("n11").asTextField,this._titleSpt=this._showCom.getChild("n2").asLoader,this._clickBtn.getChild("n3").visible=!1,this._nextLevelBtn.onClick(this._ClickCloseWnd,this),this._clickBtn.onClick(this._ClickBtnCall,this),g.default.GetInstance().ReturnNowLanuage()){case 0:this._titleSpt.url="ui://PopWnd/VIC";break;case 1:this._titleSpt.url="ui://PopWnd/ui_tiaozhuan_gongxitongguan"}},t.prototype.effect=function(){for(var e=this,t=function(t){var a=n._effectList.getChildAt(t);a.y=0,a.alpha=1,a.visible=!0;var o=200*Math.random()+600,i=3*Math.random()+2,r=2*Math.random();fgui.GTween.to(0,o,i).setTarget(a).setEase(fgui.EaseType.Linear).onUpdate(function(e){a.y=e.value.x},n).onComplete(function(){fgui.GTween.isTweening(a,1)&&fgui.GTween.kill(a,!0,1),fgui.GTween.to(1,0,.3).setTarget(a,1).onUpdate(function(e){a.alpha=e.value.x},e).onComplete(function(){a.visible=!1},e)},n).setDelay(r)},n=this,a=0;a<21;a++)t(a)},t.prototype.OnOpen=function(e){p.default.getInstance().ShowAgreeBtn=!1,o.default.dispatchEvent(i.EventEnum.PauseGame),c.default.getInstance().showBannerAD();(new Date).getHours(),Math.random();var t=this._clickBtn.getChild("n3").asLoader,n=r.default.getInstance().getJson();t.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!0,0==n.isopen&&(t.url="ui://PopWnd/ui_tiaozhuan_yingpian",this._isVideo=!0),this.effect(),this._isCanClick=!1,this._clickBtn.visible=!1,this._nextLevelBtn.visible=!1,this._recordTipTxt.visible=!1;var a=r.default.getInstance().returnGlodString(e.param);this._showCom.getChild("n5").asTextField.text="+"+a,this._recordGoldCount=e.param,this._recordNewLevelId=e.param2,this._ChangeScaleToOpen(),u.default.getInstance().stopAllAudio(),u.default.getInstance().playAudio("Mp3/win",!0,.5),this.refreshScoreOfHang()},t.prototype.OnClose=function(){o.default.dispatchEvent(i.EventEnum.ResumeGame),p.default.getInstance().ShowAgreeBtn=!0,c.default.getInstance().hideBannerAD(),r.default.getInstance().setJindutiaoValue(0),u.default.getInstance().playAudio("Mp3/fightbgm",!0,.7,!0)},t.prototype.refreshScoreOfHang=function(){switch(c.default.getInstance().getNowPlatform()){case 1:var e={rankName:"hang",score:r.default.getInstance().getNowBigLevel(),userId:h.default.getInstance().getUUID()};c.default.getInstance().refreshScore(e);break;case 2:var t={msg:"gameOver",data:{score:r.default.getInstance().getNowBigLevel()}};c.default.getInstance().postMessage(t)}},t.prototype._ClickBtnCall=function(){c.default.getInstance().ShareOrAds("4",this._rewardCall,this._shareDefault,null,this)},t.prototype._shareDefault=function(){var e=r.default.getInstance().getJson(),t=e.share_fail_tips[e.fail_tips_index[0]];s.default.getInstance().DefaultCenterWordTip(t),r.default.getInstance().setCurDefCallType("4")},t.prototype._rewardCall=function(){if(1!=r.default.getInstance().returnIsCanShare())if(1!=r.default.getInstance().getIsGroups()){this.CloseSelf();var e={};e.param=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/2),e.param2=3*this._recordGoldCount,o.default.dispatchEvent(i.EventEnum.OtherJoinAward,e);var t=f.default.getInstance().getTableDataOne("Words","13","Describe");if(s.default.getInstance().DefaultCenterWordTip(t),r.default.getInstance().getNowBigLevel()>6){if(_.default.getInstance().checkResIsLoadOver()){o.default.dispatchEvent(i.EventEnum.PlaySuccess),l.default.getInstance().OpenWindow("PopWnd","MonsterComTip",d.default,null,l.WindowLayer.NotFullScreen);var n=cc.find("Canvas/BG"),a=cc.find("Canvas/BG/BG2"),u=cc.find("Canvas/BG/BG3");r.default.getInstance().replaceBG(a,u,n)}}else{o.default.dispatchEvent(i.EventEnum.PlaySuccess),l.default.getInstance().OpenWindow("PopWnd","MonsterComTip",d.default,null,l.WindowLayer.NotFullScreen);n=cc.find("Canvas/BG"),a=cc.find("Canvas/BG/BG2"),u=cc.find("Canvas/BG/BG3");r.default.getInstance().replaceBG(a,u,n)}}else o.default.dispatchEvent(i.EventEnum.ShareToAnother,"4");else o.default.dispatchEvent(i.EventEnum.ShareToAnother,"4")},t.prototype._ClickCloseWnd=function(){if(this._isCanClick){this.CloseSelf();var e={};if(e.param=cc.v2(fgui.GRoot.inst.width/2,fgui.GRoot.inst.height/2),e.param2=this._recordGoldCount,o.default.dispatchEvent(i.EventEnum.OtherJoinAward,e),r.default.getInstance().getNowBigLevel()>6){if(_.default.getInstance().checkResIsLoadOver()){o.default.dispatchEvent(i.EventEnum.PlaySuccess),l.default.getInstance().OpenWindow("PopWnd","MonsterComTip",d.default,null,l.WindowLayer.NotFullScreen);var t=cc.find("Canvas/BG"),n=cc.find("Canvas/BG/BG2"),a=cc.find("Canvas/BG/BG3");r.default.getInstance().replaceBG(n,a,t)}}else{o.default.dispatchEvent(i.EventEnum.PlaySuccess),l.default.getInstance().OpenWindow("PopWnd","MonsterComTip",d.default,null,l.WindowLayer.NotFullScreen);t=cc.find("Canvas/BG"),n=cc.find("Canvas/BG/BG2"),a=cc.find("Canvas/BG/BG3");r.default.getInstance().replaceBG(n,a,t)}}},t.prototype._ChangeScaleToOpen=function(){var e=this;this._showCom.setScale(.8,.8),fgui.GTween.to(.8,1,.2).setTarget(this._showCom).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._showCom.setScale(t.value.x,t.value.x)},this).onComplete(function(){e._showCom.setScale(1,1),e._isCanClick=!0,e._clickBtn.visible=!0,e._nextLevelBtn.visible=!0,e._recordTipTxt.visible=!0},this)},t}(a.default);n.default=v,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/EventEnum":"EventEnum","../../Manager/EventManager":"EventManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager","../../SDK/SDKManager":"SDKManager","../../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","../../Server/ServerManager":"ServerManager","../Base/BaseWindow":"BaseWindow","../Manager/SwitchLanguage":"SwitchLanguage","../Manager/WindowManager":"WindowManager","../Manager/WordEffManager":"WordEffManager","./MonsterComTipWnd":"MonsterComTipWnd"}],SwitchLanguage:[function(e,t,n){"use strict";cc._RF.push(t,"c7f636NxAxD+50okfM59hOe","SwitchLanguage"),Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.English=0]="English",e[e.Chinese=1]="Chinese"}(n.LocalLanuage||(n.LocalLanuage={}));var a=function(){function e(){this._recordTxtMap={},this._recordNowLanguage=1,this._recordAllNeedCtrCom={}}return e.GetInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.SwithTo=function(e){var t=this;this._recordNowLanguage=e,this._recordTxtMap[e]?this.FguiLoadString(this._recordTxtMap[e]):cc.loader.loadRes("Language/language"+e,function(n,a){n?console.log("\u52a0\u8f7d\u8bed\u8a00\u9519\u8bef\uff01:",n):(t._recordTxtMap[e]=a.text,t.FguiLoadString(a.text))}),this._SwitchSelfLanguage()},e.prototype.ReturnNowLanuage=function(){return this._recordNowLanguage},e.prototype.FguiLoadString=function(e){fgui.UIPackage.setStringsSource(e)},e.prototype._SwitchSelfLanguage=function(){for(var e in this._recordAllNeedCtrCom)for(var t=this._recordAllNeedCtrCom[e].length,n=0;n<t;n++)null!=this._recordAllNeedCtrCom[e][n]&&(this._recordAllNeedCtrCom[e][n].visible=parseInt(e)==this._recordNowLanguage)},e.prototype.AddChangeLanuageListener=function(e,t){null!=t?(null==this._recordAllNeedCtrCom[e]&&(this._recordAllNeedCtrCom[e]=[]),this._recordAllNeedCtrCom[e].push(t)):cc.error("\u4f20\u5165\u5bf9\u8c61\u4e3a\u7a7a\uff01\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e}();n.default=a,cc._RF.pop()},{}],Tools:[function(e,t,n){"use strict";cc._RF.push(t,"810f7s18HFASJnyYAhSgc0r","Tools"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){}return e.TextureToBase64=function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.width,t.height=e.height;var a=e.getHtmlElementObj();return n.drawImage(a,0,0),t.toDataURL("image/png")},e.GetNowScenceBase64=function(e){void 0===e&&(e=4294967295),null==this._recordCameraNode&&(this._recordCameraNode=new cc.Node,this._recordCameraNode.parent=cc.director.getScene(),this._recordCameraNode.addComponent(cc.Camera)),this._recordCameraNode.active=!0;var t=this._recordCameraNode.getComponent(cc.Camera),n=cc.view.getVisibleSize().width,a=cc.view.getVisibleSize().height;t.cullingMask=e;var o=new cc.RenderTexture;o.initWithSize(n,a),t.targetTexture=o;cc.find("GRoot");t.render(cc.director.getScene());var i=o.readPixels(),r=o.width,s=o.height,l=document.createElement("canvas"),d=l.getContext("2d");l.width=r,l.height=s;for(var u=4*r,c=0;c<s;c++){for(var h=s-1-c,f=d.createImageData(r,1),g=h*r*4,p=0;p<u;p++)f.data[p]=i[g+p];d.putImageData(f,0,c)}var _=l.toDataURL("image/jpeg");return this._recordCameraNode.active=!1,_},e.GetWHBase64=function(e,t,n){void 0===e&&(e=4294967295),null==this._recordCameraNode&&(this._recordCameraNode=new cc.Node,this._recordCameraNode.parent=cc.director.getScene(),this._recordCameraNode.addComponent(cc.Camera)),this._recordCameraNode.active=!0;var a=this._recordCameraNode.getComponent(cc.Camera),o=cc.view.getVisibleSize().width,i=cc.view.getVisibleSize().height;this._recordCameraNode.setPosition(o/2,i/2),a.cullingMask=e;var r=new cc.RenderTexture;r.initWithSize(t,n),a.targetTexture=r;var s=cc.find("GRoot");a.render(s);var l=r.readPixels(),d=r.width,u=r.height,c=document.createElement("canvas"),h=c.getContext("2d");c.width=d,c.height=u;for(var f=4*d,g=0;g<u;g++){for(var p=u-1-g,_=h.createImageData(d,1),v=p*d*4,I=0;I<f;I++)_.data[I]=l[v+I];h.putImageData(_,0,g)}var m=c.toDataURL("image/jpeg");return this._recordCameraNode.active=!1,m},e.GetWHTexture=function(e,t,n){void 0===e&&(e=4294967295),null==this._recordCameraNode&&(this._recordCameraNode=new cc.Node,this._recordCameraNode.parent=cc.director.getScene(),this._recordCameraNode.addComponent(cc.Camera)),this._recordCameraNode.active=!0;var a=this._recordCameraNode.getComponent(cc.Camera),o=cc.view.getVisibleSize().width,i=cc.view.getVisibleSize().height;this._recordCameraNode.setPosition(o/2,i/2),a.cullingMask=e;var r=new cc.RenderTexture;r.initWithSize(t,n),a.targetTexture=r;var s=cc.find("GRoot");return a.render(s),this._recordCameraNode.active=!1,r},e.GetBase64ByTexture=function(e){var t=e.readPixels(),n=e.width,a=e.height,o=document.createElement("canvas"),i=o.getContext("2d");o.width=n,o.height=a;for(var r=4*n,s=0;s<a;s++){for(var l=a-1-s,d=i.createImageData(n,1),u=l*n*4,c=0;c<r;c++)d.data[c]=t[u+c];i.putImageData(d,0,s)}return o.toDataURL("image/jpeg")},e.OpenWordTips=function(e){if(!e.active){e.active=!0;var t=cc.fadeIn(.5),n=cc.fadeOut(.5),a=cc.moveBy(1,cc.v2(0,110)),o=cc.place(cc.v2(0,35)),i=cc.callFunc(function(){e.active=!1},this),r=cc.sequence(o,t,a,n,o,i);e.runAction(r)}},e.WordTips=function(e){var t=new fgui.GTextField,n=fgui.GRoot.inst.width,a=fgui.GRoot.inst.height;t.setPosition(n/2,a/2),t.autoSize=3,t.text=e,t.fontSize=30},e.CreateImage=function(e,t){var n=new Image;n.crossOrigin="anonymous",n.src=t,n.onload=function(){var t=new cc.Texture2D;t.initWithElement(n),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t),e.enabled=!0}},e.Base64ToShow=function(e,t,n){var a=new Image;a.crossOrigin="anonymous",a.src=e,a.onload=function(){var e=new cc.Texture2D;e.initWithElement(a),e.handleLoadedTexture();var o=new cc.SpriteFrame(e);t.texture=null,t.texture=o,n&&n()}},e.GetBase64=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,a,o=this;return __generator(this,function(i){switch(i.label){case 0:return[4,fetch(e).then(function(e){return e.blob()}).then(function(e){return URL.createObjectURL(e)})];case 1:return n=i.sent(),(a=new Image).crossOrigin="anonymous",a.src=n,a.onload=function(){var e=new cc.Texture2D;e.initWithElement(a),e.handleLoadedTexture();var n=o.TextureToBase64(e);t(n)},[2]}})})},e.ChangeURL=function(e,t,n,a,o){return void 0===n&&(n=!1),__awaiter(this,void 0,void 0,function(){var i,r;return __generator(this,function(s){switch(s.label){case 0:return[4,fetch(e).then(function(e){return e.blob()}).then(function(e){return URL.createObjectURL(e)})];case 1:return i=s.sent(),(r=new Image).crossOrigin="anonymous",r.src=i,r.onload=function(){var e=new cc.Texture2D;e.initWithElement(r),e.handleLoadedTexture(),a&&o&&(e.width=a,e.height=o);var i=new cc.SpriteFrame(e);t.texture=i,n&&(t.width=e.width,t.height=e.height),a&&o&&t.texture.setOriginalSize(cc.size(a,o))},[2]}})})},e.PreviewUpLoadTexture=function(t,n,a,o){void 0===a&&(a=400),void 0===o&&(o=400);var i=new Image;i.crossOrigin="anonymous",i.src=URL.createObjectURL(n),i.onload=function(){var n=new cc.Texture2D;n.initWithElement(i),n.handleLoadedTexture();var r=e.ReturnSuitableSize(n.width,n.height,a,o),s=new cc.SpriteFrame(n);t.texture=s,t.width=r.x,t.height=r.y}},e.ReturnSuitableSize=function(e,t,n,a,o,i){var r=n,s=a;o=o||e,i=i||t,o=o>n?.8*n:o,i=i>a?.8*a:i;var l=!1,d=new cc.Vec2(0,0);console.log(e,t,n,a,o,i);for(var u=o;u<=r;u++)if(d.x=u,d.y=d.x/e*t,d.y<=s){l=!0;break}if(0==l)for(u=i;u<=s&&(d.y=u,d.x=d.y/t*e,!(d.x<=r));u++);return console.log(d),d},e.CreateFileInputElement=function(){var e=document.createElement("input");return e.name="file",e.id="file",e.type="file",e},e.CheckNowFileNameIsTexture=function(e){var t=e.split(".");console.log("\u5f53\u524d\u6587\u4ef6\u683c\u5f0f\u4e3a\uff1a",t[t.length-1]);var n=t[t.length-1].toLowerCase();return"png"==n||"jpg"==n||"jpeg"==n||"bmp"==n||(console.log("\u6587\u4ef6\u683c\u5f0f\u4e0d\u6b63\u786e!"),!1)},e.ChangeFileToFormData=function(e,t,n){void 0===n&&(n="UpName");var a=new FormData,o=e;return a.append(t,o,name),a},e.DisposeVideoPlayer=function(){var e=document.getElementsByClassName("cocosVideo")[0];console.log(e),e.style.zIndex="5";var t=document.getElementsByClassName("gameCanvas")[0];console.log(t),t.style.position="relative",t.style.zIndex="10",cc.Camera.main.backgroundColor=cc.color(0,0,0,0)},e.GetQueryString=function(e){void 0===e&&(e="headUrl");var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null},e.ConversionSecondTo=function(e){var t=Math.floor(e/60),n=e%60;return(t<10?"0"+t:String(t))+":"+(n<10?"0"+n.toFixed(0):n.toFixed(0))},e.randomNumber=function(e){for(var t=[],n=0;n<=e;n++)t.push(n);return t.sort(function(){return.5-Math.random()}),t[0]},e.ChangeString=function(e,t,n){var a="";if(this.GetStrStaticLength(e)>2*n){for(var o=0,i=0;i<2*n;i++)e.charCodeAt(o)>127?(a+=e[o],i++):a+=e[o],o++;a+=t}else a=e;return a},e.GetStrStaticLength=function(e){for(var t=0,n=e.length,a=0;a<n;a++)e.charCodeAt(a)>127?t+=2:t+=1;return t},e._recordCameraNode=null,e}();n.default=a,cc._RF.pop()},{}],TowerManager:[function(e,t,n){"use strict";cc._RF.push(t,"8933dLopWRPZ5wLji+FmN0f","TowerManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/GameDataManager"),o=e("../../Manager/ConfigMgr"),i=function(){function e(){this._recordAllTower=null,this._recordNowIsInUpTimeBuff=!1,this._recordNowBuffUseTime=0}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addTowerToRecord=function(e){null==this._recordAllTower&&(this._recordAllTower=[]),this._recordAllTower.push(e)},e.prototype.removeTowerToRecord=function(e){for(var t=-1,n=0;n<this._recordAllTower.length;n++)e.GetIdx()==this._recordAllTower[n].GetIdx()&&(t=n);-1!=t?this._recordAllTower.splice(t,1):console.log("\u672a\u627e\u5230\u8981\u5220\u9664\u7684\u70ae\u5854!")},e.prototype.update=function(e){if(this._recordNowIsInUpTimeBuff&&(this._recordNowBuffUseTime-=e,this._recordNowBuffUseTime<=0&&this.stopTowerUpTimeBuff()),null!=this._recordAllTower)for(var t=this._recordAllTower.length,n=0;n<t;n++)this._recordAllTower[n].RefrshTulipSpeedTime(e),this._recordAllTower[n].ChangeAttackTime(-e)},e.prototype.startUseUpTimeBuff=function(){null==this.BUFF_CONTINUE_TIME&&(this.BUFF_CONTINUE_TIME=parseFloat(o.default.getInstance().getTableDataOne("Words","20","Describe"))),a.default.getInstance().useUpTimeBuffCount(),this._recordNowIsInUpTimeBuff=!0,this._recordNowBuffUseTime=this.BUFF_CONTINUE_TIME;for(var e=this._recordAllTower.length,t=0;t<e;t++)this._recordAllTower[t].SetBuffState(!0)},e.prototype.stopTowerUpTimeBuff=function(){this._recordNowIsInUpTimeBuff=!1;for(var e=this._recordAllTower.length,t=0;t<e;t++)this._recordAllTower[t].SetBuffState(!1)},e}();n.default=i,cc._RF.pop()},{"../../Manager/ConfigMgr":"ConfigMgr","../../Manager/GameDataManager":"GameDataManager"}],TowerPrefab:[function(e,t,n){"use strict";cc._RF.push(t,"d8dd0hOEoVGzrp3pqJMOwhA","TowerPrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../../Manager/ResourceLoadManager"),o=e("../../Manager/ConfigMgr"),i=e("../../Game/GameCtr/TowerManager"),r=e("../../Game/GameCtr/BulletManager"),s=e("../../Game/GameCtr/MonsterManager"),l=e("../../Manager/AudioManager"),d=e("../../Manager/DelayTimeManager"),u=e("../../Manager/GameDataManager"),c=function(){function e(){this._attackMaxTime=-1,this._attackNowTime=-1,this._recordTowerAttackRange=-1,this._recordNowLayer=-1,this._recordIsInUpTimeBuff=!1,this._isTulipAddSpeed=!1,this._lastTulipIdx=-1,this.tulipAddSpeedTime=0,this._recordSendTime=0,this._recordNowSendCount=0,this._tulipEffList=null,this._tuilpWaveEff=null,this._isInShake=!1,this._isReset=!1,this.TULIP_SPEED_TIME=-1}return e.prototype.InitData=function(e,t,n,a,o){var r=this;if(null==this._dropNode){this._towerCom=new fgui.GComponent,this._towerCom.setSize(132,156),this._towerCom.setPivot(.5,.5,!0),this._dropNode=new fgui.GLoader,this._dropNode.setSize(132,156),this._dropNode.setPosition(66,78),this._dropNode.setPivot(.5,.5,!0),this._towerCom.draggable=!0,this._towerCom.addChild(this._dropNode),this._towerCom.on(fgui.Event.DRAG_START,this.StartDrop,this),this._towerCom.on(fgui.Event.DRAG_END,this.DropEndCall,this),this._parentClass=n;var s=new cc.Node;this._dropNode.node.addChild(s),this._ccNode=s,this._ccNode.anchorY=0,this._ccNode.setPosition(0,-78),this._spriteCom=this._ccNode.addComponent(cc.Sprite);var l=new cc.Node;this._dropNode.node.addChild(l),this._compoundEffNode=l,this._compoundEffNode.anchorY=0,this._compoundEffNode.setPosition(0,-78),this._compoundEffSpriteCom=this._compoundEffNode.addComponent(cc.Sprite),this._compoundEffNode.active=!1;var d=new fgui.GLoader;d.setPivot(.5,.5,!0),d.autoSize=!0,d.touchable=!1,d.sortingOrder=1,this._towerAttackEff=d;var c=fgui.UIPackage.createObject("MainWnd","FirstEff").asMovieClip;c.visible=!1,c.playing=!1,c.setPivot(.5,.5,!0),c.setPosition(this._dropNode.x,this._dropNode.y),c.setScale(.8,.6),c.alpha=.8;var h=fgui.UIPackage.createObject("MainWnd","loopEff").asMovieClip;h.visible=!1,h.playing=!1,h.alpha=.8,h.setScale(.8,.6),h.setPivot(.5,.5,!0),h.setPosition(this._dropNode.x,this._dropNode.y),this._parentClass.GetView().addChild(c),this._parentClass.GetView().addChild(h),this._firstEff=c,this._loopEff=h,this._firstEff.setPlaySettings(0,-1,1,-1,function(){r._firstEff.visible=!1,r._firstEff.playing=!1,r._loopEff.visible=!0,r._loopEff.playing=!0},this)}else this._towerCom.visible=!0;if(this.SetIdx(e),this.SetTowerId(t),o)this.CreateEff(o,a),this._setPlantBoold(3),u.default.getInstance().ChangeSomeTowerBlood(e,3);else{this.SetPos(a.x,a.y);var f=u.default.getInstance().GetSomeTowerBlood(e);this._setPlantBoold(f)}return this._ccNode.scaleY=1,i.default.getInstance().addTowerToRecord(this),this.SetBuffState(!1),this._isReset=!1,this._recordNowSendCount=0,this._ccNode.color=cc.Color.WHITE,this._dropNode},e.prototype._setBloodValue=function(e){null!=this._recordBloodImg?(e-=.001,this._recordBloodImg.fillAmount=e):cc.error("\u4e0d\u5e94\u4e3a\u7a7a\u7684\u8840\u6761\uff01")},e.prototype._setPlantBoold=function(e){null==this._booldCom&&(this._booldCom=fgui.UIPackage.createObject("MainWnd","plantLifeCom").asCom,this._towerCom.addChild(this._booldCom),this._booldCom.setPosition(90,30),this._recordBloodImg=this._booldCom.getChild("bar_v").asImage,this._recordBloodImg.fillMethod=fgui.FillMethod.Vertical,this._recordBloodImg.fillOrigin=fgui.FillOrigin.Top),this._booldCom.visible=3!=e,this._setBloodValue(e/3)},e.prototype.subNowBoold=function(){this._shakeAndChangeColor();var e=u.default.getInstance().GetSomeTowerBlood(this._idx);u.default.getInstance().ChangeSomeTowerBlood(this._idx,e-1),this._booldCom.visible=e-1!=3,this._setBloodValue((e-1)/3)},e.prototype._shakeAndChangeColor=function(){var e=this;if(!this._isInShake){this._isInShake=!0;var t=this._ccNode,n=cc.v2(t.x,t.y);fgui.GTween.shake(0,0,5,1).setTarget(t,"shake").setEase(fgui.EaseType.Linear).onStart(function(){t.color=cc.Color.WHITE},this).onUpdate(function(e){var a=e.normalizedTime/1;t.color=cc.color(255-25*a,255-216*a,255-203*a),t.setPosition(n.x+e.value.x,n.y+e.value.y)},this).onComplete(function(){t.color=cc.Color.WHITE,t.setPosition(n),e._isInShake=!1},this).setDelay(.5)}},e.prototype.SetBuffState=function(e,t){var n=this;if(void 0===t&&(t=!1),0==t){if(e&&(this.CloseTulipSpeed(),this._towerId>=10317&&this._towerId<=10320))return;this._recordIsInUpTimeBuff=e}if(null==this.UP_TIME_SCALE&&(this.UP_TIME_SCALE=parseFloat(o.default.getInstance().getTableDataOne("Words","22","Describe"))),this._recordSendTime=e?this._attackMaxTime-this._attackMaxTime/this.UP_TIME_SCALE:0,e){if(this._firstEff.playing)return void cc.error("\u4e0d\u5e94\u51fa\u73b0\u7684\u52a8\u6548\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01");this._firstEff.setPlaySettings(0,-1,1,-1,function(){n._firstEff.visible=!1,n._firstEff.playing=!1,n._loopEff.visible=!0,n._loopEff.playing=!0},this),this._firstEff.visible=!0,this._firstEff.playing=!0}else this._firstEff.playing=!1,this._loopEff.playing=!1,this._firstEff.visible=!1,this._loopEff.visible=!1},e.prototype.CreateEff=function(e,t){var n=this;if(fgui.GTween.isTweening(this))console.log("\u6b63\u5728\u7279\u6548\u8fd0\u52a8\uff1f");else{fgui.GTween.to2(e.x,e.y,t.x,t.y,.1).setTarget(this).setEase(fgui.EaseType.Linear).onUpdate(function(e){n._towerCom.setPosition(e.value.x,e.value.y)},this).onComplete(function(){n.SetPos(t.x,t.y)},this)}},e.prototype.SetPos=function(e,t){this._attackNowTime=this._attackMaxTime,this._pos=cc.v2(e,t),this._towerCom.setPosition(e,t),this._firstEff.setPosition(e,t),this._loopEff.setPosition(e,t),this._towerAttackEff.setPosition(e,t),this._SetAttackRange(),this.SetTulipPos(e,t)},e.prototype.SetTulipPos=function(e,t){if(null!=this._tulipEffList){for(var n=this._tulipEffList.length,a=0;a<n;a++)this._tulipEffList[a].setPosition(e,t);this._tuilpWaveEff.setPosition(e,t)}},e.prototype.FirstSetTulipPos=function(){if(null!=this._tulipEffList){for(var e=this._tulipEffList.length,t=0;t<e;t++)this._tulipEffList[t].setPosition(this._pos.x,this._pos.y);this._tuilpWaveEff.setPosition(this._pos.x,this._pos.y)}},e.prototype.GetPos=function(){return this._pos},e.prototype.SetIdx=function(e){var t=this._idx;this._idx=e;var n=e%5+1;if(this._path=n,this._recordNowLayer=Math.floor(this._idx/5),t!=this._idx){var a=Math.floor(t/5),o=Math.floor(this._idx/5);a!=o&&(this._towerCom.removeFromParent(),u.default.getInstance().getSomeLayerObj(o).addChild(this._towerCom),this._towerAttackEff.removeFromParent(),u.default.getInstance().getSomeLayerObj(o).addChild(this._towerAttackEff))}},e.prototype.GetIdx=function(){return this._idx},e.prototype.GetPath=function(){return this._path},e.prototype.SetTowerId=function(e){if(this._towerId=e,this._attackMaxTime=o.default.getInstance().getTableDataOne("Turret",e.toString(),"AttackGap"),this._attackNowTime=this._attackMaxTime,0!=this._towerId){var t=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Picture");this._spriteCom.spriteFrame=a.default.getInstance().getRes("AllTexture/allTexture/Turret/"+t)}},e.prototype.ChangeAttackTime=function(e){-1!=this._attackNowTime&&(this._CheckMonsterCanAttack()?(this._attackNowTime+=e,this._CheckNowPlayAttackEff(),this._attackNowTime<this._recordSendTime&&(this._attackNowTime=this._attackMaxTime,this.playAttactAudioEffect())):(this._attackNowTime<this._recordSendTime&&(this._attackNowTime=0),this._CloseNowAttackEff()))},e.prototype._CheckNowPlayAttackEff=function(){if(null==this._towerAttackEff.url){var e=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Others").split(","),t=parseInt(e[0]);if(-1!=t&&this._recordNowSendCount>=t){var n=parseInt(e[1]);8==o.default.getInstance().getTableDataOne("Shell",n.toString(),"Type")&&(this._towerAttackEff.url="ui://MainWnd/"+this._towerId)}}},e.prototype._CloseNowAttackEff=function(){this._towerAttackEff.url=null},e.prototype._CheckMonsterCanAttack=function(){if(this._towerId>=10317&&this._towerId<=10320)return!0;for(var e=s.default.getInstance().getNowAllMonster(),t=0,n=e.length;t<n;t++)if(null!=e[t]&&this._CheckMonsterPath(e[t].getNowPath())&&!e[t].nowMonsterIsDeading()&&e[t].getWordPos().y<this.GetTowerAttackRange())return!0;return!1},e.prototype._CheckMonsterPath=function(e){if(Math.ceil(e)!=e){var t=Math.ceil(e),n=t-1;return t==this._path||n==this._path}return this._path==e},e.prototype.GetTowerAttackRange=function(){return this._recordTowerAttackRange},e.prototype._SetAttackRange=function(){var e=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Range"),t=cc.v2(this._pos.x,cc.winSize.height-this._pos.y);this._recordTowerAttackRange=t.y+e},e.prototype.GetTowerId=function(){return this._towerId},e.prototype.TowerUpLevel=function(){var e=this;if(u.default.getInstance().ChangeSomeTowerBlood(this._idx,3),this._setPlantBoold(3),this._recordNowSendCount=0,this._CloseNowAttackEff(),!this._isReset){this.SetBuffState(!1),this._attackNowTime=-1,fgui.GTween.isTweening(this._ccNode,"attack")&&(fgui.GTween.kill(this._ccNode,!1,"attack"),this._ccNode.scaleY=1),l.default.getInstance().PlayEffByConfigID(402,.6);var t=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Picture");if(this._compoundEffSpriteCom.spriteFrame=a.default.getInstance().getRes("AllTexture/allTexture/Turret/"+t),this._compoundEffNode.active=!0,this._towerCom.draggable=!1,!fgui.GTween.isTweening(this))return this._compoundEffNode.x-=100,this._ccNode.x+=100,fgui.GTween.to(0,100,.25).setTarget(this).setEase(fgui.EaseType.BackIn).onUpdate(function(t){e._compoundEffNode.x=t.value.x-100,e._ccNode.x=100-t.value.x},this).onComplete(function(){e._compoundEffNode.x=0,e._ccNode.x=0,e._compoundEffNode.active=!1,e._towerCom.draggable=!0,e._attackNowTime=e._attackMaxTime},this),this.SetTowerId(this._towerId+1),this.GetTowerId();console.log("\u7a0b\u5e8f\u5f02\u5e38\uff01")}},e.prototype.StartDrop=function(){this._isReset||(this._CloseNowAttackEff(),this._attackNowTime=-1,fgui.GTween.isTweening(this._ccNode,"attack")&&(fgui.GTween.kill(this._ccNode,!1,"attack"),this._ccNode.scaleY=1),this._towerCom.removeFromParent(),u.default.getInstance().getSomeLayerObj(3).addChild(this._towerCom))},e.prototype.DropEndCall=function(e){this._isReset||(this._towerCom.removeFromParent(),u.default.getInstance().getSomeLayerObj(Math.floor(this._idx/5)).addChild(this._towerCom),e&&(this.recordNowPos=e.pos),this._parentClass.OnDropOverCall(this))},e.prototype.ResetData=function(){this._setPlantBoold(0),u.default.getInstance().ChangeSomeTowerBlood(this._idx,0),this._recordNowSendCount=0,this._CloseNowAttackEff(),this._isReset=!0,this._towerCom.removeFromParent(),u.default.getInstance().getSomeLayerObj(Math.floor(this._idx/5)).addChild(this._towerCom),this.SetBuffState(!1);for(var e=this._tulipEffList?this._tulipEffList.length:0,t=0;t<e;t++)this._tulipEffList[t].visible=!1;this.CloseTulipSpeed(),this._towerCom.visible=!1,i.default.getInstance().removeTowerToRecord(this)},e.prototype.ResetPosition=function(){this._CloseNowAttackEff(),this._attackNowTime=this._attackMaxTime,this._towerCom.setPosition(this._pos.x,this._pos.y),fgui.GTween.isTweening(this)&&fgui.GTween.kill(this,!0)},e.prototype.playAttactAudioEffect=function(){var e=this;if(fgui.GTween.isTweening(this._ccNode,"attack"))return cc.error("\u52a8\u753b\u64ad\u653e\u5f02\u5e38\u91cd\u590d"),void fgui.GTween.kill(this._ccNode,!0);fgui.GTween.to(1,.8,.1).setTarget(this._ccNode,"attack").onUpdate(function(t){e._ccNode.scaleY=t.value.x},this).onComplete(function(){var t=o.default.getInstance().getTableDataOne("Turret",e._towerId.toString(),"FireVoice"),n=o.default.getInstance().getTableDataOne("Turret",e._towerId.toString(),"FireVoice_C"),a=o.default.getInstance().getTableDataOne("Turret",e._towerId.toString(),"Shellid"),i=o.default.getInstance().getTableDataOne("Turret",e._towerId.toString(),"Others").split(","),r=parseInt(i[0]),s=0;-1==r?s=a:e._recordNowSendCount>=r?(s=parseInt(i[1]),8==o.default.getInstance().getTableDataOne("Shell",s.toString(),"Type")&&(t=509)):s=a;var u=31/o.default.getInstance().getTableDataOne("Shell",s.toString(),"Speed")*.016;e._StartAttack(),l.default.getInstance().PlayEffByConfigID(t,n),d.default.AddDelayOnce(u,function(){e._ccNode.scaleY=1,e._CloseNowAttackEff()},e)},this)},e.prototype._StartAttack=function(){var e=this,t=this.GetPos(),n=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Shellid"),a=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"TR_Fire").split(",");t=cc.v2(t.x,fgui.GRoot.inst.height-t.y);var i=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Others").split(","),s=parseInt(i[0]),l=0;if(-1==s?l=n:this._recordNowSendCount>=s?(l=parseInt(i[1]),this._recordNowSendCount=0):(this._recordNowSendCount++,l=n),10!=o.default.getInstance().getTableDataOne("Shell",l.toString(),"Type"))if(1==a.length){if((d=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"ray").split(",").map(Number)).length>1)return void r.default.getInstance().createMeanwhileBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),d[1],d[0],0,this.GetPath());1==(c=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Channel"))?r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath()):3==c?(r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()-1),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()+1)):5==c?(r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()-1),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()-2),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()+1),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),this.GetPath()+2)):(console.log("-----------\u300b\u672a\u77e5\u7684\u70ae\u5854ID"),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath()))}else{var d,c;if((d=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"ray").split(",").map(Number)).length>1)return void r.default.getInstance().createMultiMeanwhileBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),d[1],d[0],0,this.GetPath());1==(c=o.default.getInstance().getTableDataOne("Turret",this._towerId.toString(),"Channel"))?r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()):3==c?(r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()-1),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()+1)):5==c?(r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()-1),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()-2),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()+1),r.default.getInstance().createMultiBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath(),parseInt(a[0]),parseFloat(a[1]),this.GetPath()+2)):(console.log("-----------\u300b\u672a\u77e5\u7684\u70ae\u5854ID"),r.default.getInstance().createBullet(this._recordNowLayer,this._towerId,l,t,this.GetPath()))}else{if(null==this._tulipEffList){this._tulipEffList=[];for(var h=0;h<4;h++){var f=new fgui.GLoader;f.setSize(154,113),f.setPivot(1,.5,!0),f.playing=!1,f.rotation=90*h,f.visible=!1,f.touchable=!1,u.default.getInstance().getSomeLayerObj(3).addChildAt(f,0),this._tulipEffList.push(f)}this._tuilpWaveEff=fgui.UIPackage.createObject("MainWnd","WaveEff").asMovieClip,this._tuilpWaveEff.setPivot(.5,.5,!0),this._tuilpWaveEff.visible=!1,this._tuilpWaveEff.playing=!1,u.default.getInstance().getSomeLayerObj(3).addChildAt(this._tuilpWaveEff,0),this.FirstSetTulipPos()}var g=o.default.getInstance().getTableDataOne("Shell",l.toString(),"Position").split(","),p=g.length,_=function(t){if(""!=g[t]){var n=parseInt(g[t])%4;""!=v._tulipEffList[n].url&&null!=v._tulipEffList[n].url||(v._tulipEffList[n].url="ui://MainWnd/TulipEff"),v._tulipEffList[n]._content.setPlaySettings(0,-1,1,-1,function(){e._tulipEffList[n].visible=!1,e._tulipEffList[n]._content.playing=!1;var t=0;switch(n){case 0:if(e._idx%5==0)return;t=e._idx-1;break;case 1:if(e._idx/5<1)return;t=e._idx-5;break;case 2:if(e._idx%5==4)return;t=e._idx+1;break;case 3:if(e._idx/5>2)return;t=e._idx+5}e._parentClass._recordNowTower[t]&&e._parentClass._recordNowTower[t].TulipAddSpeed(t)},v),v._tulipEffList[n].visible=!0,v._tulipEffList[n]._content.playing=!0}},v=this;for(h=0;h<p;h++)_(h)}},e.prototype.TulipAddSpeed=function(e){this._towerId>=10317&&this._towerId<=10320||this._recordIsInUpTimeBuff||this._lastTulipIdx!=e&&(this._lastTulipIdx=e,this._isTulipAddSpeed?(-1==this.TULIP_SPEED_TIME&&(this.TULIP_SPEED_TIME=parseInt(o.default.getInstance().getTableDataOne("Words","61","Describe"))),this.tulipAddSpeedTime=this.TULIP_SPEED_TIME):(-1==this.TULIP_SPEED_TIME&&(this.TULIP_SPEED_TIME=parseInt(o.default.getInstance().getTableDataOne("Words","61","Describe"))),this.tulipAddSpeedTime=this.TULIP_SPEED_TIME,this._isTulipAddSpeed=!0,this.SetBuffState(!0,!0)))},e.prototype.RefrshTulipSpeedTime=function(e){this._isTulipAddSpeed&&(this.tulipAddSpeedTime-=e,this.tulipAddSpeedTime<=0&&this.CloseTulipSpeed())},e.prototype.CloseTulipSpeed=function(){this._isTulipAddSpeed&&(this._isTulipAddSpeed=!1,this.SetBuffState(!1,!0),this.tulipAddSpeedTime=0,this._lastTulipIdx=-1)},e}();n.default=c,cc._RF.pop()},{"../../Game/GameCtr/BulletManager":"BulletManager","../../Game/GameCtr/MonsterManager":"MonsterManager","../../Game/GameCtr/TowerManager":"TowerManager","../../Manager/AudioManager":"AudioManager","../../Manager/ConfigMgr":"ConfigMgr","../../Manager/DelayTimeManager":"DelayTimeManager","../../Manager/GameDataManager":"GameDataManager","../../Manager/ResourceLoadManager":"ResourceLoadManager"}],Turret:[function(e,t,n){"use strict";cc._RF.push(t,"1518cwjkTxG2pDQkM4L8ByZ","Turret"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.initData=function(){e.prototype.initData.call(this)},t.prototype.fireAudio=function(){},t.prototype.shoot=function(){},t}(e("./BaseTurret").default);n.default=a,cc._RF.pop()},{"./BaseTurret":"BaseTurret"}],UnlockLocationSever:[function(e,t,n){"use strict";cc._RF.push(t,"986630ZPFhGDqGkmdJjuXKJ","UnlockLocationSever"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=e("../Manager/ConfigMgr"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/unlock_location",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.index=e;var t=r.default.getInstance().getTableDataOne("Words","4","Describe").split(",");this.ReqData.deduct_gold=parseInt(t[e]),this.ReqData.gold=Math.floor(i.default.getInstance().getNowGolds())},t.prototype.SuccessCall=function(e){e={index:this.ReqData.index,deduct_gold:this.ReqData.deduct_gold},console.log("//UnlockLocationSever.SuccessCall",e),i.default.getInstance().glodChange(-e.deduct_gold),i.default.getInstance().unlockTowerSolt(e.index)},t.prototype.DefCall=function(){},t}(a.default);n.default=s,cc._RF.pop()},{"../Manager/ConfigMgr":"ConfigMgr","../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],UpdateBuffServer:[function(e,t,n){"use strict";cc._RF.push(t,"fd910mxkKhI45Y4JUS+mO7o","UpdateBuffServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/GameDataManager"),r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/update_record_bag",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.double_gold_number=i.default.getInstance().getDoubleGoldBuffCount(),this.ReqData.firing_rate_number=i.default.getInstance().getTowerUpTimeCount(),this.ReqData.frozen_number=i.default.getInstance().getFrozenBuffCount()},t.prototype.SuccessCall=function(){},t}(a.default);n.default=r,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],UpdateFriendsHelpServer:[function(e,t,n){"use strict";cc._RF.push(t,"29b56nxVepMardRiJVL/S3L","UpdateFriendsHelpServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../BaseServer"),o=e("../ServerManager"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t.DefCall=null,t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/update_help_bag",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.help_users=e},t.prototype.SuccessCall=function(){},t}(a.default);n.default=i,cc._RF.pop()},{"../BaseServer":"BaseServer","../ServerManager":"ServerManager"}],UpdateUserServer:[function(e,t,n){"use strict";cc._RF.push(t,"7a7f02cA35EHqwpQoGV3xNZ","UpdateUserServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../SDK/SDKManager"),r=e("../SDK/WeiXinAPPSDK"),s=e("../Manager/GameDataManager"),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(){this.ReqUrl="/plantsVsZombies/update_user_info",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.type=i.default.getInstance().getNowPlatform(),this.ReqData.session_key=s.default.getInstance().getSessionKey(),2!=this.ReqData.type&&4!=this.ReqData.type?(this.ReqData.iv=i.default.getInstance().getPlayerName(),this.ReqData.encryptedData=i.default.getInstance().getPlayerIcon()):(this.ReqData.iv=r.default.getInstance().getIv(),this.ReqData.encryptedData=r.default.getInstance().getEncryptedData())},t.prototype.SuccessCall=function(e){},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall()},t}(a.default);n.default=l,cc._RF.pop()},{"../Manager/GameDataManager":"GameDataManager","../SDK/SDKManager":"SDKManager","../SDK/WeiXinAPPSDK":"WeiXinAPPSDK","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],UseLotteryCountServer:[function(e,t,n){"use strict";cc._RF.push(t,"58049OJyqtNg6oLObEqsg35","UseLotteryCountServer"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseServer"),o=e("./ServerManager"),i=e("../Manager/EventManager"),r=e("../Manager/EventEnum"),s=e("../Manager/GameDataManager"),l=e("../UI/PopWnd/ConnectionDefWnd"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ReqData={},t}return __extends(t,e),t.prototype.InitData=function(e){this.ReqUrl="/plantsVsZombies/user_lottery",this.ReqType="POST",this.ReqData.user_id=o.default.getInstance().getUUID(),this.ReqData.useGold=e},t.prototype.SuccessCall=function(e){e={lottery_number:s.default.getInstance().getNowLotteryCount()},console.log("//UseLotteryCountServer.SuccessCall",e),s.default.getInstance().setNowLotteryCount(e.lottery_number,this),i.default.dispatchEvent(r.EventEnum.ResetLotteryCount)},t.prototype.DefCall=function(){o.default.getInstance().ConnectDefCall(l.DefautState.LotteryDefault)},t}(a.default);n.default=d,cc._RF.pop()},{"../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager","../Manager/GameDataManager":"GameDataManager","../UI/PopWnd/ConnectionDefWnd":"ConnectionDefWnd","./BaseServer":"BaseServer","./ServerManager":"ServerManager"}],VineBullet:[function(e,t,n){"use strict";cc._RF.push(t,"a1d6c8DYppMEqQ+0eYw0TBH","VineBullet"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./BaseBullet"),o=e("../Monster/BaseMonster"),i=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bullettype=a.BulletType.VineBullet,t._configId=0,t}return __extends(t,e),t.prototype.initData=function(t,n){e.prototype.initData.call(this,t,n),this._configId=t},t.prototype.boomAudio=function(){},t.prototype.boomEffect=function(){},t.prototype.onCollision=function(e){if(e instanceof o.default){if(e.monsterType==o.MonsterAllType.Cloaking&&1==e.getIsUseSkill())return;this.defaultCollisionCall(e,this.UseVineSkill.bind(this,e))}},t.prototype.UseVineSkill=function(e){var t=this.getData().Frozen,n=parseFloat(t.split(",")[1]);e.startVine(this._configId,n)},t}(a.default);n.default=i,cc._RF.pop()},{"../Monster/BaseMonster":"BaseMonster","./BaseBullet":"BaseBullet"}],VinePrefab:[function(e,t,n){"use strict";cc._RF.push(t,"04a58FVBUFFDKPNuUnGJrDM","VinePrefab"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../../../Manager/ResourceLoadManager"),i=e("../../GameCtr/MonsterManager");(function(e){e[e.Vine=0]="Vine",e[e.Wait=1]="Wait",e[e.UnVine=2]="UnVine"})(a||(a={}));var r=function(){function e(){this._nowState=a.UnVine}return e.prototype.Vine=function(e,t,n){if(null!=e){this._targetMonster=e;var r=e.getNode(),s=r.getChildByName("Vine");if(null==s){var l=o.default.getInstance().getRes("Prefab/effect_1801");(s=cc.instantiate(l)).name="Vine",r.addChild(s,1)}this._vineNode=s,this._vineAnim=this._vineNode.getComponent(cc.Animation),this._vineAnim.hasEventListener("stop")||this._vineAnim.on("stop",this._AnimationOverCall,this),fgui.GTween.isTweening(this._vineNode)&&fgui.GTween.kill(this._vineNode),this._vineNode.active=!0,this._vineNode.opacity=255,this._nowState=a.Vine,this._vineAnim.play("effect_1801_"+(t-96)),this._targetMonster.IsAttack&&i.default.getInstance().monsterDead()}else console.log("\u5f85\u7f20\u7ed5\u8282\u70b9\u4e3a\u7a7a\uff01\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype._AnimationOverCall=function(){this._nowState==a.Vine&&(this._nowState=a.Wait)},e.prototype._CloseVine=function(){fgui.GTween.isTweening(this._vineNode)&&fgui.GTween.kill(this._vineNode),this._nowState=a.UnVine,this._vineAnim.stop(),this._vineNode.active=!1},e.prototype.UnVine=function(){var e=this;if(this._nowState!=a.UnVine){this._nowState=a.UnVine;fgui.GTween.to(255,0,.3).setTarget(this._vineNode).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._vineNode.opacity=t.value.x},this).onComplete(function(){e._vineNode.active=!1},this)}},e}();n.default=r,cc._RF.pop()},{"../../../Manager/ResourceLoadManager":"ResourceLoadManager","../../GameCtr/MonsterManager":"MonsterManager"}],WarnWnd:[function(e,t,n){"use strict";cc._RF.push(t,"a76dbK/O3xAZJE4QvkZ58j1","WarnWnd"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("../Base/BaseWindow"),o=e("../../Manager/AudioManager"),i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.OnLoadToExtension=function(){},t.prototype.OnCreate=function(){this._view=this.GetView(),this._screenFlicker=this._view.getTransition("t0"),this._warnPrefab=this._view.getChild("n0").asCom,this._warnEff=this._warnPrefab.getTransition("t0")},t.prototype.OnOpen=function(){o.default.getInstance().playAudio("Mp3/warning",!0,1),this._view.alpha=1,this._screenFlicker.play(this._CloseWnd.bind(this),2),this._warnEff.play()},t.prototype.OnClose=function(){},t.prototype._CloseWnd=function(){var e=this;fgui.GTween.to(1,0,.5).setTarget(this._view).setEase(fgui.EaseType.Linear).onUpdate(function(t){e._view.alpha=t.value.x},this).onComplete(function(){e.CloseSelf()},this)},t}(a.default);n.default=i,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../Base/BaseWindow":"BaseWindow"}],WeiXinAPPSDK:[function(e,t,n){"use strict";cc._RF.push(t,"9dec8KB1gJK8Kz2qN8Hmo1N","WeiXinAPPSDK"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../Manager/EventManager"),i=e("../Manager/EventEnum"),r=e("../Manager/GameDataManager"),s=e("./Const");(function(e){e[e.UserInfo=0]="UserInfo",e[e.WritePhoto=1]="WritePhoto"})(a=n.AuthorizationType||(n.AuthorizationType={}));var l=function(){function e(){this.WX=window.wx,this.showOldTime=0,this.showNewTime=0,this._recordRightStateHeight=-1,this._recordSysInfo=null,this._recordShareData=null,this._recordNeedFunList=[],this._needCallOnceFunList=[],this._defaultCallFunList=[],this._recordSecenData=null,this._wxUserInfoBtn=null,this._isAgreeGetUserInfo=!1,this._isShowBannerAD=!1,this._gameClubButton=null,this.m_gamePortal=null,this.gamePortalLoadOver=!1}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.addFunToOnShow=function(e){this._recordNeedFunList.push(e)},e.prototype.callFunToOnShow=function(){console.log("-------------\x3e\u6062\u590d");for(var e=0;e<this._recordNeedFunList.length;e++)this._recordNeedFunList[e]()},e.prototype.InitSDK=function(){var e=this;this.WX.onHide(function(){e.showOldTime=(new Date).getTime(),console.log("---------------hide",e.showOldTime)}),this.WX.onShow(function(){e.callFunToOnShow(),e.showNewTime=(new Date).getTime(),console.log("---------------show",e.showNewTime);for(var t=0;t<e._needCallOnceFunList.length;t++)e.showNewTime-e.showOldTime>2500?e._needCallOnceFunList[t]():e._defaultCallFunList[t]();e._defaultCallFunList=[],e._needCallOnceFunList=[],e.setKeepScreenLight()}),this.OnListenerAudioStop(this.callFunToOnShow.bind(this)),this.InitGamePortal()},e.prototype.AddShareCallFun=function(e){null!=e?this._needCallOnceFunList.push(e):console.log("\u5206\u4eab\u56de\u8c03\u51fd\u6570\u4e3a\u7a7a\uff01")},e.prototype.GetWx=function(){return this.WX},e.prototype.openRightShare=function(e,t,n){var a=this;this.WX.showShareMenu({withShareTicket:!0,success:function(r){o.default.dispatchEvent(i.EventEnum.ShareOnRight),a.WX.onShareAppMessage(function(){return{title:e,imageUrl:t,query:n}})}})},Object.defineProperty(e.prototype,"getJoinSecenceData",{get:function(){return this._recordSecenData},enumerable:!0,configurable:!0}),e.prototype.getShareLoadData=function(e){if(null==this._recordShareData){var t;null==this._recordSecenData&&(this._recordSecenData=this.WX.getLaunchOptionsSync()),t=this._recordSecenData.query,this._recordShareData=t}return e?this._recordShareData[e]:this._recordShareData},e.prototype.shareHaveCall=function(e,t,n,a,o){this._defaultCallFunList=[],this._needCallOnceFunList=[],this.AddShareCallFun(n),this._defaultCallFunList.push(a),this.WX.shareAppMessage({title:e,imageUrl:t,query:o})},e.prototype.sendMessage=function(e){var t;this.WX.getSystemInfo({success:function(e){t=e.model}}),"onRank"==e.msg&&"iPhone X"==t&&(e.data.phone="iPhone X"),this.WX.postMessage(e)},e.prototype.compareVersion=function(e,t){e=e.split("."),t=t.split(".");for(var n=Math.max(e.length,t.length);e.length<n;)e.push("0");for(;t.length<n;)t.push("0");for(var a=0;a<n;a++){var o=parseInt(e[a]),i=parseInt(t[a]);if(o>i)return 1;if(o<i)return-1}return 0},e.prototype.CheckWXVersion=function(){if(!this.WX)return!0;var e=this.WX.getSystemInfoSync().SDKVersion;return this.compareVersion(e,"2.2.4")>=0||(this.WX.showModal({title:"\u63d0\u793a",content:"\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u90e8\u5206\u529f\u80fd\u65e0\u6cd5\u6b63\u5e38\u4f7f\u7528\u3002\u8bf7\u5c06\u5fae\u4fe1\u66f4\u65b0\u81f3\u6700\u65b0\u7248\u672c"}),!1)},e.prototype.ChangeWxUserInfoBtnStyle=function(e,t){this._wxUserInfoBtn&&(this._wxUserInfoBtn.show(),this._wxUserInfoBtn.style.width=e.x*(this._recordSysInfo.windowWidth/fgui.GRoot.inst.width),this._wxUserInfoBtn.style.height=e.y*(this._recordSysInfo.windowHeight/fgui.GRoot.inst.height),this._wxUserInfoBtn.style.left=t.x*(this._recordSysInfo.windowWidth/fgui.GRoot.inst.width),this._wxUserInfoBtn.style.top=t.y*(this._recordSysInfo.windowHeight/fgui.GRoot.inst.height))},Object.defineProperty(e.prototype,"ShowAgreeBtn",{set:function(e){this._wxUserInfoBtn&&(e?this._wxUserInfoBtn.show():this._wxUserInfoBtn.hide())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"IsGree",{get:function(){return this._isAgreeGetUserInfo},enumerable:!0,configurable:!0}),e.prototype.authorization=function(e,t,n){var r=this,s={param2:!0},l=void 0;this.WX.getSetting({success:function(e){console.log("\u5f53\u524d\u83b7\u53d6\u6388\u6743\u6570\u636e\u4e3a:",e),l=e},fail:function(e){console.log("\u672a\u5b8c\u6210\u4efb\u4f55\u6388\u6743!")},complete:function(){switch(e){case a.UserInfo:if(l&&l.authSetting["scope.userInfo"])t&&t(),console.log("\u7528\u6237\u4fe1\u606f\u6388\u6743\u6210\u529f"),r._isAgreeGetUserInfo=!0,r.getUserInfo(function(e){e.param=!0,e.param2=!1,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,e)});else{var d=r.WX.createUserInfoButton({type:"text",text:"\u83b7\u53d6\u7528\u6237\u4fe1\u606f",withCredentials:!0,style:{left:0,top:0,width:1,height:1,textAlign:"center",fontSize:1,borderRadius:1}});r._wxUserInfoBtn=d,r._wxUserInfoBtn.hide(),o.default.dispatchEvent(i.EventEnum.RefreshAgreeBtnPos),d.onTap(function(e){console.log(e,"getUserInfo:ok"==e.errMsg),"getUserInfo:ok"==e.errMsg?(t&&t(),r._isAgreeGetUserInfo=!0,r._userData=e.userInfo,r._iv=e.iv,r._encryptedData=e.encryptedData,s.param=!0,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,s),d.destroy(),r._wxUserInfoBtn=null):(n&&n(),s.param=!1,o.default.dispatchEvent(i.EventEnum.AgreeAuthorization,s),console.log("\u7528\u6237\u62d2\u7edd\u6388\u6743"))})}break;case a.WritePhoto:l&&l.authSetting["scope.writePhotosAlbum"]?(t&&t(),console.log("\u76f8\u518c\u5df2\u7ecf\u6388\u6743\u6210\u529f")):r.WX.authorize({scope:"scope.writePhotosAlbum",success:function(){t&&t(),console.log("\u6388\u6743\u76f8\u518c\u6210\u529f")},fail:function(){n&&n(),console.log("\u6388\u6743\u76f8\u518c\u5931\u8d25\uff0c\u7528\u6237\u62d2\u7edd")}});break;default:console.log("\u903b\u8f91\u9519\u8bef,\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")}}})},e.prototype.getUserInfo=function(e){var t=this;if(this._userData)return e&&e(this._userData),this._userData;var n={};return this.WX.getUserInfo({withCredentials:!0,success:function(a){t._iv=a.iv,t._encryptedData=a.encryptedData,n=a.userInfo,t._userData=n,e&&e(n)},fail:function(e){console.log("\u83b7\u53d6\u7528\u6237\u6570\u636e\u5931\u8d25")}}),this._userData},e.prototype.getPlayerName=function(){return this._userData=this.getUserInfo(),this._userData&&this._userData.nickName?this._userData.nickName:(console.log("\u672a\u83b7\u53d6\u7528\u6237\u4fe1\u606f\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91"),"error")},e.prototype.getPlayerIcon=function(){return this._userData=this.getUserInfo(),this._userData&&this._userData.avatarUrl?this._userData.avatarUrl:"https://coolant.miniant.cn/plantsVsZombies/default.jpg"},e.prototype.getIv=function(){return this._iv},e.prototype.getEncryptedData=function(){return this._encryptedData},e.prototype.getStorage=function(e,t){try{var n=this.WX.getStorageSync(e);return n||t}catch(n){return console.log("\u83b7\u53d6\u5b58\u50a8\u503c\u9519\u8bef!",e),t}},e.prototype.setStorage=function(e,t){try{this.WX.setStorageSync(e,t)}catch(e){console.log("\u65e0\u6cd5\u56de\u5b58\u73a9\u5bb6\u6570\u636e!",e)}},e.prototype.setCloudStorage=function(e){this.WX.setUserCloudStorage({KVDataList:e,success:function(e){console.log("\u8bbe\u7f6e\u5f00\u653e\u57df\u6210\u529f")},fail:function(e){console.log("\u8bbe\u7f6e\u5f00\u653e\u57df\u5931\u8d25",e)}})},e.prototype.createImage=function(e,t){var n=this.WX.createImage();n.src=t,n.onload=function(){var t=new cc.Texture2D;t.initWithElement(n),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t),e.enabled=!0}},e.prototype.getCode=function(e){var t="error";return this.WX.login({success:function(n){n.code?(t=n.code,e&&e(t)):console.log("\u767b\u5f55\u5931\u8d25\uff01"+n.errMsg)}}),t},e.prototype.reqDolwnload=function(e){var t=this;console.log("\u5f00\u59cb\u8c03\u7528\u5fae\u4fe1\u4e0b\u8f7d"),this.WX.downloadFile({url:e,filePath:this.getLocalFilePath(),success:function(n){200===n.statusCode?(t.saveVideoToLoaclPhoto(n.tempFilePath),console.log("\u4e0b\u8f7d\u6210\u529f")):console.log("\u4e0b\u8f7d\u9519\u8bef",n.statusCode,e)},fail:function(){console.log("\u4e0b\u8f7d\u5931\u8d25")}})},e.prototype.getLocalFilePath=function(){return console.log(this.WX.env.USER_DATA_PATH),this.WX.env.USER_DATA_PATH},e.prototype.saveVideoToLoaclPhoto=function(e){this.WX.saveVideoToPhotosAlbum({filePath:e,success:function(e){console.log("\u4fdd\u5b58\u6210\u529f")},fail:function(){console.log("\u4fdd\u5b58\u5931\u8d25")}})},e.prototype.openCustomer=function(){var e=r.default.getInstance().returnRandomJsonData(),t=e.titleTxt,n=e.sptUrl;this.WX.openCustomerServiceConversation&&this.WX.openCustomerServiceConversation({showMessageCard:!0,sendMessageTitle:t,sendMessageImg:n})},e.prototype.preVideoAd=function(e){var t=this;if(null!=this.WX.createRewardedVideoAd){var n=this.WX.createRewardedVideoAd({adUnitId:s.videoAdUnitId});this._videoAd=n,n.onError(function(n){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25",n),n.errCode?e(n.errCode):e(),t._defalutCall&&t._defalutCall()}),n.onClose(function(e){e&&e.isEnded||void 0===e?t._rawradCall&&t._rawradCall():t._defalutCall&&t._defalutCall(),t.callFunToOnShow()})}},e.prototype.showVideoAd=function(e,t){var n=this;null!=this._videoAd&&(this._rawradCall=e,this._defalutCall=t,this._videoAd.load().then(function(){n._videoAd.show()}))},e.prototype.bannerAD=function(){if(null!=this.WX.createBannerAd){var e=this.WX.getSystemInfoSync();this._bannerAd=this.WX.createBannerAd({adUnitId:s.bannerAdUnitId,style:{left:(e.windowWidth-300)/2,top:e.windowHeight-105,width:300}}),this._bannerAd.onResize(function(e){}),this._bannerAd.onError(function(e){console.log(e)})}},e.prototype.showBannerAD=function(){null!=this.WX.createBannerAd&&(this._bannerAd&&0==this._isShowBannerAD?(this._bannerAd.show(),this._isShowBannerAD=!0):console.log("\u8be5\u5e7f\u544a\u672a\u521b\u5efa"))},e.prototype.hideBannerAD=function(){null!=this.WX.createBannerAd&&(this._bannerAd?(this._bannerAd.destroy(),this._bannerAd=null,this._isShowBannerAD=!1,this.bannerAD()):console.log("\u8be5\u5e7f\u544a\u5df2\u7ecf\u9500\u6bc1"))},e.prototype.createInterstitialAd=function(){this.WX.createInterstitialAd&&(this._interstitialAd=this.WX.createInterstitialAd({adUnitId:s.interAdUnitId}))},e.prototype.showInterstitialAd=function(){this._interstitialAd?this._interstitialAd.show().catch(function(e){console.error(e)}):(this.createInterstitialAd(),this.showInterstitialAd())},e.prototype.getRightStateBtnHeight=function(){if(-1==this._recordRightStateHeight){var e=this.WX.getSystemInfoSync();this._recordSysInfo=e,this._recordRightStateHeight=e.statusBarHeight}var t=44==this._recordRightStateHeight?88:this._recordRightStateHeight;return t=null==t?44:t},e.prototype.httpReq=function(e,t,n,a,o){this.WX.request({url:e,data:t,header:{"content-type":"application/json"},method:n,success:a,fail:o})},e.prototype.setKeepScreenLight=function(){this.WX.setKeepScreenOn({keepScreenOn:!0})},e.prototype.openDebug=function(){this.WX.setEnableDebug({enableDebug:!0})},e.prototype.checkIsNewVersion=function(){if("function"==typeof this.WX.getUpdateManager){var e=this.WX.getUpdateManager();e.onCheckForUpdate(function(e){console.log("\u5f53\u524d\u66f4\u65b0\u7248\u672c\u72b6\u6001\uff1a",e.hasUpdate)}),e.onUpdateReady(function(){e.applyUpdate()}),e.onUpdateFailed(function(){console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25\uff01")})}},e.prototype.OnError=function(e){var t=this;null==this._recordSysInfo&&(this._recordSysInfo=this.WX.getSystemInfoSync()),this.WX.onError(function(n,a){var o="-brand:"+t._recordSysInfo.brand+"-model"+t._recordSysInfo.model+"-version:"+t._recordSysInfo.version+"-system:"+t._recordSysInfo.system+"-platform:"+t._recordSysInfo.platform;e(n,a,o)})},e.prototype.OnListenerAudioStop=function(e){this.WX.onAudioInterruptionEnd(function(){e&&e()})},e.prototype.jumpGame=function(){console.log("//WeiXinAPPSDK.jumpGame")},e.prototype.CreateGameClubButton=function(e,t){if(null!=this.WX.createGameClubButton&&null==this._gameClubButton){this.navigateToMiniProgram("wxe3267db76dcb990b");var n=this.WX.getSystemInfoSync(),a=cc.winSize;t=2==n.pixelRatio?t/2-32:n.windowHeight-(a.height-t)+16,this._gameClubButton=this.WX.createGameClubButton({type:"image",image:e,icon:"green",style:{left:n.windowWidth/2-32,top:t,width:64,height:65.5}})}},e.prototype.ShowGameClubButton=function(){null!=this.WX.createGameClubButton&&(this._gameClubButton?this._gameClubButton.show():console.log("\u672a\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae"))},e.prototype.HideGameClubButton=function(){null!=this.WX.createGameClubButton&&(this._gameClubButton?this._gameClubButton.hide():console.log("\u672a\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae"))},e.prototype.GameClubButtonCallback=function(e){this._gameClubButton.onTap(e)},e.prototype.navigateToMiniProgram=function(e){null!=this.WX.navigateToMiniProgram&&this.WX.navigateToMiniProgram({appId:e,path:"",extraData:{foo:"bar"},envVersion:"release",success:function(e){}})},e.prototype.PhoneShake=function(e){void 0===e&&(e=!1),null==this.WX.vibrateLong&&null==this.WX.vibrateShort||(e?this.WX.vibrateLong({fail:function(e){console.log(e)},complete:function(){console.log("Shake Phone")}}):this.WX.vibrateShort({fail:function(e){console.log(e)},complete:function(){console.log("Shake Phone")}}))},e.prototype.InitGamePortal=function(){console.log("//InitGamePortal")},e.prototype.ShowGamePortal=function(){this.gamePortalLoadOver&&this.m_gamePortal.show()},e.prototype.SetClipboardData=function(e,t){null!=this.WX&&null!=this.WX.setClipboardData?this.WX.setClipboardData({data:e,complete:function(){t()}}):t()},e}();n.default=l,cc._RF.pop()},{"../Manager/EventEnum":"EventEnum","../Manager/EventManager":"EventManager","../Manager/GameDataManager":"GameDataManager","./Const":"Const"}],WeiXinWBSDK:[function(e,t,n){"use strict";cc._RF.push(t,"963fftgvuVLmIBYLT/Mqoft","WeiXinWBSDK"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this.WX=window.wx,this._recordPlayerID=null,this._recordPlayerIcon=null,this._recordPlayerName=null,this._JsLinkUrl="https://coolant.miniant.cn/frightened_plan/static/web/code.html",this._recordTitle="",this._descript="",this._shareIcon="",this._recordCall=null,this._otherShareData=null}return e.getInstance=function(){return null==this._instancce&&(this._instancce=new e,this._instancce.setShareData()),this._instancce},e.prototype.setShareData=function(){this._JsLinkUrl=this._JsLinkUrl+"?&shareData="+this.getPlayerIcon()},e.prototype.getPlayerName=function(){return null==this._recordPlayerName&&(this._recordPlayerName=this._getQueryString("name"),console.log("Get Play Name:"+this._recordPlayerName)),this._recordPlayerName},e.prototype.getPlayerID=function(){return null==this._recordPlayerID&&(this._recordPlayerID=this._getQueryString("openid"),console.log("Get Play ID:"+this._recordPlayerID)),this._recordPlayerID},e.prototype.getPlayerIcon=function(){return null==this._recordPlayerIcon&&(this._recordPlayerIcon=this._getQueryString("headUrl"),console.log("Get Play Icon:"+this._recordPlayerIcon)),this._recordPlayerIcon},e.prototype.getOtherShareData=function(){return null==this._otherShareData&&(this._otherShareData=this._getQueryString("shareData"),console.log("Get other shareData:"+this._otherShareData)),this._otherShareData},e.prototype._getQueryString=function(e){void 0===e&&(e="headUrl");var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(t);return null!=n?decodeURIComponent(n[2]):null},e.prototype._configTo=function(e,t,n,a){this._readyTo(),this.WX.error(function(e){console.log("--------------\x3e>>>>:"+e)}),this.WX.config({debug:!1,appId:e,timestamp:t,nonceStr:n,signature:a,jsApiList:["updateAppMessageShareData","updateTimelineShareData","onMenuShareTimeline","onMenuShareAppMessage"]})},e.prototype._readyTo=function(){var e=this;this.WX.ready(function(){e._changeShareData2(e._recordTitle,e._shareIcon,e._descript),e._recordCall&&e._recordCall()})},e.prototype._checkIsCanUseSomeInterface=function(){this.WX.checkJsApi({jsApiList:["chooseImage"],success:function(e){}})},e.prototype._changeShareData=function(e,t,n){console.log("On Change\u3000Data"),this.WX.updateTimelineShareData({title:"title",link:this._JsLinkUrl,imgUrl:"https://coolant.miniant.cn/fruit_vegetables/static/0.jpg",trigger:function(e){console.log("\u7528\u6237\u70b9\u51fb\u5206\u4eab\u5230\u670b\u53cbquan")},success:function(){console.log("\u8bbe\u7f6e\u5206\u4eab\u5230\u670b\u53cb\u5708\u6570\u636e\u6210\u529f")},fail:function(e){console.log("\u8bbe\u7f6e\u5206\u4eab\u5230\u670b\u53cb\u5708\u6570\u636e\u5931\u8d25"+e)},complete:function(){console.log("Setting Over:"+e+":"+t)}}),this.WX.updateAppMessageShareData({title:"title",desc:"_descritp",link:this._JsLinkUrl,imgUrl:"https://coolant.miniant.cn/fruit_vegetables/static/0.jpg",trigger:function(e){console.log("\u7528\u6237\u70b9\u51fb\u5206\u4eab\u5230\u670b\u53cb")},success:function(){console.log("\u8bbe\u7f6e\u5206\u4eab\u5230\u670b\u53cb\u6570\u636e\u6210\u529f")},fail:function(e){console.log("\u8bbe\u7f6e\u5206\u4eab\u5230\u670b\u53cb\u6570\u636e\u5931\u8d25"+e)},complete:function(){console.log("Setting Over:"+e+":"+t+":"+n)}})},e.prototype._changeShareData2=function(e,t,n){this.WX.onMenuShareTimeline({title:e,link:this._JsLinkUrl,imgUrl:t}),this.WX.onMenuShareAppMessage({title:e,desc:n,link:this._JsLinkUrl,imgUrl:t})},e.prototype.onReadyTo=function(e,t,n,a){this._recordTitle=e,this._shareIcon=t,this._descript=n,this._recordCall=a},e.prototype.refreShareData=function(e,t,n,a){this._recordTitle=e,this._shareIcon=t,this._descript=n,this._recordCall=a,this._changeShareData(this._recordTitle,this._shareIcon,this._descript),this._recordCall()},e.prototype.ReqSignatureData=function(){var e=this,t="https://coolant.miniant.cn/frightened_plan/get_signature",n={};n.openid=this.getPlayerID(),n.url=location.href.split("#")[0];var a=JSON.stringify(n),o=new XMLHttpRequest;o.onreadystatechange=function(){if(4==o.readyState)if(o.status>=200&&o.status<400){var t=o.responseText;if(t){var n=JSON.parse(t);if(0!=n.code)console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef,Code\u9519\u8bef"+n,"color:#FF0000");else{var a=n.data;e._configTo(a.appid,a.timestamp,a.noncestr,a.signature)}}else console.log("%c \u6570\u636e\u89e3\u6790\u9519\u8bef\uff0c\u8fd4\u56de\u503c\u4e3a\u7a7a"+t,"color:#FF0000")}else console.log("\u8bf7\u6c42\u5931\u8d25!!")},o.open("POST",t,!0),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(a)},e}();n.default=a,cc._RF.pop()},{}],WindowManager:[function(e,t,n){"use strict";cc._RF.push(t,"45255bMOHxPt7lYHlgm+uDZ","WindowManager"),Object.defineProperty(n,"__esModule",{value:!0});var a,o=e("../PopWnd/ShopListPrefab"),i=e("../Publish/LevelTag"),r=e("../MainUI/ShareJoinPrefab"),s=e("../PopWnd/ConnectionDefWnd"),l=e("../../Lib/MyLoader"),d=e("../MainUI/BuildBtnPrefab"),u=e("../StartGame/HangPrefab"),c=e("../../Server/ServerManager"),h=e("../../Server/ReConnetionServer"),f=e("../../Manager/GameDataManager"),g=e("../../Server/LoginServer"),p=e("../../SDK/SDKManager"),_=e("../../Server/GetOpenIDServer"),v=e("../../Server/UpdateUserServer"),I=e("../PopWnd/BuffListPrefab"),m=e("../PopWnd/FriendsIconPrefab"),C=e("../../Server/RefreshGuideCountServer"),w=e("../../Server/UseLotteryCountServer");(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.MUTEX=1]="MUTEX",e[e.Popup=2]="Popup"})(n.WindowType||(n.WindowType={})),function(e){e[e.LockWnd=0]="LockWnd",e[e.TipWnd=1]="TipWnd",e[e.PopupWnd=2]="PopupWnd",e[e.NotFullScreen=3]="NotFullScreen",e[e.GuidWnd=4]="GuidWnd"}(a=n.WindowLayer||(n.WindowLayer={}));var y=function(){function e(){this._autoAddIndex=0,this._loadPackageArray=[],this._windowOpenArray=[],this._windowCloseArray=[],this._recordNativeNodeArray=[],this._WndCom=[]}return e.getInstance=function(){return void 0==this._instance&&(this._instance=new e,this._instance.Init(),this._instance.InitWndMgr()),this._instance},e.prototype.Init=function(){fgui.addLoadHandler(),fgui.GRoot.create(),cc.game.addPersistRootNode(fgui.GRoot.inst.node),fgui.UIObjectFactory.setLoaderExtension(l.default),fgui.UIConfig.defaultFont="ui://LoginWnd/mySysFont2",fgui.UIConfig.defaultScrollDecelerationRate=.97,fgui.UIObjectFactory.setExtension("ui://PopWnd/ShopListPrefab",o.default),fgui.UIObjectFactory.setExtension("ui://PublishPackage/LevelTag",i.default),fgui.UIObjectFactory.setExtension("ui://MainWnd/ShareJoinPrefab",r.default),fgui.UIObjectFactory.setExtension("ui://MainWnd/BuyTowerBtn",d.default),fgui.UIObjectFactory.setExtension("ui://StartGame/ListPrefab",u.default),fgui.UIObjectFactory.setExtension("ui://PopWnd/BuffListPrefab",I.default),fgui.UIObjectFactory.setExtension("ui://PopWnd/FriendsPrefab",m.default)},e.prototype.InitWndMgr=function(){for(var e=0;e<5;e++){var t=new fgui.GComponent;t.setSize(cc.winSize.width,cc.winSize.height),fgui.GRoot.inst.addChild(t),this._WndCom.push(t)}},e.prototype.addChildTo=function(e,t){void 0===t&&(t=1),this._WndCom[t]?this._WndCom[t].addChild(e):console.log("\u65e0\u6cd5\u6dfb\u52a0\u8282\u70b9\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91!",t)},e.prototype.addChildAt=function(e,t,n){void 0===t&&(t=1),void 0===n&&(n=0),this._WndCom[t]?this._WndCom[t].addChildAt(e,n):console.log("\u65e0\u6cd5\u6dfb\u52a0\u8282\u70b9\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91!",t)},e.prototype.addChildToLayer=function(e,t){e?(this._recordNativeNodeArray.push(e),this._WndCom[t].node.addChild(e)):console.log("\u8282\u70b9\u4fe1\u606f\u4e3a\u7a7a\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\uff01")},e.prototype.HideWnd=function(e,t){for(var n=-1,a=0;a<this._windowOpenArray.length;a++)if(this._windowOpenArray[a].windowName==e&&this._windowOpenArray[a].windowScript instanceof t){n=a;break}this._windowOpenArray[n].windowScript.GetView().visible=!1,this._windowCloseArray.push(this._windowOpenArray[n]),this._windowOpenArray.splice(n,1)},e.prototype.ShowWnd=function(e,t){var n=this.IsHaveThisWinndow(e,t);-1!=n?(this._windowCloseArray[n].windowScript.GetView().visible=!0,this._windowOpenArray.push(this._windowCloseArray[n]),this._windowCloseArray.splice(n,1)):console.log("\u4e0d\u5b58\u5728\u7684\u7a97\u53e3\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.PreLoadOpenWindow=function(e,t,n,a,o){void 0===a&&(a=null),void 0===o&&(o=0),this.LoadPackage(e,t,n,a,o,!0)},e.prototype.OpenWindow=function(e,t,n,a,o,i){void 0===a&&(a=null),void 0===o&&(o=0),void 0===i&&(i=!1),this.LoadPackage(e,t,n,a,o,i)},e.prototype._OpenWindow=function(e,t,n,o,i,r){void 0===o&&(o=null),void 0===i&&(i=0),void 0===r&&(r=!1);var s={};s.windowName=t;var l=this.IsHaveThisWinndow(t,n),d=null;if(s.layer=i,-1==l){s.windowScript=new n,this._autoAddIndex++,s.windowScript.SetUniqueID(this._autoAddIndex-1),d=s.windowScript,s.windowScript.OnLoadToExtension();var u=i,c=fgui.UIPackage.createObject(e,t).asCom;s.view=c,r&&(c.visible=!1),this._WndCom[u].addChild(c),s.windowScript.SetView(c),s.windowScript.SetName(t),s.windowScript.SetType(n),u!=a.NotFullScreen&&s.windowScript.SetFullScreen(),s.windowScript.OnCreate(),this._windowOpenArray.push(s)}else(d=this._windowCloseArray[l].windowScript).GetView().visible=!0,this._WndCom[i].addChild(d.GetView()),this._windowOpenArray.push(this._windowCloseArray[l]),this._windowCloseArray.splice(l,1);null!=o?d.OnOpen(o):d.OnOpen(),r&&d.OnClose()},e.prototype.PopLastWnd=function(){var e=this._windowOpenArray.length,t=e-1>0?e-1:1,n=this._windowOpenArray[t];n.windowScript.OnClose(),n.view.visible=!1;var a=n.windowScript.GetParentWnd();null!=a&&a.RemoveSomeChildWnd(n.windowScript),this._windowOpenArray.splice(t),this._windowCloseArray.push(n)},e.prototype.OpenChildWindow=function(e,t,n,a,o,i){void 0===o&&(o=null),void 0===i&&(i=0),this.OpenWindow(t,n,a,o,i);var r=this.IsHaveThisWinndow(n,a,!0);-1==r?console.log("\u68c0\u67e5\u4ee3\u7801\u903b\u8f91\u9519\u8bef!"):e.SetChildWnd(this._windowOpenArray[r].windowScript)},e.prototype.CloseAllWindow=function(){for(var e=0;e<this._windowOpenArray.length;e++){this._windowOpenArray[e].windowScript.OnClose(),this._windowOpenArray[e].view.visible=!1;var t=this._windowOpenArray[e].windowScript.GetParentWnd();null!=t&&t.RemoveSomeChildWnd(this._windowOpenArray[e].windowScript),this._windowCloseArray.push(this._windowOpenArray[e])}this._windowOpenArray=[]},e.prototype.OpenReConnectionWnd=function(t){if(void 0===t&&(t=0),c.default.getInstance().getNowReconnectState())f.default.getInstance().GetIsInGuide()||e.getInstance().OpenWindow("PublishPackage","ServerDefWnd",s.default,t,a.GuidWnd);else switch(c.default.getInstance().setNowReconnectState(),c.default.getInstance()._isInReConnection=!1,console.log("%c \u6b63\u5728\u8fdb\u884c\u540e\u53f0\u9759\u9ed8\u91cd\u8fde...","color:#FF0000"),t){case s.DefautState.GameDefault:c.default.getInstance().startCallServer(h.default);break;case s.DefautState.LoginDefault:var n=f.default.getInstance().getWxOpenId();c.default.getInstance().startCallServer(g.default,n);break;case s.DefautState.GetCodeDefault:p.default.getInstance().getCode(function(e){c.default.getInstance().startCallServer(_.default,e)});break;case s.DefautState.SaveUserDataDefault:p.default.getInstance().getUserInfo(function(e){c.default.getInstance().startCallServer(v.default,e)});break;case s.DefautState.SaveGuideCount:c.default.getInstance().startCallServer(C.default);break;case s.DefautState.LotteryDefault:c.default.getInstance().startCallServer(w.default,0);break;default:c.default.getInstance().startCallServer(h.default)}},e.prototype.CloseSomeLayerWnd=function(e){for(var t=this._windowOpenArray.length,n=[],a=0;a<t;a++)this._windowOpenArray[a].layer==e&&n.push(a);for(a=n.length-1;a>=0;a--){var o=this._windowOpenArray[n[a]];o.windowScript.OnClose(),o.view.visible=!1,this._windowOpenArray.splice(n[a]),this._windowCloseArray.push(o)}},e.prototype.CloseWindow=function(e,t,n){var a={};a.windowName=e,a.windowScript=t;var o=this.IsHaveThisWinndow(e,n,!0);-1!=o?this._CloseWindow(this._windowOpenArray[o].windowScript):console.log("\u672a\u8bb0\u5f55\u6b64\u7a97\u53e3,\u65e0\u6cd5\u5173\u95ed!",a)},e.prototype._CloseWindow=function(e){for(var t=-1,n=void 0,a=0;a<this._windowOpenArray.length;a++){var o=e.GetView().name;if(this._windowOpenArray[a].windowName==o&&this._windowOpenArray[a].windowScript.GetUniqueID()==e.GetUniqueID()){t=a;break}}if(-1!=t){(n=this._windowOpenArray[t]).windowScript.OnClose(),n.windowScript.GetView().visible=!1,this._windowOpenArray.splice(t,1),this._windowCloseArray.push(n);var i=n.windowScript.GetParentWnd();null!=i&&i.RemoveSomeChildWnd(n.windowScript);var r=n.windowScript.GetChildWnd();for(a=0;a<r.length;a++)this._CloseWindow(r[a])}else console.log("\u672a\u627e\u5230\u8be5\u7a97\u53e3\uff0c\u903b\u8f91\u51fa\u73b0\u95ee\u9898")},e.prototype.CloseNameWindow=function(e,t){for(var n,a=-1,o=0;o<this._windowOpenArray.length;o++)if(null!=this._windowOpenArray[o]&&this._windowOpenArray[o].windowName==e&&this._windowOpenArray[o].windowScript instanceof t){n=this._windowOpenArray[o],a=o;break}if(-1!=a){var i=n.windowScript.GetParentWnd();null!=i&&i.RemoveSomeChildWnd(n.windowScript),this._windowCloseArray.push(n),this._windowOpenArray.splice(a,1),n.windowScript.OnClose(),n.windowScript.GetView().visible=!1}else console.log("\u672a\u627e\u5230\u8be5\u7a97\u53e3\uff0c\u903b\u8f91\u51fa\u73b0\u95ee\u9898",e,this._windowOpenArray)},e.prototype.GetWindowCom=function(e,t,n){var a=this.IsHaveThisWinndow(e,t,!0),o=this._windowOpenArray[a].windowScript;if(void 0!=o)return o.GetView().getChild(n);console.log("\u672a\u627e\u5230\u8be5\u7a97\u53e3\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91")},e.prototype.GetWindow=function(e,t,n){void 0===n&&(n=!1);var a=!0,o=this.IsHaveThisWinndow(e,t,!0);if(-1==o&&(n||(a=!1,o=this.IsHaveThisWinndow(e,t))),-1==o)return null;var i=null;return void 0==(i=a?this._windowOpenArray[o].windowScript:this._windowCloseArray[o].windowScript)&&console.log("\u672a\u627e\u5230\u8be5\u7a97\u53e3\uff0c\u68c0\u67e5\u4ee3\u7801\u903b\u8f91"),i},e.prototype.WndIsShow=function(e,t){return-1!=this.IsHaveThisWinndow(e,t,!0)},e.prototype.IsHaveThisWinndow=function(e,t,n){void 0===n&&(n=!1);for(var a=n?this._windowOpenArray:this._windowCloseArray,o=-1,i=0;i<a.length;i++)if(a[i].windowName==e&&a[i].windowScript instanceof t){o=i;break}return o},e.prototype.LoadPackage=function(e,t,n,a,o,i){var r=this;void 0===a&&(a=null),void 0===o&&(o=0),void 0===i&&(i=!1);for(var s=!1,l=0;l<this._loadPackageArray.length;l++)if(e==this._loadPackageArray[l]){s=!0;break}s?this._OpenWindow(e,t,n,a,o,i):fgui.UIPackage.loadPackage("FairyGui/"+e,function(){r.LoadOverCall(e,t,n,a,o,i)})},e.prototype.RemovePackage=function(e){},e.prototype.LoadOverCall=function(e,t,n,a,o,i){void 0===a&&(a=null),void 0===o&&(o=0),void 0===i&&(i=!1),this._loadPackageArray.push(e),this._OpenWindow(e,t,n,a,o,i)},e.prototype.LoadUIPackage=function(e,t,n){var a=this;console.log(e+"\u5f00\u59cb\u52a0\u8f7d"),fgui.UIPackage.loadPackage("FairyGui/"+e,function(){t&&t.apply(n),console.log(e+"\u52a0\u8f7d\u5b8c\u6bd5"),a._loadPackageArray.push(e)})},e.prototype.delegateLoadCall=function(e,t,n){var a=this,o=["MainWnd","PopWnd","PublishPackage","StartGame"];if(e)console.log("%c \u521d\u59cb\u5316Fgui\u6570\u636e\u9519\u8bef\uff01"+e,"color:#FF0000;");else{for(var i=function(e){fgui.UIPackage.loadPackage("FairyGui/"+o[e],function(){console.log(o[e]+"\u52a0\u8f7d\u5b8c\u6bd5"),a._loadPackageArray.push(o[e])})},r=0;r<o.length;r++)i(r);this.delegateLoadOverCall&&this.delegateLoadOverCall()}},e}();n.default=y,cc._RF.pop()},{"../../Lib/MyLoader":"MyLoader","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","../../Server/GetOpenIDServer":"GetOpenIDServer","../../Server/LoginServer":"LoginServer","../../Server/ReConnetionServer":"ReConnetionServer","../../Server/RefreshGuideCountServer":"RefreshGuideCountServer","../../Server/ServerManager":"ServerManager","../../Server/UpdateUserServer":"UpdateUserServer","../../Server/UseLotteryCountServer":"UseLotteryCountServer","../MainUI/BuildBtnPrefab":"BuildBtnPrefab","../MainUI/ShareJoinPrefab":"ShareJoinPrefab","../PopWnd/BuffListPrefab":"BuffListPrefab","../PopWnd/ConnectionDefWnd":"ConnectionDefWnd","../PopWnd/FriendsIconPrefab":"FriendsIconPrefab","../PopWnd/ShopListPrefab":"ShopListPrefab","../Publish/LevelTag":"LevelTag","../StartGame/HangPrefab":"HangPrefab"}],WordEffManager:[function(e,t,n){"use strict";cc._RF.push(t,"fc481rfPcRGjrH4aQDC/Ark","WordEffManager"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./WindowManager"),o=e("../../Manager/GameDataManager"),i=e("../../Manager/AudioManager"),r=e("../../SDK/SDKManager"),s=function(){function e(){this._recordEffObj=[],this._textFieldPool=[],this._recordAllTips=[],this._recordTxtLoaderCom=null,this._recordGoldPools=[],this._recordAllGold=[],this._recordAddCom=null,this._glodAddTxtPool=[],this._glodAddTxtCom=null}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.closeTypeWriter=function(e){fgui.GTween.isTweening(e)&&fgui.GTween.kill(e)},e.prototype.closeAllTypeWriter=function(){for(var e=0;e<this._recordEffObj.length;e++)this.closeTypeWriter(this._recordEffObj[e])},e.prototype.typeWriterRepeat=function(e,t,n,a){var o=this;fgui.GTween.isTweening(e)&&fgui.GTween.kill(e);var i=-1;e.text="",void 0==a&&(a=2),fgui.GTween.to(0,t.length-1,a).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(n){var a=Math.floor(n.value.x);i<a&&(i=a,e.text+=t[a])},this).onComplete(function(){var t=-1,a=e.text;fgui.GTween.to(0,n.length,1.5).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(o){var i=Math.floor(o.value.x);t!=i&&(t=i,0==i&&(e.text=a),e.text+=n[i])},o).setRepeat(-1)},this)},e.prototype.typeWriter=function(e,t,n,a,o){fgui.GTween.isTweening(e)&&fgui.GTween.kill(e);var i=-1;e.text="",void 0==n&&(n=2),fgui.GTween.to(0,t.length-1,n).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(n){var a=Math.floor(n.value.x);i<a&&(i=a,e.text+=t[a])},this).onComplete(function(){void 0!=a&&a.apply(o)},this)},e.prototype.WordEndLoopEff=function(e,t,n,a){void 0===a&&(a=1.5),this._recordEffObj.push(e),fgui.GTween.isTweening(e)&&fgui.GTween.kill(e),e.text=t;var o=t,i=-1;fgui.GTween.to(0,n.length,a).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(t){var a=Math.floor(t.value.x);i!=a&&(i=a,0==a&&(e.text=o),e.text+=n[a])},this).setRepeat(-1)},e.prototype.rollWord=function(e,t){var n=t.width,a=t.x+n,o=e.width/n*4;fgui.GTween.to(0,e.width+n,o).setTarget(e).setEase(fgui.EaseType.Linear).onUpdate(function(t){e.x=a-t.value.x},this).setRepeat(-1)},e.prototype.closeRollWord=function(e){fgui.GTween.isTweening(e)&&fgui.GTween.kill(e)},e.prototype.resetGTextFiledCom=function(e){e.setPosition(0,0),e.setPivot(0,0),e.alpha=0,e.text=""},e.prototype.DefaultCenterWordTip=function(e,t){this.wordTips(e,this.localPosToFguiPos(cc.v2(0,0)),100,2,t)},e.prototype.wordTips=function(e,t,n,o,i){var r=this;void 0===n&&(n=80),void 0===o&&(o=2),void 0===i&&(i=null);var s=null,l=t;this._textFieldPool.length>0?s=this._textFieldPool.pop():(s=fgui.UIPackage.createObject("MainWnd","WordCom").asCom,this._recordAllTips.push(s)),null==this._recordTxtLoaderCom&&(this._recordTxtLoaderCom=new fgui.GComponent),a.default.getInstance().addChildTo(this._recordTxtLoaderCom,4),this._recordTxtLoaderCom.addChild(s),s.visible=!0;var d=s.getChild("n0").asTextField;d.text=e,s.setPosition(l.x,l.y);var u=n,c=cc.v2(l.x,l.y);fgui.GTween.to(0,u/2,o/2).setTarget(s).setEase(fgui.EaseType.Linear).onUpdate(function(e){s.y=c.y-e.value.x,d.alpha=e.value.x/(.5*u)},this).onComplete(function(){c.y=s.y,fgui.GTween.to(0,.5*u,.5*o).setTarget(s).setEase(fgui.EaseType.Linear).onUpdate(function(e){s.y=c.y-e.value.x,d.alpha=1-e.value.x/(.5*u)},r).onComplete(function(){s.visible=!1,d.alpha=1,r._textFieldPool.push(s),i&&i()},r).setDelay(1)},this)},e.prototype.goldFallingEff=function(e,t,n,r,s,l){var d=this;void 0===n&&(n=0),void 0===r&&(r=cc.v2(0,0)),void 0===s&&(s=null),void 0===l&&(l=null);var u=e,c={};c.lastIdx=0==r.x?5:r.x,c.maxIdx=0==r.y?5:r.y;var h={};h.lastIdx=null==s?cc.v2(-50,-50):s,h.maxIdx=null==l?cc.v2(50,50):l;var f=1,g=u.sub(t).dot(u.sub(t));(g=g>8e5?8e5:g)>4e5&&(g=4e5-(g-4e5)),f=(f*=g/4e5)<=1?f:1;var p=cc.v2(25,25),_=Math.random()*(c.maxIdx-c.lastIdx)+c.lastIdx;_=Math.round(_);var v=[];if(this._recordGoldPools.length>=_)for(var I=0;I<_;I++)v.push(this._recordGoldPools.pop());else{var m=_-this._recordGoldPools.length,C=this._recordGoldPools.length;for(I=0;I<C;I++)v.push(this._recordGoldPools.pop());for(I=0;I<m;I++){var w=new fgui.GLoader;this._recordAllGold.push(w),v.push(w)}}for(I=0;I<v.length;I++)v[I].width=p.x,v[I].height=p.y,v[I].fill=fgui.LoaderFillType.ScaleFree,v[I].url="ui://PublishPackage/ui_youxizhong_jinbi",v[I].visible=!0,v[I].setPosition(u.x,u.y),null==this._recordAddCom&&(this._recordAddCom=new fgui.GComponent,a.default.getInstance().addChildTo(this._recordAddCom)),this._recordAddCom.addChild(v[I]);var y=function(e){var a=Math.random()*(h.maxIdx.x-h.lastIdx.x)+h.lastIdx.x,r=Math.random()*(h.maxIdx.y-h.lastIdx.y)+h.lastIdx.y,s=cc.v2(a,r);fgui.GTween.to2(0,0,s.x,s.y,.15).setTarget(v[e]).setEase(fgui.EaseType.Linear).onUpdate(function(t){v[e].setPosition(u.x+t.value.x,u.y+t.value.y)},S).onComplete(function(){var a=f+.2*Math.random()+-.2*Math.random(),r=v[e].x,s=v[e].y;fgui.GTween.to2(r,s,t.x,t.y,a).setTarget(v[e]).setEase(fgui.EaseType.BackIn).onUpdate(function(t){v[e].setPosition(t.value.x,t.value.y)},d).onComplete(function(){i.default.getInstance().PlayEffByConfigID(401,1),o.default.getInstance().glodChange(n/_),v[e].visible=!1,d._recordGoldPools.push(v[e])},d)},S)},S=this;for(I=0;I<v.length;I++)y(I)},e.prototype.addGoldCountShow=function(e,t,n){var i,r=this;void 0===n&&(n=0),null==this._glodAddTxtCom&&(this._glodAddTxtCom=new fgui.GComponent,a.default.getInstance().addChildTo(this._glodAddTxtCom)),this._glodAddTxtPool.length>0?i=this._glodAddTxtPool.pop():(i=fgui.UIPackage.createObject("MainWnd","addGlodCom").asCom,this._glodAddTxtCom.addChild(i)),i.getChild("n0").asTextField.text="+"+o.default.getInstance().returnGlodString(t),i.setPivot(.5,.5,!0),i.visible=!0,i.setPosition(e.x,e.y);var s=e;fgui.GTween.to(0,50,1).setTarget(i).setEase(fgui.EaseType.Linear).onUpdate(function(e){i.y=s.y-e.value.x,i.getChild("n0").alpha=1-e.value.x/50,i.getChild("n1").alpha=1-e.value.x/50},this).onComplete(function(){i.visible=!1,r._glodAddTxtPool.push(i),i.getChild("n0").alpha=1,i.getChild("n1").alpha=1},this).setDelay(n)},e.prototype.goldExplodeEff=function(e,t,n,o,i){var r=this;void 0===t&&(t=0),void 0===n&&(n=cc.v2(0,0)),void 0===o&&(o=null),void 0===i&&(i=null);var s=e,l={};l.lastIdx=0==n.x?3:n.x,l.maxIdx=0==n.y?3:n.y;var d={};d.lastIdx=null==o?cc.v2(-300,-300):o,d.maxIdx=null==i?cc.v2(300,300):i;var u=cc.v2(25,25),c=Math.random()*(l.maxIdx-l.lastIdx)+l.lastIdx;c=Math.round(c);var h=[];if(this._recordGoldPools.length>=c)for(var f=0;f<c;f++)h.push(this._recordGoldPools.pop());else{var g=c-this._recordGoldPools.length,p=this._recordGoldPools.length;for(f=0;f<p;f++)h.push(this._recordGoldPools.pop());for(f=0;f<g;f++){var _=new fgui.GLoader;this._recordAllGold.push(_),h.push(_)}}for(f=0;f<h.length;f++)h[f].width=u.x,h[f].height=u.y,h[f].fill=fgui.LoaderFillType.ScaleFree,h[f].url="ui://PublishPackage/ui_jinbi",h[f].visible=!0,h[f].setPosition(s.x,s.y),a.default.getInstance().addChildTo(h[f],2);var v=function(e){var t=Math.random()*(d.maxIdx.x-d.lastIdx.x)+d.lastIdx.x,n=Math.random()*(d.maxIdx.y-d.lastIdx.y)+d.lastIdx.y,a=cc.v2(t,n);fgui.GTween.to2(0,0,a.x,a.y,.3).setTarget(h[e]).setEase(fgui.EaseType.Linear).onUpdate(function(t){h[e].setPosition(s.x+t.value.x,s.y+t.value.y)},I).onComplete(function(){fgui.GTween.to(1,0,.3).setTarget(h[e]).setDelay(.3*Math.random()).setEase(fgui.EaseType.Linear).onUpdate(function(t){h[e].alpha=t.value.x},r).onComplete(function(){h[e].visible=!1,h[e].alpha=1,r._recordGoldPools.push(h[e])},r)},I)},I=this;for(f=0;f<h.length;f++)v(f)},e.prototype.ShakeObj=function(e,t,n,a){var o=cc.v2(e.x,e.y),s=!1;fgui.GTween.shake(0,0,t,n).setTarget(e).setEase(fgui.EaseType.Linear).onStart(function(){e.color=cc.Color.WHITE},this).onUpdate(function(t){a&&(e.color=a),!s&&t.normalizedTime<.2&&!i.default.getInstance().NowAudioState?(r.default.getInstance().PhoneShake(!0),s=!0):t.normalizedTime>.2&&(s=!1),e.setPosition(o.x+t.value.x,o.y+t.value.y)},this).onComplete(function(){e.color=cc.Color.WHITE,e.setPosition(o)},this).setDelay(.5).setRepeat(-1)},e.prototype.DefaultGTextFieldStyle=function(e,t){e.font="ui://LoginWnd/mySysFont2",e.fontSize=30,e.alpha=0,e.autoSize=1,e.setPivot(.5,.5,!0)},e.prototype.localPosToFguiPos=function(e,t){void 0===t&&(t=null);var n=(null==t?cc.find("Canvas"):t).convertToWorldSpaceAR(e);return cc.v2(n.x,fgui.GRoot.inst.height-n.y)},e.prototype.localPosToFguiNativePos=function(e){var t=this.localPosToFguiPos(e);return cc.v2(t.x,-t.y)},e}();n.default=s,cc._RF.pop()},{"../../Manager/AudioManager":"AudioManager","../../Manager/GameDataManager":"GameDataManager","../../SDK/SDKManager":"SDKManager","./WindowManager":"WindowManager"}],WxAudio:[function(e,t,n){"use strict";cc._RF.push(t,"8343eUs+s5IlIc8JAvjlMch","WxAudio"),Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(){this.WX=window.wx,this.WxDownloader=window.wxDownloader,this._audioPool={},this._recordPlayOverCall=null}return e.GetInstance=function(){return null==e._instance&&(e._instance=new e),e._instance},e.prototype._CreateWxAudioCom=function(e){var t=cc.loader.md5Pipe;if(t&&(e=t.transformURL(e)),null==this._audioPool[e]&&(this._audioPool[e]=[]),this._audioPool[e].length>0)return this._audioPool[e].pop();var n=this.WX.createInnerAudioContext(),a=this.WxDownloader.getCacheName(e);return n.src=this.WX.env.USER_DATA_PATH+"/gamecaches/"+a,n.onStop(this._pushToPool.bind(this,e,n)),n.onEnded(this._pushToPool.bind(this,e,n)),n},e.prototype._pushToPool=function(e,t){this._recordPlayOverCall&&this._recordPlayOverCall(),this._audioPool[e].push(t)},e.prototype.BindPlayOverCall=function(e){null==this._recordPlayOverCall&&(this._recordPlayOverCall=e)},e.prototype.Play=function(e,t,n){void 0===n&&(n=!1);var a=this._CreateWxAudioCom(e);return a.volume=t,a.loop=n,a.play(),a},e}();n.WxAudio=a,cc._RF.pop()},{}],ccNavigator:[function(e,t,n){"use strict";cc._RF.push(t,"e74e0E8J0pNB5i8QpjQvssJ","ccNavigator"),Object.defineProperty(n,"__esModule",{value:!0});var a=e("./ws.js"),o=function(){function e(){this.friendPlayIconSprites=[],this.friendPlayIconInfos=[],this.loadFriendPlayIconInfos=null,this.carouselIconInfos=[],this.carouselIconIndex=0,this.loadCarouselIconInfos=null,this.drawerItems=[],this.drawerIconInfos=[],this.loadDrawerIconInfos=null}return e.prototype.createFriendPaly=function(e,t){var n=this,o=new cc.Node("friendPlay");o.width=678,o.height=270,o.x=e.width/2,o.y=-e.height/2;var s=new cc.Node("panel");s.width=678,s.height=270;var l=s.addComponent(cc.Sprite);l.sizeMode=cc.Sprite.SizeMode.CUSTOM,l.type=cc.Sprite.Type.SLICED,i("localRes/friendPlayPanel.png",l,function(e,t){t.insetLeft=36,t.insetRight=36,t.insetTop=26,t.insetBottom=36}),o.addChild(s);var d=new cc.Node("title");i("localRes/friendPlayTitle.png",d.addComponent(cc.Sprite)),d.x=-280,d.y=5,o.addChild(d);for(var u=0;u<10;u++){var c=new cc.Node("icon"+u);c.idx=u,c.width=95,c.height=95,c.y=u<5?58:-48,c.x=u%5*110-195,c.on(cc.Node.EventType.TOUCH_END,function(){var e=n.friendPlayIconInfos[this.idx];e&&r(e,t)},c);var h=c.addComponent(cc.Sprite);h.sizeMode=cc.Sprite.SizeMode.CUSTOM,o.addChild(c),this.friendPlayIconSprites.push(h)}return e.addChild(o),this.loadFriendPlayIconInfos=function(){a.default.getPromoGameAd({count:10,success:function(e){var t=e.data;n.friendPlayIconInfos=t,function(){for(var e=0;e<n.friendPlayIconSprites.length;e++){var t=n.friendPlayIconInfos[e],a=n.friendPlayIconSprites[e];t?(a.node.active=!0,i(t.icon,a)):a.node.active=!1}}()}})},this.loadFriendPlayIconInfos(),o},e.prototype.createDrawer=function(e,t,n){var o=this,s=new cc.Node("drawer"),l=new cc.Node("background");l.width=750,l.height=1700;var d=l.addComponent(cc.Sprite);d.sizeMode=cc.Sprite.SizeMode.CUSTOM,d.type=cc.Sprite.Type.SLICED,i("localRes/blank.png",d,function(e,t){t.insetLeft=2,t.insetRight=2,t.insetTop=2,t.insetBottom=2}),s.addChild(l),l.addComponent(cc.Button),l.active=!1;var u=new cc.Node("panel");u.width=448,u.height=616;var c=u.x=-l.width/2-u.width/2,h=c+u.width;u.y=0;var f=u.addComponent(cc.Sprite);f.sizeMode=cc.Sprite.SizeMode.CUSTOM,f.type=cc.Sprite.Type.SLICED,i("localRes/drawerPanel.png",f,function(e,t){t.insetLeft=10,t.insetRight=26,t.insetTop=26,t.insetBottom=26}),s.addChild(u);var g=new cc.Node("title");g.width=146,g.height=34,g.y=270,i("localRes/drawerTitle.png",g.addComponent(cc.Sprite)),u.addChild(g);var p=new cc.Node("content");p.y=270,p.width=420,p.height=0,p.anchorY=1;var _=p.addComponent(cc.Layout);_.type=cc.Layout.Type.GRID,_.resizeMode=cc.Layout.ResizeMode.CONTAINER;var v=new cc.Node("view");v.width=420,v.height=540,v.addChild(p),v.addComponent(cc.Mask);var I=new cc.Node("list");I.width=420,I.height=540,I.y=-25;var m=I.addComponent(cc.ScrollView);m.content=p,m.horizontal=!1,m.vertical=!0,I.addChild(v),u.addChild(I);var C=new cc.Node("closeButton");C.width=108,C.height=96,i("localRes/drawerButton.png",C.addComponent(cc.Sprite)),C.on(cc.Node.EventType.TOUCH_END,function(){u.runAction(cc.sequence(cc.moveTo(.3,cc.v2(c,u.y)),cc.callFunc(function(){l.active=!1,C.active=!1,w.active=!0})))}),u.addChild(C),C.x=u.width/2+C.width/2-2,C.active=!1;var w=new cc.Node("openButton");w.width=108,w.height=96,i("localRes/drawerButton.png",w.addComponent(cc.Sprite)),w.on(cc.Node.EventType.TOUCH_END,function(){l.active=!0,C.active=!0,w.active=!1,o.loadDrawerIconInfos(),u.runAction(cc.sequence(cc.moveTo(.3,cc.v2(h,u.y)),cc.callFunc(function(){})))}),t.addChild(w);var y=new cc.NodePool;function S(){var e=y.get();if(!e){(e=new cc.Node("item")).width=140,e.height=140;var t=new cc.Node("icon");t.width=118,t.height=118,t.addComponent(cc.Sprite).sizeMode=cc.Sprite.SizeMode.CUSTOM,e.addChild(t),e.on(cc.Node.EventType.TOUCH_END,function(){var e=o.drawerIconInfos[this.idx];e&&r(e,n)},e)}return e.x=0,e.y=0,e}function A(e){e.removeFromParent(),y.put(e)}return this.loadDrawerIconInfos=function(){a.default.getPromoGameAd({count:-1,success:function(e){var t=e.data;o.drawerIconInfos=t,function(){var e=p.children.length;if(!e||e!==o.drawerIconInfos.length){for(var t=e-1;t>=0;t--)A(p.children[t]);for(t=0;t<o.drawerIconInfos.length;t++){var n=S();n.idx=t,p.addChild(n)}}for(t=0;t<p.children.length;t++){var a=o.drawerIconInfos[t],r=p.children[t].getChildByName("icon").getComponent(cc.Sprite);i(a.icon,r)}}()}})},e.addChild(s),s},e.prototype.createCarousel=function(e,t){var n=this,o=new cc.Node("carousel");o.width=100,o.height=100,o.x=e.width/2,o.y=-e.height/2,o.rotation=-10,o.runAction(cc.repeatForever(cc.sequence(cc.rotateTo(.5,10),cc.rotateTo(.5,-10)))),o.runAction(cc.repeatForever(cc.sequence(cc.delayTime(4.5),cc.scaleTo(.25,0),cc.callFunc(function(){n.carouselIconIndex++,n.carouselIconIndex>=n.carouselIconInfos.length&&(n.carouselIconIndex=0),d()}),cc.scaleTo(.25,1))));var s=new cc.Node("icon");s.width=100,s.height=100,s.on(cc.Node.EventType.TOUCH_END,function(){var e=n.carouselIconInfos[n.carouselIconIndex];e&&r(e,t)},s);var l=s.addComponent(cc.Sprite);function d(){var e=n.carouselIconInfos[n.carouselIconIndex];e||(n.carouselIconIndex=0,e=n.carouselIconInfos[n.carouselIconIndex]),e?(s.active=!0,i(e.icon,l)):s.active=!1}return l.sizeMode=cc.Sprite.SizeMode.CUSTOM,o.addChild(s),this.loadCarouselIconInfos=function(){a.default.getPromoGameAd({count:-1,success:function(e){var t=e.data;n.carouselIconInfos=t,d()}})},this.loadCarouselIconInfos(),e.addChild(o),o},e}();function i(e,t,n){cc.loader.load(e,function(e,a){if(!e){var o=new cc.SpriteFrame(a);t.spriteFrame=o,n&&n(t,o)}})}function r(e,t){a.default.tapGameAd({pos:t,ad:e,redirect:!0})}n.default=o,cc._RF.pop()},{"./ws.js":"ws"}],inspector:[function(e,t,n){"use strict";cc._RF.push(t,"6027eiPgQFPMqsnYDf7Kl65","inspector");var a=e("CCInspectorPluginMsg"),o={log:function(){1===arguments.length||2===arguments.length||arguments.length},initInspector:function(){window.inspectorGameMemoryStorage=window.inspectorGameMemoryStorage||{},this.onWebSocketInit()},_collectNodeInfo:function(e){if(e){var t=this._getNodeComponentsInfo(e);return{name:e.name,active:e.active,uuid:e.uuid,type:e.constructor.name,x:e.x,y:e.y,zIndex:e.zIndex,childrenCount:e.childrenCount,children:[],width:e.width,height:e.height,color:{r:e.color.r,g:e.color.g,b:e.color.b,a:e.color.a},opacity:e.opacity,rotation:e.rotation,rotationX:e.rotationX,rotationY:e.rotationY,anchorX:e.anchorX,anchorY:e.anchorY,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,components:t}}return null},getNodeInfo:function(e){var t=window.inspectorGameMemoryStorage[e];return t?this._collectNodeInfo(t):null},_getNodeComponentsInfo:function(e){for(var t=[],n=e._components,a=0;a<n.length;a++){var o=n[a];window.inspectorGameMemoryStorage[o.uuid]=o,t.push({uuid:o.uuid,type:o.constructor.name,name:cc.js.getClassName(o)})}return t},_collectChildrenInfo:function(e,t){var n=this._collectNodeInfo(e);window.inspectorGameMemoryStorage[e.uuid]=e;for(var a=e.getChildren(),o=0;o<a.length;o++){var i=a[o];this._collectChildrenInfo(i,n.children)}t.push(n)},_collectTreeInfo:function(){for(var e=[],t=cc.director.getScene().getChildren(),n=0;n<t.length;n++){var a=t[n];this._collectChildrenInfo(a,e)}return e},wsSend:function(e,t){if(this.ws){var n={code:e,data:t},a=JSON.stringify(n);cc.sys.isBrowser,this.ws.send(a)}},onWebSocketInit:function(){this.ws=new WebSocket("ws://localhost:6543"),this.ws.onopen=function(){this.wsSend(a.Msg.Test,"hello cc-inspector!")}.bind(this),this.ws.onmessage=function(e){cc.sys.isBrowser;var t=JSON.parse(e.data),n=t.code,o=t.data;if(n===a.Msg.GetTreeInfo){var i=this._collectTreeInfo();this.wsSend(a.Msg.GetTreeInfo,i)}else if(n===a.Msg.GetNodeInfo){var r=this.getNodeInfo(o);r&&this.wsSend(a.Msg.GetNodeInfo,r)}else if(n===a.Msg.Position){var s=o.uuid,l=o.data,d=window.inspectorGameMemoryStorage[s];d&&(d.x=l.x,d.y=l.y)}else if(n===a.Msg.Opacity){var u=o.uuid,c=o.data,h=window.inspectorGameMemoryStorage[u];h&&(h.opacity=c)}else if(n===a.Msg.Anchor){var f=o.uuid,g=o.data,p=window.inspectorGameMemoryStorage[f];p&&(p.anchorX=g.x,p.anchorY=g.y)}else if(n===a.Msg.Size){var _=o.uuid,v=o.data,I=window.inspectorGameMemoryStorage[_];I&&(I.width=v.width,I.height=v.height)}else if(n===a.Msg.Scale){var m=o.uuid,C=o.data,w=window.inspectorGameMemoryStorage[m];w&&(w.scaleX=C.x,w.scaleY=C.y)}else if(n===a.Msg.Rotation){var y=o.uuid,S=o.data,A=window.inspectorGameMemoryStorage[y];A&&(A.rotation=S)}else if(n===a.Msg.Skew){var M=o.uuid,T=o.data,B=window.inspectorGameMemoryStorage[M];B&&(B.skewX=T.x,B.skewY=T.y)}else if(n===a.Msg.Color){var D=o.uuid,E=o.data,R=window.inspectorGameMemoryStorage[D];R&&(R.color=cc.color(E))}else if(n===a.Msg.Active){var G=o.uuid,b=o.data,P=window.inspectorGameMemoryStorage[G];P&&(P.active=b)}}.bind(this),this.ws.onerror=function(){this.ws=null}.bind(this),this.ws.onclose=function(){this.ws=null}.bind(this)},_testHttp:function(){var e=new XMLHttpRequest;e.onreadystatechange=function(){4===e.readyState&&e.status>=200&&e.status<400&&e.responseText}.bind(this),e.onerror=function(){},e.open("post","http://localhost:6543",!0);try{e.send("test")}catch(e){}},test:function(){}};o.initInspector(),t.exports=o,cc._RF.pop()},{CCInspectorPluginMsg:"CCInspectorPluginMsg",electron:void 0}],ws:[function(e,t,n){"use strict";cc._RF.push(t,"e744fQt7cBD25I1VBdaCQTT","ws");var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.exports.default=function(e){var t={};function n(a){if(t[a])return t[a].exports;var o=t[a]={exports:{},id:a,loaded:!1};return e[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){var a,o=(a=n(1))&&a.__esModule?a:{default:a},i=n(4),r=n(5),s=n(6),l=n(7),d=n(8),u=n(9),c=n(10),h=n(11),f=n(12),g=n(13),p=n(2),_=n(14),v=n(15);(0,p.initUtil)(o.default),(0,i.initHTTP)(o.default),(0,r.initUser)(o.default),(0,s.initConfig)(o.default),(0,l.initData)(o.default),(0,d.initShare)(o.default),(0,u.initProcess)(o.default),(0,c.initPayment)(o.default),(0,h.initAD)(o.default),(0,f.initHook)(o.default),(0,g.initInvite)(o.default),(0,_.initEvent)(o.default),(0,v.initMessage)(o.default),e.exports=window.ws=o.default},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=(a=n(2))&&a.__esModule?a:{default:a},r={tmp:{},options:{scheme:"https://",host:"api.websdk.cn",apiVersion:"v1",USER_KEY:"ws_user",CONF_KEY:"ws_conf",DATA_KEY:"ws_data",share10:!0,commonDuration:120,allowAld:!1},conf:{},user:{},data:{},version:"1.0.1",mode:"default",debug:!0,shareCallbackData:{},shareTempData:{},shareGiftTempData:{},_initCallbacks:[],_showCallbacks:[],_hideCallbacks:[],_afterHideCallbacks:[],_shareCallbacks:[],_openFromShareCallbacks:[],_openFromCodeCallbacks:[],_onInit:function(){var e=!0,t=!1,n=void 0;try{for(var a,o=this._initCallbacks[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var i=a.value;i&&i()}}catch(e){t=!0,n=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw n}}},_onShow:function(e){if(console.log("onShow:",e,"mode:",this.mode),"default"!==this.mode)this.shareCallbackData&&this.shareCallbackData.callback&&"shareAppMessage"==this.mode&&(this.shareCallbackData.callback(e,Date.now()-this.shareCallbackData.ms),this.shareCallbackData={}),this.mode="default";else{var t=!0,n=!1,a=void 0;try{for(var o,i=this._showCallbacks[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;s&&s(e)}}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}if(e.query&&"share"===e.query.type?r._openFromShare("onShow",e.query,e):e.query&&e.query.scene&&"code_"===e.query.scene.substring(0,5)&&r._openFromCode("onShow",e.query.scene,e),this.user&&e.shareTicket&&e.query&&e.query.uid==this.user.id)for(var l in this.shareTempData)l==e.query.share_tid&&r._shareCallback(this.shareTempData[l],e)}},_onHide:function(e){if(console.log("onHide:",e,"mode:",this.mode),"default"===this.mode){var t=!0,n=!1,a=void 0;try{for(var o,i=this._hideCallbacks[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var r=o.value;r&&r(e)}}catch(e){n=!0,a=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw a}}var s=!0,l=!1,d=void 0;try{for(var u,c=this._afterHideCallbacks[Symbol.iterator]();!(s=(u=c.next()).done);s=!0){var h=u.value;h&&h(e)}}catch(e){l=!0,d=e}finally{try{!s&&c.return&&c.return()}finally{if(l)throw d}}}},_openFromShare:function(e,t,n){var a=!0,o=!1,i=void 0;try{for(var r,s=this._openFromShareCallbacks[Symbol.iterator]();!(a=(r=s.next()).done);a=!0){var l=r.value;l&&l({from:e,query:t,options:n})}}catch(e){o=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(o)throw i}}},_openFromCode:function(e,t,n){r.get({url:"/share/qrcode",data:{scene:t},success:function(a){var o=!0,i=!1,s=void 0;try{for(var l,d=r._openFromCodeCallbacks[Symbol.iterator]();!(o=(l=d.next()).done);o=!0){var u=l.value;u&&u({from:e,scene:t,options:n,query:a.data})}}catch(e){i=!0,s=e}finally{try{!o&&d.return&&d.return()}finally{if(i)throw s}}}})},_shareCallback:function(e,t){wx.getShareInfo({shareTicket:t.shareTicket,success:function(n){e.onShareTicketSuccess&&e.onShareTicketSuccess(n),r.shareLog(e,"click",t.shareTicket,n,t)}.bind(this),fail:function(n){e.onShareTicketFail&&e.onShareTicketFail(n),r.shareLog(e,"click",t.shareTicket,{},t)}.bind(this)})},onInit:function(e){this._initCallbacks.push(e)},onShow:function(e){this._showCallbacks.push(e)},onHide:function(e){this._hideCallbacks.push(e)},afterHide:function(e){this._afterHideCallbacks.push(e)},openFromShare:function(e){this._openFromShareCallbacks.push(e)},openFromCode:function(e){this._openFromCodeCallbacks.push(e)},init:function(e){this.options=o({},i.default.copy(e,this.options)),this.systemInfo=wx.getSystemInfoSync(),this.launchOptions=wx.getLaunchOptionsSync(),this.user=wx.getStorageSync(this.options.USER_KEY),this.conf=wx.getStorageSync(this.options.CONF_KEY),this.data=wx.getStorageSync(this.options.DATA_KEY),this.log("conf:",this.conf),wx.onShow(this._onShow.bind(this)),wx.onHide(this._onHide.bind(this))},onLogined:function(){var e=this.launchOptions;e.query&&"share"===e.query.type?r._openFromShare("onLaunch",e.query,e):e.query&&e.query.scene&&"code_"===e.query.scene.substring(0,5)&&r._openFromCode("onLaunch",e.query.scene,e),this._onInit()}};t.default=r},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==a(Symbol.iterator)?function(e){return void 0===e?"undefined":a(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":a(e)};t.initUtil=function(e){e.checkSDK=function(e,t){var n=this;return function(a,o){return n.requireSDK(e)?t.apply(n,[a]):(n.log("\u5fae\u4fe1SDK\u7248\u672c\u8fc7\u4f4e\uff1a"+n.systemInfo.SDKVersion+",\u9700\u8981\u66f4\u65b0\u81f3"+e),void(o&&"function"==typeof o&&o([n.systemInfo.SDKVersion,e])))}},e.requireSDK=function(e){return s.compareVersion(this.systemInfo.SDKVersion,e)},e.requireSystemVersion=function(e){return s.compareVersion(this.systemInfo.version,e)},e.isIPhoneX=function(){return this.systemInfo&&-1!=this.systemInfo.model.indexOf("iPhone X")},e.isIOS=function(){return this.systemInfo&&-1!=this.systemInfo.system.indexOf("iOS")},e.isAndroid=function(){return this.systemInfo&&-1!=this.systemInfo.system.indexOf("Android")},e.toFixed=function(e,t){for(var n=e.toFixed(t)+"";"0"===n[n.length-1];)if("."===(n=n.substring(0,n.length-1))[n.length-1]){n=n.substring(0,n.length-1);break}return n},e.log=function(){try{if(this.debug&&console&&console.log){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return console.log.apply(console,t)}}catch(e){}},e.setAlertCallback=function(t){e._alertCallback=t},e.alert=function(t){e._alertCallback?e._alertCallback(t):wx.showModal({content:t})},e.trace=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.post({url:"/log/trace",data:{key:e,pos:t,data:n}})},e.getServerTime=function(){return e.conf&&e.conf.server_time?e.conf.server_time:0}};var i,r=(i=n(3))&&i.__esModule?i:{default:i},s={sign:function(e,t){if("string"==typeof e)return s.signSort(e,t);if("object"==(void 0===e?"undefined":o(e))){var n=[];for(var a in e)n.push(a+"="+e[a]);return s.signSort(n.join("&"),t)}},signSort:function(e,t){var n=e.split("&").sort().join("&")+"&key="+t;return(0,r.default)(n).toUpperCase()},S4:function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},guid:function(){return Date.now()+"-"+s.S4()},compareVersion:function(e,t){var n=parseFloat(e),a=parseFloat(t),o=e.replace(n+".",""),i=t.replace(a+".","");return n>a||!(n<a)&&o>=i},copy:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:null)||(e&&e.push?[]:{});for(var n in e)t[n]="object"===o(e[n])?s.copy(e[n]):e[n];return t},randomSort:function(e){for(var t,n=0;n<e.length;n++){var a=parseInt(Math.random()*e.length+"");t=e[a],e[a]=e[n],e[n]=t}return e}};t.default=s},function(e,t,n){var a;"function"==typeof Symbol&&Symbol.iterator,function(o){function i(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function r(e,t,n,a,o,r){return i((s=i(i(t,e),i(a,r)))<<(l=o)|s>>>32-l,n);var s,l}function s(e,t,n,a,o,i,s){return r(t&n|~t&a,e,t,o,i,s)}function l(e,t,n,a,o,i,s){return r(t&a|n&~a,e,t,o,i,s)}function d(e,t,n,a,o,i,s){return r(t^n^a,e,t,o,i,s)}function u(e,t,n,a,o,i,s){return r(n^(t|~a),e,t,o,i,s)}function c(e,t){var n,a,o,r,c;e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t;var h=1732584193,f=-271733879,g=-1732584194,p=271733878;for(n=0;n<e.length;n+=16)a=h,o=f,r=g,c=p,h=u(h=d(h=d(h=d(h=d(h=l(h=l(h=l(h=l(h=s(h=s(h=s(h=s(h,f,g,p,e[n],7,-680876936),f=s(f,g=s(g,p=s(p,h,f,g,e[n+1],12,-389564586),h,f,e[n+2],17,606105819),p,h,e[n+3],22,-1044525330),g,p,e[n+4],7,-176418897),f=s(f,g=s(g,p=s(p,h,f,g,e[n+5],12,1200080426),h,f,e[n+6],17,-1473231341),p,h,e[n+7],22,-45705983),g,p,e[n+8],7,1770035416),f=s(f,g=s(g,p=s(p,h,f,g,e[n+9],12,-1958414417),h,f,e[n+10],17,-42063),p,h,e[n+11],22,-1990404162),g,p,e[n+12],7,1804603682),f=s(f,g=s(g,p=s(p,h,f,g,e[n+13],12,-40341101),h,f,e[n+14],17,-1502002290),p,h,e[n+15],22,1236535329),g,p,e[n+1],5,-165796510),f=l(f,g=l(g,p=l(p,h,f,g,e[n+6],9,-1069501632),h,f,e[n+11],14,643717713),p,h,e[n],20,-373897302),g,p,e[n+5],5,-701558691),f=l(f,g=l(g,p=l(p,h,f,g,e[n+10],9,38016083),h,f,e[n+15],14,-660478335),p,h,e[n+4],20,-405537848),g,p,e[n+9],5,568446438),f=l(f,g=l(g,p=l(p,h,f,g,e[n+14],9,-1019803690),h,f,e[n+3],14,-187363961),p,h,e[n+8],20,1163531501),g,p,e[n+13],5,-1444681467),f=l(f,g=l(g,p=l(p,h,f,g,e[n+2],9,-51403784),h,f,e[n+7],14,1735328473),p,h,e[n+12],20,-1926607734),g,p,e[n+5],4,-378558),f=d(f,g=d(g,p=d(p,h,f,g,e[n+8],11,-2022574463),h,f,e[n+11],16,1839030562),p,h,e[n+14],23,-35309556),g,p,e[n+1],4,-1530992060),f=d(f,g=d(g,p=d(p,h,f,g,e[n+4],11,1272893353),h,f,e[n+7],16,-155497632),p,h,e[n+10],23,-1094730640),g,p,e[n+13],4,681279174),f=d(f,g=d(g,p=d(p,h,f,g,e[n],11,-358537222),h,f,e[n+3],16,-722521979),p,h,e[n+6],23,76029189),g,p,e[n+9],4,-640364487),f=d(f,g=d(g,p=d(p,h,f,g,e[n+12],11,-421815835),h,f,e[n+15],16,530742520),p,h,e[n+2],23,-995338651),g,p,e[n],6,-198630844),f=u(f=u(f=u(f=u(f,g=u(g,p=u(p,h,f,g,e[n+7],10,1126891415),h,f,e[n+14],15,-1416354905),p,h,e[n+5],21,-57434055),g=u(g,p=u(p,h=u(h,f,g,p,e[n+12],6,1700485571),f,g,e[n+3],10,-1894986606),h,f,e[n+10],15,-1051523),p,h,e[n+1],21,-2054922799),g=u(g,p=u(p,h=u(h,f,g,p,e[n+8],6,1873313359),f,g,e[n+15],10,-30611744),h,f,e[n+6],15,-1560198380),p,h,e[n+13],21,1309151649),g=u(g,p=u(p,h=u(h,f,g,p,e[n+4],6,-145523070),f,g,e[n+11],10,-1120210379),h,f,e[n+2],15,718787259),p,h,e[n+9],21,-343485551),h=i(h,a),f=i(f,o),g=i(g,r),p=i(p,c);return[h,f,g,p]}function h(e){var t,n="",a=32*e.length;for(t=0;t<a;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function f(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;var a=8*e.length;for(t=0;t<a;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function g(e){var t,n,a="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),a+="0123456789abcdef".charAt(t>>>4&15)+"0123456789abcdef".charAt(15&t);return a}function p(e){return unescape(encodeURIComponent(e))}function _(e){return function(e){return h(c(f(e),8*e.length))}(p(e))}function v(e,t){return function(e,t){var n,a,o=f(e),i=[],r=[];for(i[15]=r[15]=void 0,o.length>16&&(o=c(o,8*e.length)),n=0;n<16;n+=1)i[n]=909522486^o[n],r[n]=1549556828^o[n];return a=c(i.concat(f(t)),512+8*t.length),h(c(r.concat(a),640))}(p(e),p(t))}function I(e,t,n){return t?n?v(t,e):g(v(t,e)):n?_(e):g(_(e))}void 0===(a=function(){return I}.call(t,n,t,e))||(e.exports=a)}()},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initHTTP=function(e){e.request=r,e.get=s,e.post=l,e.put=d,e.delete=u,e.formatURL=c};var a=i(n(1)),o=i(n(2));function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.success,n=e.fail;return"GET"==e.method?e.url=c(e.url,e.data):e.url=c(e.url),e.header||(e.header={}),e.header.Authorization=a.default.isLogined()?a.default.user.token:"",e.success=function(o){"LOGIN_REQUIRED"===o.data.key?(a.default.log("login required:",e.url,e,o),a.default.doLogin()):0===o.data.code?(a.default.log("success:",e.url,e,o),t&&t(o.data)):n?(a.default.log("fail:",e.url,e,o),n(o.data)):a.default.log("unknown:",e.url,e,o)},e.fail=function(t){a.default.log("error:",e.url,e,t),n&&n(t)},wx.request(e)}function s(e){return e.method="GET",r(e)}function l(e){return e.method="POST",r(e)}function d(e){return e.method="PUT",r(e)}function u(e){return e.method="DELETE",r(e)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(e){-1==e.indexOf("?")&&(e+="?");var n=[];if(a.default.isLogined()&&n.push("user="+a.default.user.id),a.default.launchOptions){var i=a.default.launchOptions.query;i&&(i.uid&&n.push("uid="+i.uid),i.channel&&n.push("channel="+i.channel),i.share_id&&n.push("share_id="+i.share_id),i.share_tid&&n.push("share_tid="+i.share_tid),i.pos&&n.push("share_pos="+i.pos),i.scene&&n.push("scene="+decodeURIComponent(i.scene)))}n.push("v="+a.default.version),n.push("version="+a.default.options.version),n.push("appid="+a.default.options.appid),n.push("t="+Date.now()),"?"!==e.charAt(e.length-1)&&"&"!==e.charAt(e.length-1)&&(e+="&");var r=(e+=n.join("&")).split("?")[1];if(t){var s=[];for(var l in t)s.push(l+"="+t[l]);r+="&"+s.join("&")}if((e+="&sign="+o.default.sign(r,a.default.options.secret)).startsWith("/"))return a.default.options.scheme+a.default.options.host+"/"+a.default.options.apiVersion+e}return e}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initUser=function(e){e.isLogined=function(){return e.user&&e.user.token},e.getLoginStatus=function(){return e.isLogined()?"success":e.isCheckSession||e.isLogining?"logining":"fail"},e.login=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?e.doLogin(t):(e.isCheckSession=!0,wx.checkSession({success:function(){e.checkLogin(t),e.isCheckSession=!1}.bind(e),fail:function(){e.doLogin(t),e.isCheckSession=!1}.bind(e)}))},e.checkLogin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.isLogined()?(e.loginSuccess(),!e.requireSDK("2.0.3")&&e.needUserInfo()&&e.getUserInfo()):e.doLogin(t)},e.checkCode2access=function(t){var n=t.session_key?t:null;e.post({url:"/oauth/code2access_token",data:t,success:function(t){e.isLogining=!1,e.saveUser(t.data),e.checkLogin(n)}.bind(e),fail:e.loginFail.bind(e)})},e.doLogin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e.isLogining||(e.isLogining=!0,e.user=null,t?e.checkCode2access(t):wx.login({success:function(t){t.code?e.checkCode2access({code:t.code}):e.loginFail(t)}.bind(e),fail:e.loginFail.bind(e)}))},e.loginSuccess=function(t){var n=e.conf&&e.conf.last?e.conf.last:0;!n||Date.now()-n>1e3*e.options.commonDuration?e.getCommon(t):(e.doLoginSuccess(t),e.onLogined())},e.getCommon=function(t){e.get({url:"/common",success:function(n){e.conf=n.data.conf,e.conf.last=Date.now(),wx.setStorage({key:e.options.CONF_KEY,data:e.conf}),e.data||(e.data=n.data.data,wx.setStorage({key:e.options.DATA_KEY,data:e.data})),(t=t||{}).data=n.data.data,e.doLoginSuccess(t),e.onLogined()}.bind(e),fail:function(t){e.loginFail(t)}.bind(e)})},e.doLoginSuccess=function(t){e.isLogining=!1,e.loginCompleteCallback&&e.loginCompleteCallback(t),e.loginSuccessCallback&&e.loginSuccessCallback(t)},e.loginFail=function(t){e.isLogining=!1,e.loginCompleteCallback&&e.loginCompleteCallback(t),e.loginFailCallback&&e.loginFailCallback(t)},e.onLoginSuccess=function(t){e.loginSuccessCallback=t},e.onLoginFail=function(t){e.loginFailCallback=t},e.onLoginComplete=function(t){e.loginCompleteCallback=t},e.checkUserInfo=function(){e.needUserInfo()&&e.getUserInfo()},e.needUserInfo=function(){return!e.user||!e.user.nickname||!e.user.avatar},e.getUserInfo=function(){wx.getUserInfo({withCredentials:!0,success:function(t){return e.post({url:"/oauth/update_userinfo",data:t,success:function(t){e.saveUser(t.data),e.needUserInfo()?e.getUserInfoFail(t):e.getUserInfoSuccess()}.bind(e),fail:e.getUserInfoFail.bind(e)}),t}.bind(e),fail:e.getUserInfoFail.bind(e)})},e.getUserInfoSuccess=function(e){},e.getUserInfoFail=function(e){},e.saveUser=function(t){e.user=t,e.user.last=Date.parse(new Date),wx.setStorage({key:e.options.USER_KEY,data:e.user})}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initConfig=function(e){e.getConfig=i};var a,o=(a=n(1))&&a.__esModule?a:{default:a};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.default.conf&&void 0!==o.default.conf[e]?o.default.conf[e]:t}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initData=function(e){e.getData=i,e.setData=r,e.setAllData=s,e.incData=l,e.postData=d,e.postGameScore=u,e.getScoreRank=c};var a,o=(a=n(1))&&a.__esModule?a:{default:a};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.default.data&&void 0!==o.default.data[e]?o.default.data[e]:t}function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];o.default.data||(o.default.data={}),o.default.data[e]=t,n&&o.default.postData(e)}function s(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o.default.data=e,t&&o.default.postData()}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=o.default.getData(e,a)+t;return o.default.setData(e,i,n),i}function d(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],wx.setStorage({key:o.default.options.DATA_KEY,data:o.default.data}),o.default.data=function e(t){for(var n in t)t[n]instanceof Array?t[n]=t[n].slice():t[n]instanceof Object&&(t[n]=e(t[n]));return t}(o.default.data),o.default.post({url:"/data",data:o.default.data})}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"default",r={};if(e instanceof Object){var s=e;r={id:s.id,score:s.score,time:s.time,version:o.default.options.version,data:s.data,key:s.key}}else r={id:e,score:t,time:n,version:o.default.options.version,data:a,key:i};o.default.post({url:"/score",data:r,success:function(e){o.default.log("\u63d0\u4ea4\u5206\u6570\u6210\u529f\uff1a",t,e)},fail:function(e){o.default.log("\u63d0\u4ea4\u5206\u6570\u5931\u8d25\uff1a",t,e)}})}function c(e){var t=e.key,n=void 0===t?"default":t,a=e.scale,i=void 0===a?"week":a,r=e.skip,s=void 0===r?0:r,l=e.limit,d=void 0===l?10:l,u=e.success,c=void 0===u?null:u,h=e.fail,f=void 0===h?null:h;o.default.get({url:"/score",data:{score_key:n,scale:i,skip:s,limit:d},success:function(e){c&&c(e.data)},fail:function(e){f&&f(e)}})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initShare=function(e){e.share=function(t){e.options.allowAld?e.aldShareAppMessage(this.createShareOptions(t)):e.shareAppMessage(this.createShareOptions(t)),this.options.share10&&(this.log("share10"),this.shareLog(t,"share10","",{},{})),t.onShareBack&&(e.shareCallbackData={callback:t.onShareBack,ms:Date.now()})},e.createShareOptions=function(t){t.pos||(t.pos="default");var n=this.getShareInfo(t);t.shareId=n.shareId,t.imageUrlId=n.imageUrlId,t.title||(t.title=n.title),t.imageUrl||(t.imageUrl=n.imageUrl),t.success||(t.success=n.success),t.fail||(t.fail=n.fail),t.onHttpError||(t.onHttpError=n.onHttpError),t.tid||(t.tid=""+Date.now());var a="type=share&pos="+t.pos+"&share_id="+n.shareId+"&share_tid="+t.tid;this.isLogined()&&(a+="&uid="+this.user.id),t.gift&&(a+="&gift="+t.gift),t.query?"&"==t.query.indexOf(0)?(t.query=a+t.query,e.log("new share query: "+t.query)):(t.query=a+"&"+t.query,e.log("new share query: "+t.query)):t.query=a,e.shareTempData[t.tid]=t;var o={title:t.title,imageUrl:t.imageUrl,query:t.query,success:this.shareSuccess(t),fail:this.shareFail(t),complete:t.complete};return e.requireSDK("2.4.3")&&t.imageUrlId&&(o.imageUrlId=t.imageUrlId),o},e.getShareInfo=function(e){var t="",n="";this.options.share&&(t=this.options.share.title,n=this.options.share.imageUrl);var a,o=0,i=null;return e.defaultTitle&&(t=e.defaultTitle),this.conf&&this.conf.shares&&(this.conf.shares[e.pos]?a=this.conf.shares[e.pos]:this.conf.shares.default&&(a=this.conf.shares.default),a&&(a.title&&(t=a.title),a.image&&(n=a.image),a.id&&(o=a.id),a.image_id&&(i=a.image_id))),{title:t,imageUrl:n,shareId:o,imageUrlId:i,success:function(){wx.showToast({title:"\u5206\u4eab\u6210\u529f\uff01",icon:"success"})},fail:function(){wx.showToast({title:"\u5206\u4eab\u5931\u8d25\uff01",icon:"fail"})},onHttpError:function(){wx.showToast({title:"\u7f51\u7edc\u51fa\u9519\uff01",icon:"fail"})}}},e.shareSuccess=function(t){return function(n){console.log("shareSuccess"),delete e.shareTempData[t.tid];var a=!0;t.onShareSuccess&&(a=t.onShareSuccess(n)),a&&(n.shareTickets&&n.shareTickets.length>0?wx.getShareInfo({shareTicket:n.shareTickets[0],success:function(e){t.onShareTicketSuccess&&t.onShareTicketSuccess(e),this.shareLog(t,"success",n.shareTickets[0],e,n)}.bind(this),fail:function(e){t.onShareTicketFail&&t.onShareTicketFail(e),this.shareLog(t,"success",n.shareTickets[0],{},n)}.bind(this)}):(t.onShareTicketFail&&t.onShareTicketFail(),this.shareLog(t,"success","",{},n)))}.bind(this)},e.shareFail=function(e){return function(t){console.log("shareFail");var n=!0;e.onShareFail&&(n=e.onShareFail(t)),n&&this.shareLog(e,"fail","",{},t)}.bind(this)},e.shareLog=function(t,n,a,o,i){this.post({url:"/log/share",data:{share_id:t.shareId,title:t.title,query:t.query,image:t.imageUrl,pos:t.pos,tid:t.tid,status:n,shareTicket:a,info:o,error:i.errMsg,system_version:e.systemInfo.system,sdk_version:e.systemInfo.SDKVersion},success:function(a){"success"!==n&&"click"!==n||!t.success?"fail"===n&&t.fail&&t.fail(a,i):(t.success(a,i),delete e.shareTempData[t.tid])},fail:function(e){"success"!==n&&"click"!==n||!t.onHttpError?"fail"===n&&t.fail&&t.fail(e,i):t.onHttpError(e,i)}})},e.isEnableShare=function(){return!(!e.conf||!e.conf.allow_share||e.requireSystemVersion("6.7.0"))}}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.initProcess=function(e){e.onShow(function(e){l=Date.now(),s.showOptions=JSON.stringify(e)}),e.afterHide(function(t){var n=Date.now(),o=s=a({},s,{times:s.times+1,showDuration:l?n-l:n-s.initStartAt,duration:n-s.initStartAt}),i=(o.hasInited,o.initStartAt,function(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}(o,["hasInited","initStartAt"]));s.hasInited?u(i):(s.hasInited=!0,u(a({systemInfo:JSON.stringify(e.systemInfo),launchOptions:JSON.stringify(e.launchOptions)},i)))}),e.setProcess=d};var o=r(n(1)),i=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var s={hasInited:!1,initStartAt:Date.now(),showOptions:"",times:0,uuid:i.default.guid(),duration:0,showDuration:0,process:"init",processDuration:0},l=0;function d(e){"string"==typeof e?(s.process=e,s.processDuration=Date.now()-s.initStartAt):o.default.log("setProcess():  \u53c2\u6570\u7c7b\u578b\u9519\u8bef")}function u(e){o.default.post({url:"/log/process",data:e,success:function(e){o.default.log("\u63d0\u4ea4\u6e38\u620f\u8fdb\u5ea6\u6570\u636e\u6210\u529f\uff1a",e)},fail:function(e){o.default.log("\u63d0\u4ea4\u6e38\u620f\u8fdb\u5ea6\u6570\u636e\u5931\u8d25\uff1a",e)}})}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.initPayment=function(e){e.getPaymentResult=function(e){var t=e.success,n=void 0===t?null:t,a=e.fail,o=void 0===a?null:a;this.get({url:"/payment/result",success:function(e){this.log("\u83b7\u53d6\u5145\u503c\u6570\u636e\u6210\u529f",e),n&&n(e.data)}.bind(this),fail:function(e){this.log("\u83b7\u53d6\u5145\u503c\u6570\u636e\u5931\u8d25",e),o&&o(e)}.bind(this)})},e.requestMPPayment=function(t){var n=this,a=t.title,o=void 0===a?"\u70b9\u51fb\u5145\u503c\u94fe\u63a5\u8fdb\u5165\u5145\u503c":a,i=t.pos,r=void 0===i?"default":i,s=t.image,l=void 0===s?null:s,d=t.success,u=void 0===d?null:d,c=t.fail,h=void 0===c?null:c,f=t.complete,g=void 0===f?null:f;this.log("\u6253\u5f00\u5ba2\u670d\u5bf9\u8bdd"),e.openCustomerServiceConversation({sessionFrom:r,showMessageCard:!0,sendMessageTitle:o,sendMessagePath:"?type=message",sendMessageImg:l||e.conf.shares.default.image,success:function(e){n.log("\u6253\u5f00\u5145\u503c\u4f1a\u8bdd\u6210\u529f",e),g&&g(),u&&u()},fail:function(e){n.log("\u6253\u5f00\u5145\u503c\u4f1a\u8bddfail",e),g&&g(),h&&h()}})},e.requestMPPayment=e.checkSDK("2.0.3",e.requestMPPayment)}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.initAD=function(e){e.onShow(function(){for(var t in s){var n=s[t];n.isShow&&(e.createBanner({pos:n.pos,style:n.style,ms:n.ms,onResize:n.onResize}),n.isShow=!1)}for(var a=0;a<h.length;a++){var o=h[a];c[o].showed=!0,c[o].total_ms=0,c[o].last=Date.now()}h=[]}),e.afterHide(function(){for(var e in s){var t=s[e];t.isShow=t.showed,t.isShow&&g(t.pos),t.duration>0&&p(t)}for(var n in c)c[n].showed&&(R(n),h.push(n));for(var a in function(e){var t=e.ads,n=void 0===t?null:t,a=e.ad,o=void 0===a?null:a;if(!n&&!o)return!1;function i(e){var t=[],n=0,a=null;if(e.logs&&e.logs.length>0)for(var o=0;o<e.logs.length;o++)e.logs[o].posted||(n+=e.logs[o].ms,a=e.logs[o].last);if(!n||!e.data||0===e.data.length)return t;var i={pos:e.pos,tid:e.data[0].tid,commit:"show",last:a,ms:n,data:[]},r={};if(e.preload&&e.show_logs&&e.show_logs.length>0)for(var s in e.show_logs)r[e.show_logs[s].id]||(i.data.push({id:e.show_logs[s].id,cid:e.show_logs[s].cid,action:e.show_logs[s].action}),r[e.show_logs[s].id]=1);else for(var l=0;l<e.data.length;l++)r[e.data[l].id]||(i.data.push({id:e.data[l].id,cid:e.data[l].cid,action:e.data[l].action}),r[e.data[l].id]=1);return 0===i.data.length?t:(t.push(i),t)}function r(e,t){var n=[],a={},o={},i=null;if(!t.click_logs||0===t.click_logs.length)return n;for(var r=0,s=null;r<t.click_logs.length;r++)a[(i=t.click_logs[r]).id]||(s={pos:e,tid:i.tid,commit:"click",data:[i]},n.push(s),a[i.id]=1);if(t.open_logs&&t.open_logs.length>0)for(var l=0,d=null;l<t.open_logs.length;l++)o[(i=t.open_logs[l]).id]||(d={pos:e,tid:i.tid,commit:"open",data:[i]},n.push(d),o[i.id]=1);return n}var s=[];if(n)for(var l in n)s=(s=s.concat(i(n[l]))).concat(r(l,n[l]));else o&&(s=i(o));s.length>0&&P(s)}({ads:c}),d)d[a]&&d[a].count&&(w(d[a]),d[a]=null)}),e.createBanner=e.checkSDK("2.0.4",f),e.closeBanner=e.checkSDK("2.0.4",g),e.createVideo=e.checkSDK("2.0.4",v),e.createInterstitialAd=e.checkSDK("2.6.0",m),e.showInterstitialAd=e.checkSDK("2.6.0",C),e.postInterstitialData=e.checkSDK("2.6.0",w),e.isEnableVideo=_,e.getMoreGame=y,e.showMoreGame=S,e.getGameAd=B,e.hideGameAd=R,e.tapGameAd=b,e.fetchGameAd=D,e.getPromoGameAd=E,e.postAdClick=L,e.showGameAd=G};var o=r(n(1)),i=r(n(2));function r(e){return e&&e.__esModule?e:{default:e}}var s={},l={},d={},u={},c={},h=[];function f(e){var t=e.pos,n=e.style,i=void 0===n?null:n,r=e.ms,d=void 0===r?0:r,u=e.force,c=void 0!==u&&u,h=e.forceTimeout,_=void 0===h?600:h,v=e.onResize,I=void 0===v?null:v,m=e.onError,C=void 0===m?null:m;if(o.default.conf&&o.default.conf.banners&&o.default.conf.banners[t]){var w=o.default.conf.banners[t];if(w.enable){var y=void 0,S=s[t];S&&(y=l[S.adUnitId])&&(S.showed&&g(S.pos),(c||Date.now()-y.created>1e3*_)&&function(e){var t=l[e.adUnitId];if(t)t.hide(),t.destroy(),delete l[e.adUnitId]}(S)),d||(d=o.default.getConfig("banner_ms",120)),S||(S={adUnitId:w.adUnitId,pos:t,count:0,ms:d,duration:0,style:i,width:w.width?w.width>1?1:w.width:1,window:"*",data:[],onResize:I,onError:C,created:Date.now()},s[t]=S),S.count+=1,S.status="success",(y=l[S.adUnitId])||(y=l[S.adUnitId]=function(e){var t=e.banner,n=e.style,i=void 0===n?null:n,r=o.default.systemInfo.screenWidth*t.width,l=(o.default.systemInfo.screenHeight,wx.createBannerAd({adUnitId:t.adUnitId,style:a({left:0,top:0,width:r,height:180*r/750},i)}));return l.created=Date.now(),l.onError(function(e){t.status="error",t.error=e,t.timeout&&clearTimeout(t.timeout),t.timeout=null,t.showed=null,t.count=1,p(t,"error"),o.default.log("banner \u521b\u5efa\u5931\u8d25",t),s[t.pos]&&delete s[t.pos],t.onError&&t.onError(e)}),l.onResize(function(e){t.onResize&&t.onResize(e,l)}),l.onLoad(function(e){o.default.log("banner \u52a0\u8f7d\u5b8c\u6210",t),l.created=Date.now()}),l}({banner:S,style:i})),y&&(S.showed=Date.now(),setTimeout(function(){y.show()},.01),S.ms&&w.is_loop&&(S.timeout&&clearTimeout(S.timeout),S.timeout=setTimeout(function(){f({pos:t,style:i,ms:d,force:!0,onResize:I})},1e3*d)))}}else o.default.log("createBanner \u6ca1\u6709\u914d\u7f6e: "+t)}function g(e){var t=s[e];if(t&&t.showed){var n=l[t.adUnitId];if(n){var a=n.style,o=a.realWidth,i=a.realHeight,r=Date.now()-t.showed;return n.hide(),t.duration+=r,t.timeout&&clearTimeout(t.timeout),t.timeout=null,t.showed=null,t.window=o+"*"+Math.round(i),!0}}return!1}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"onHide",n={adUnitId:e.adUnitId,pos:e.pos,ms:e.ms,count:e.count,duration:e.duration,window:e.window,status:e.status,error:e.error,commit:t};e.count=0,e.duration=0,e.status="success",e.error="",e.data=[],o.default.log("postBannerData",n),o.default.post({url:"/log/ad/banner",data:n,success:function(e){o.default.log("\u63d0\u4ea4banner\u6570\u636e\u6210\u529f\uff1a",e)},fail:function(e){o.default.log("\u63d0\u4ea4banner\u6570\u636e\u5931\u8d25\uff1a",e)}})}function _(e){return o.default.conf&&o.default.conf.videos&&o.default.conf.videos[e]?o.default.conf.allow_video?!!o.default.conf.videos[e].enable:(o.default.log("\u89c6\u9891\u672a\u5f00\u542f\uff0c\u8bf7\u8f6c\u5230\u914d\u7f6eallow_video"),!1):(o.default.log("createVideo \u6ca1\u6709\u914d\u7f6e: "+e),!1)}function v(e){var t=e.pos,n=e.success,a=void 0===n?null:n,i=e.fail,r=void 0===i?null:i,s=e.complete,l=void 0===s?null:s;if(!_(t))return!1;var d={adUnitId:o.default.conf.videos[t].adUnitId,pos:t,status:"success",created:Date.now(),duration:0},u=wx.createRewardedVideoAd({adUnitId:d.adUnitId});function c(e){d.status="error",d.error=e,I(d),l&&l(e),r&&r(e),g()}function h(e){d.created=Date.now()}function f(e){l&&l(e),d.duration=Date.now()-d.created,e&&e.isEnded||void 0===e?a&&a({isEnded:!0,duration:d.duration}):(d.status="cancel",a&&a({isEnded:!1,duration:d.duration})),I(d),g()}function g(){u.offError(c),u.offLoad(h),u.offClose(f)}return u.onError(c),u.onLoad(h),u.onClose(f),u.show().catch(function(e){console.log("ws.createVideo error:",e),u.load().then(function(){return u.show()})}),!0}function I(e){o.default.post({url:"/log/ad/rewardedvideo",data:e,success:function(e){o.default.log("\u63d0\u4ea4\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u6210\u529f\uff1a",e)},fail:function(e){o.default.log("\u63d0\u4ea4\u6fc0\u52b1\u89c6\u9891\u6570\u636e\u5931\u8d25\uff1a",e)}})}function m(e){var t=e.pos,n=e.success,a=void 0===n?null:n,i=e.fail,r=void 0===i?null:i,s=e.complete,l=void 0===s?null:s,c=e.show,h=void 0===c||c;if(!function(e){return o.default.conf&&o.default.conf.interstices&&o.default.conf.interstices[e]?!!o.default.conf.interstices[e].enable:(o.default.log("createInterstitialAd \u6ca1\u6709\u914d\u7f6e: "+e),!1)}(t))return!1;var f=d[t];if(!f){var g=o.default.conf.interstices[t];f={adUnitId:g.adUnitId,pos:t,status:"success",created:Date.now(),duration:0,count:0},d[t]=f}var p=u[t];function _(e){f.status="error",f.error=e,f.count=1,w(f),l&&l(e),r&&r(e),m()}function v(e){console.log("interstitial load."),f.created=Date.now(),f.count+=1}function I(e){l&&l(e),f.duration+=Date.now()-f.created,m(),a&&a()}function m(){p.offError(_),p.offLoad(v),p.offClose(I)}return p&&!p._destroyed||(p=wx.createInterstitialAd({adUnitId:f.adUnitId}),u[t]=p,f.created=Date.now()),p.onError(_),p.onLoad(v),p.onClose(I),h&&p.show().catch(function(e){console.log("ws.createInterstitialAd error:",e),f.count>0&&f.count--,o.default.requireSDK("2.8.0")&&p.load().then(function(){return p.show()})}),!0}function C(e){var t=u[e];return!t||t._destroyed?(console.log("had no ad or interstice destroyed."),!1):(t.show(),!0)}function w(e){o.default.post({url:"/log/ad/interstitial",data:e,success:function(e){o.default.log("\u63d0\u4ea4\u63d2\u5c4f\u5e7f\u544a\u6570\u636e\u6210\u529f\uff1a",e)},fail:function(e){o.default.log("\u63d0\u4ea4\u63d2\u5c4f\u5e7f\u544a\u6570\u636e\u5931\u8d25\uff1a",e)}})}function y(e){var t;if(o.default.conf&&o.default.conf.games&&(o.default.conf.games[e]?t=o.default.conf.games[e]:o.default.conf.games.default&&(t=o.default.conf.games.default),t&&t.length>0)){o.default.tmp.getMoreGame||(o.default.tmp.getMoreGame={});var n=o.default.tmp.getMoreGame[e];return(!n||n>=t.length)&&(n=0),o.default.tmp.getMoreGame[e]=n+1,t[n]}}function S(e){var t;if(o.default.conf&&o.default.conf.games)if(o.default.conf.games[e]?t=o.default.conf.games[e]:o.default.conf.games.default&&(t=o.default.conf.games.default),t&&t.length>0){for(var n=[],a=0;a<t.length;a++)n.push(t[a].image);o.default.previewImage({urls:i.default.randomSort(n)})}else wx.showToast({title:"\u6ca1\u6709\u66f4\u591a\u6e38\u620f\uff01",icon:"info"});else wx.showToast({title:"\u6ca1\u6709\u66f4\u591a\u6e38\u620f\uff01",icon:"info"})}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;function t(e){var t=Date.now(),n=t-e.last;e.logs.push({ms:n,last:e.last,posted:!1}),e.total_ms+=n,e.last=t}if(!e||c[e])if(e)t(c[e]);else for(var n in c)t(c[n])}function M(e){return c&&c[e]?(c[e].showed&&R(e),c[e]):null}function T(e,t){var n=!1;for(var a in e)n=t[a]&&t[a].preload||!1,c[a]={pos:a,data:e[a]?e[a]:[],last:Date.now(),duration:0,total_ms:0,preload:n,logs:[],show_logs:[],click_logs:[],open_logs:[],showed:!n}}function B(e){var t=e.pos,n=void 0===t?"default":t,a=e.count,i=void 0===a?1:a,r=e.success,s=void 0===r?null:r,l=e.fail,d=void 0===l?null:l,u=e.force,h=void 0!==u&&u,f=e.preload,g=void 0!==f&&f,p=M(n);p&&!h?(g||(c[n].showed=!0),s&&s({code:0,data:p.data,key:"SUCCESS"})):o.default.get({url:"/game/ad",data:{pos:n,count:i},success:function(e){if(0==e.code){if(!Array.isArray(e.data)||Array.isArray(e.data)&&0!=e.data.length){var t={},a={};t[n]=e.data,a[n]={preload:g},T(t,a)}s&&s(e)}else d&&d(e)},fail:function(e){d&&d(e)}})}function D(e){var t=e.data,n=void 0===t?[{pos:"default",count:1,preload:!1}]:t,a=e.success,i=void 0===a?null:a,r=e.fail,s=void 0===r?null:r,l=e.force,d=void 0!==l&&l,u=!1,h=!0,f=!1,g=void 0;try{for(var p,_=n[Symbol.iterator]();!(h=(p=_.next()).done);h=!0)M(p.value.pos)&&!d||(u=!0)}catch(e){f=!0,g=e}finally{try{!h&&_.return&&_.return()}finally{if(f)throw g}}if(u)o.default.post({url:"/game/ad",data:{pos:n},success:function(e){if(0==e.code){if(e.data){var t={};for(var a in n)t[n[a].pos]={preload:n[a].preload||!1};T(e.data,t)}i&&i(e)}else s&&s(e)},fail:function(e){s&&s(e)}});else{var v={},I=!0,m=!1,C=void 0;try{for(var w,y=n[Symbol.iterator]();!(I=(w=y.next()).done);I=!0){var S=w.value;S.preload||(c[S.pos].showed=!0),v[S.pos]=c[S.pos].data}}catch(e){m=!0,C=e}finally{try{!I&&y.return&&y.return()}finally{if(m)throw C}}i&&i({code:0,data:v,key:"SUCCESS"})}}function E(e){var t=e.pos,n=void 0===t?"default":t,a=e.count,i=void 0===a?1:a,r=e.success,s=void 0===r?null:r,l=e.fail,d=void 0===l?null:l,u=e.force,h=void 0===u||u,f=e.preload,g=void 0!==f&&f,p=M(n);!h&&p?(g||(c[n].showed=!0),s&&s({code:0,data:p.data,key:"SUCCESS"})):o.default.get({url:"/game/ad/feature",data:{pos:n,count:i},success:function(e){if(0==e.code){if(!Array.isArray(e.data)||Array.isArray(e.data)&&0!=e.data.length){var t={},a={};t[n]=e.data,a[n]={preload:g},T(t,a)}s&&s(e)}else d&&d(e)},fail:function(e){d&&d(e)}})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";A(e),c[e]&&(c[e].showed=!1)}function G(e){var t=e.pos,n=e.ad,a=void 0===n?null:n;if(!t||!c[t]||!c[t].preload)return!1;if(a){if(c[t].show_logs&&c[t].show_logs.length>0)for(var o in c[t].show_logs)if(c[t].show_logs[o].id===a.id)return!1;c[t].show_logs.push(a)}else c.last=Date.now(),c[t].showed=!0;return A(t),!0}function b(e){var t=e.ad,n=e.pos,a=void 0===n?"default":n,i=e.redirect,r=void 0!==i&&i,s=e.success,l=void 0===s?null:s,d=e.fail,u=void 0===d?null:d,h=e.complete,f=void 0===h?null:h,g=e.isPostLog,p=void 0===g||g,_=t;function v(e){e.image?o.default.previewImage({urls:[e.image],success:function(t){o.default.log("tapGameAD, success"),o.default.conf.allow_ad_opened_log&&k({ad:e,pos:a}),l&&l(t)},fail:function(e){o.default.log("tapGameAD, fail"),u&&u(e)},complete:function(e){o.default.log("tapGameAD, complete"),f&&f(e)}}):o.default.log("tapGameAD\uff0cad\u53c2\u6570\u5185image\u5c5e\u6027\u7f3a\u5931")}function I(e){o.default.requireSDK("2.2.0")?e.appid?wx.navigateToMiniProgram({appId:e.appid,path:e.path,success:function(t){o.default.log("tapGameAD, success"),o.default.conf.allow_ad_opened_log&&k({ad:e,pos:a}),l&&l(t)},fail:function(e){o.default.log("tapGameAD, fail"),u&&u(e)},complete:function(e){o.default.log("tapGameAD, complete"),f&&f(e)}}):o.default.log("tapGameAD, ad\u53c2\u6570\u5185appid\u5c5e\u6027\u7f3a\u5931"):e.image?v(e):o.default.alert("\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u8fc7\u4f4e\uff0c\u65e0\u6cd5\u4f7f\u7528\u8be5\u529f\u80fd\uff0c\u8bf7\u5347\u7ea7\u5230\u6700\u65b0\u5fae\u4fe1\u7248\u672c\u540e\u91cd\u8bd5\u3002")}c&&c[a]&&_?(p&&L({ad:_,pos:a}),"code"==_.action?v(_):"navigate"==_.action?I(_):r?I(_):v(_)):o.default.log("tapGameAD pos\u65e0\u6548\uff0c\u6ca1\u6709\u5bf9\u5e94\u6570\u636e\uff0c\u6216\u672a\u4f20ad\u53c2\u6570")}function P(e){o.default.post({url:"/game/ad/log",data:e,success:function(t){for(var n=0;n<e.length;n++){var a=e[n];a.pos in c&&("show"==a.commit?(c[a.pos].logs=[],c[a.pos].show_logs=[]):"click"==a.commit?c[a.pos].click_logs=[]:"open"==a.commit&&(c[a.pos].open_logs=[]))}o.default.log("\u5e7f\u544a\u6570\u636e\u63d0\u4ea4\u6210\u529f\uff01")},fail:function(e){o.default.log("\u5e7f\u544a\u6570\u636e\u63d0\u4ea4\u5931\u8d25\uff01")}})}function L(e){var t=e.ad,n=e.pos,a=void 0===n?"default":n,o=e.post,i=void 0!==o&&o;if(!t||!t.cid||!t.id)return!1;var r={cid:t.cid,id:t.id,action:t.action};if(!i)return r.tid=t.tid,c[a].click_logs.push(r),!1;P([{pos:a||"default",tid:t.tid,commit:"click",data:[r]}])}function k(e){var t=e.ad,n=e.pos,a=void 0===n?"default":n,o=e.post,i=void 0!==o&&o;if(!t||!t.cid||!t.id)return!1;var r={cid:t.cid,id:t.id,action:t.action};if(!i)return r.tid=t.tid,c[a].open_logs.push(r),!1;P([{pos:a||"default",tid:t.tid,commit:"open",data:[r]}])}},function(e,t,n){var a;function o(e,t){e[t]=function(){var n;return e.mode=t,"aldShareAppMessage"==t&&(e.mode="shareAppMessage"),(n=wx)[t].apply(n,arguments)}}Object.defineProperty(t,"__esModule",{value:!0}),t.initHook=function(e){e.setMode=function(t){e.mode=t},o(e,"previewImage"),o(e,"openCustomerServiceConversation"),o(e,"shareAppMessage"),o(e,"aldShareAppMessage")},(a=n(1))&&a.__esModule},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};t.initInvite=function(e){e.getInviteCount=s,e.getInviteUsers=l,e.receiveInviteGift=d,e.receiveInviteGifts=u,e.openFromShare(h),e.openFromCode(f),e.onShareGift=g,e.requestShareGift=p,e.receiveShareGift=_,e.getWXACode=v,e.saveWXACode=I};var o,i=(o=n(1))&&o.__esModule?o:{default:o};function r(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function s(e){var t=e.pos,n=void 0===t?null:t,a=e.success,o=void 0===a?null:a,r=e.fail,s=void 0===r?null:r,l={};n&&(l.pos=n),i.default.get({url:"/invited/users/count",data:l,success:function(e){o&&o(e.data.count)},fail:function(e){s&&s(e)}})}function l(e){var t=e.pos,n=void 0===t?null:t,a=e.receive,o=void 0===a||a,r=e.skip,s=void 0===r?0:r,l=e.limit,d=void 0===l?-1:l,u=e.success,c=void 0===u?null:u,h=e.fail,f=void 0===h?null:h,g={skip:s,limit:d,receive:o};n&&(g.pos=n),i.default.get({url:"/invited/users",data:g,success:function(e){c&&c(e.data)},fail:function(e){f&&f(e)}})}function d(e){var t=e.user,n=e.pos,a=void 0===n?null:n,o=e.success,r=void 0===o?null:o,s=e.fail,l=void 0===s?null:s,d={users:[{id:t.id,gift:t.gift}]};a&&(d.pos=a),i.default.post({url:"/invited/gift/receive",data:d,success:function(e){r&&r(e.data.receive[0])},fail:function(e){l&&l(e)}})}function u(e){var t=e.users,n=e.pos,a=void 0===n?null:n,o=e.success,r=void 0===o?null:o,s=e.fail,l=void 0===s?null:s,d={users:[]},u=!0,c=!1,h=void 0;try{for(var f,g=t[Symbol.iterator]();!(u=(f=g.next()).done);u=!0){var p=f.value;d.users.push({id:p.id,gift:p.gift})}}catch(e){c=!0,h=e}finally{try{!u&&g.return&&g.return()}finally{if(c)throw h}}a&&(d.pos=a),i.default.post({url:"/invited/gift/receive",data:d,success:function(e){r&&r(e.data.receive)},fail:function(e){l&&l(e)}})}function c(e,t){if(t&&t.gift){var n={type:e,gift:t.gift,uid:t.uid,share_tid:t.share_tid},a=i.default.conf[t.gift];a&&(n.receive=!0),i.default.post({url:"/share/gift/log",data:n,success:function(e){if(a){var o=e.data;o.is_self&&a.not_allow_self?i.default.alert(a.not_allow_self_tip||"\u4e0d\u80fd\u9886\u53d6\u81ea\u5df1\u9001\u51fa\u7684\u793c\u7269\uff5e"):o.user_count>=(a.date_limit||2)?i.default.alert(a.date_limit_tip||"\u4eca\u5929\u5df2\u7ecf\u9886\u53d6\u592a\u591a\u6b21\u4e86\uff5e"):o.user_share_count>=(a.share_date_limit||1)?i.default.alert(a.share_date_limit_tip||"\u5df2\u7ecf\u9886\u53d6\u8fc7\u8be5\u793c\u7269\u4e86\uff5e"):o.count>=(a.limit||10)?i.default.alert(a.limit_tip||"\u8be5\u793c\u7269\u88ab\u9886\u5149\u4e86\uff5e"):(e={gift:t.gift,query:t,conf:a,options:n,data:o},i.default._onGiftCallback&&i.default._onGiftCallback(e))}}})}}function h(e){e.from;var t=e.query;e.options,c("share",t)}function f(e){e.from,e.scene,e.options,c("code",e.query)}function g(e){i.default._onGiftCallback=e}function p(e){var t=e.gifts,n=e.users,a=void 0===n||n,o=e.receive,r=void 0===o||o,s=e.dateLimit,l=void 0===s?0:s,d=e.cache,u=void 0===d?60:d,c=e.limit,h=void 0===c?0:c,f=e.success,g=void 0===f?null:f,p=e.fail,_=void 0===p?null:p;if("boolean"==typeof a&&"boolean"==typeof r&&"number"==typeof l&&"number"==typeof u&&"number"==typeof h){var v=!0,I=[t.sort().toString(),a,r,l,h].join("-");i.default.shareGiftTempData&&i.default.shareGiftTempData[I]&&Date.now()-i.default.shareGiftTempData[I].ms<1e3*u&&(v=!1),v?i.default.post({url:"/share/gift/receive",data:{gifts:t,is_users:a,receive:r,date_limit:l,limit:h},success:function(e){i.default.shareGiftTempData[I]={data:e.data,ms:Date.now()},g&&g(e.data)},fail:_}):g&&g(i.default.shareGiftTempData[I].data)}else i.default.log("requestShareGift, \u53c2\u6570\u683c\u5f0f\u5f02\u5e38")}function _(e){var t=e.users,n=e.success,a=void 0===n?null:n,o=e.fail,r=void 0===o?null:o;Array.isArray(t)?i.default.post({url:"/share/gift/receive2",data:{users:t},success:function(e){a&&a(e)},fail:function(e){r&&r(e)}}):i.default.log("receiveShareGift, users\u53c2\u6570\u683c\u5f0f\u9519\u8bef")}function v(e){var t=e.pos,n=e.bg,o=void 0===n||n,s=e.success,l=void 0===s?null:s,d=e.fail,u=void 0===d?null:d,c=r(e,["pos","bg","success","fail"]);i.default.post({url:"/share/qrcode",data:a({pos:t,bg:o,uid:i.default.user.id,share_tid:Date.now()+""},c),success:function(e){l&&l(e.data)},fail:u})}function I(e){var t=e.pos,n=e.bg,o=void 0===n||n,s=e.filePath,l=void 0===s?"":s,d=e.success,u=void 0===d?null:d,c=e.fail,h=void 0===c?null:c,f=e.complete,g=void 0===f?null:f,p=r(e,["pos","bg","filePath","success","fail","complete"]);v(a({pos:t,bg:o,success:function(e){!function(e){var t=e.codeUrl;wx.downloadFile({url:t,filePath:l,success:function(e){200==e.statusCode&&(i.default.alert("download success",e.tempFilePath),i.default.log("download success",e.tempFilePath),l||(l=e.tempFilePath,wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){u&&u(e)},fail:function(e){h&&h(e)},complete:function(e){g&&g(e)}})))},fail:function(e){h&&h(e)},complete:function(e){g&&g(e)}})}(e)},fail:h},p))}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initEvent=function(e){e.afterHide(function(){o.default.post({url:"/log/event",data:i,success:function(e){0==e.code&&(i.events=[]),o.default.log("\u4e8b\u4ef6\u65e5\u5fd7\u63d0\u4ea4\u6210\u529f\uff01")},fail:function(e){o.default.log("\u4e8b\u4ef6\u65e5\u5fd7\u63d0\u4ea4\u5931\u8d25\uff01")}})}),e.traceEvent=r};var a,o=(a=n(1))&&a.__esModule?a:{default:a},i={index:0,events:[]};function r(e,t){i.index+=1,i.events.push({event:e,data:t?JSON.stringify(t):null,tm:Date.now()})}},function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.initMessage=function(e){e.subscribeMessage=e.checkSDK("2.8.2",i)};var a,o=(a=n(1))&&a.__esModule?a:{default:a};function i(e){var t=e.success,n=void 0===t?null:t,a=e.fail,i=void 0===a?null:a,r=e.complete,s=void 0===r?null:r;if(!o.default.conf.msgTemplates||0===o.default.conf.msgTemplates.length)return o.default.log("\u540e\u53f0\u672a\u914d\u7f6e\u8ba2\u9605\u4fe1\u606f"),!1;wx.requestSubscribeMessage({tmplIds:o.default.conf.msgTemplates,success:function(e){o.default.log("\u8ba2\u9605\u6210\u529f\uff01"),function(e){o.default.post({url:"/message/subscribe/log",data:{res:e},success:function(e){o.default.log("\u8ba2\u9605\u65e5\u5fd7\u63d0\u4ea4\u6210\u529f\uff01")},fail:function(e){o.default.log("\u8ba2\u9605\u65e5\u5fd7\u63d0\u4ea4\u5931\u8d25\uff01")}})}(e),n&&n(e)},fail:function(e){o.default.log("\u8ba2\u9605\u5931\u8d25\uff01",e),i&&i(e)},complete:function(e){s&&s(e)}})}}]),cc._RF.pop()},{}]},{},["CCInspectorPluginMsg","inspector","Main","BaseBullet","CircularBullet","ClusterBullet","FrozenBullet","LaserBullet","NormalBullet","PenetrateBullet","RangeBullet","RayBullet","RepelBullet","VineBullet","BulletManager","GMControl","GMManager","GameControl","MonsterLifeBarManager","MonsterManager","TowerManager","BaseMonster","BeckonMonster","BlinkMonster","BombMonster","CloakingMonster","FissionMonster","GuardMonster","GuardPrefab","FrozenPrefab","VinePrefab","NormalMonster","ShieldMonster","SmallMonster","SmokeMonster","BaseTurret","Turret","DebugCom","MyAudio","MyDownLoader","MyLoader","QTTGameSDK","QuadTree","WxAudio","AudioManager","ConfigMgr","DelayTimeManager","DragonManager","EffectOrAnimationManager","EventEnum","EventManager","GameDataManager","OptimizeCreateManager","ParticEmissionMgr","PoolManager","RedDotManager","ResourceLoadManager","Const","FaceBookSDK","Global","GlobalManager","QQSDK","SDKManager","WeiXinAPPSDK","WeiXinWBSDK","ccNavigator","ws","BaseServer","CheckAwardServer","CheckIsLoadOver","CountPlayerDeadServer","CheckIsNewFriendsJoin","GetFriendsHelpDataServer","UpdateFriendsHelpServer","GetLoginAwardSever","GetLotteryCountServer","GetOpenIDServer","GetShareAwardServer","HangServer","HealthCheck","LoginServer","OnErrorCallServer","QTTGameServer","ReConnetionServer","RefreshGoldAndTowerServer","RefreshGoldServer","RefreshGuideCountServer","RefreshUserDataServer","ResetUserDataServer","SendUserIsShareServer","SendUserJoinStyleServer","ServerManager","SubQutoutiaoCoinServer","UnlockLocationSever","UpdateBuffServer","UpdateUserServer","UseLotteryCountServer","BaseWindow","BuildBtnPrefab","GMWnd","GameWnd","GoldWnd","MainWnd","ShareJoinPrefab","TowerPrefab","MainUI","MyMath","SwitchLanguage","Tools","WindowManager","WordEffManager","BuffListPrefab","BuyQTTCoinWnd","ConnectionDefWnd","DeadWnd","FindNewTowerWnd","FriendsHelpWnd","FriendsIconPrefab","GetFreeGoldWnd","GuideWnd","LoadRes2Wnd","LotteryWnd","MonsterComTipWnd","PauseWnd","RewardOf7DaysWnd","ShopListPrefab","ShopWnd","SuccessWnd","WarnWnd","LevelTag","FocusWnd","HangPrefab","HangWnd","LoginDefWnd","LoginWnd","StartWnd"]);